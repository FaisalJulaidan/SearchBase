(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){e.exports={Logo:"Solutions_Logo__vxUai",Trigger:"Solutions_Trigger__2LSyi",Header:"Solutions_Header__cCswa",Sider:"Solutions_Sider__cATdF",Panel:"Solutions_Panel__3Em0T",Panel_With_Header:"Solutions_Panel_With_Header__1ld8z",Panel_Header:"Solutions_Panel_Header__3ncZT",Panel_Body:"Solutions_Panel_Body__19X4S",Panel_Body_Only:"Solutions_Panel_Body_Only__1ScF6",Panel_Header_Button:"Solutions_Panel_Header_Button__11O6l",groupsList:"Solutions_groupsList__12ORy"}},120:function(e,t,a){e.exports={Logo:"Blocks_Logo__3EenA",Trigger:"Blocks_Trigger__3lu5V",Header:"Blocks_Header__26n00",Sider:"Blocks_Sider__1vIWa",Panel:"Blocks_Panel__Bbjus",Panel_With_Header:"Blocks_Panel_With_Header__2Oz2T",Panel_Header:"Blocks_Panel_Header__17iCM",Panel_Body:"Blocks_Panel_Body__2yUxP",Panel_Body_Only:"Blocks_Panel_Body_Only__1Gj-A",Panel_Header_Button:"Blocks_Panel_Header_Button__10_dQ"}},121:function(e,t,a){e.exports={Logo:"UserInput_Logo__20ebb",Trigger:"UserInput_Trigger__G2L1O",Header:"UserInput_Header__klDCI",Sider:"UserInput_Sider__MMQGv",Panel:"UserInput_Panel__2pYne",Panel_With_Header:"UserInput_Panel_With_Header__1ZK0O",Panel_Header:"UserInput_Panel_Header__1-qpz",Panel_Body:"UserInput_Panel_Body__13ePp",Panel_Body_Only:"UserInput_Panel_Body_Only___04Ph",Panel_Header_Button:"UserInput_Panel_Header_Button__2mK7o",ClearAllBtn:"UserInput_ClearAllBtn__39TDz"}},160:function(e,t,a){e.exports={Logo:"Profile_Logo__38p9S",Trigger:"Profile_Trigger__K7pqv",Header:"Profile_Header__nz7Sz",Sider:"Profile_Sider__3E2SK",Panel:"Profile_Panel__1jn2F",Panel_With_Header:"Profile_Panel_With_Header__2nzlV",Panel_Header:"Profile_Panel_Header__2wJcF",Panel_Body:"Profile_Panel_Body__1xwLF",Panel_Body_Only:"Profile_Panel_Body_Only__15Zq5",Panel_Header_Button:"Profile_Panel_Header_Button__2WhxI"}},162:function(e,t,a){e.exports={Logo:"Home_Logo__3QAfe",Trigger:"Home_Trigger__3dFyO",Header:"Home_Header__2Pzqj",Sider:"Home_Sider__3o5OO",Panel:"Home_Panel__2IH4H",Panel_With_Header:"Home_Panel_With_Header__2tEsh",Panel_Header:"Home_Panel_Header__1uniL",Panel_Body:"Home_Panel_Body__3d2sd",Panel_Body_Only:"Home_Panel_Body_Only__23Vve",Panel_Header_Button:"Home_Panel_Header_Button__mmeqI"}},163:function(e,t,a){e.exports={LoginBackground:"Login_LoginBackground__1vl63",LoginPanel:"Login_LoginPanel__k_BiB",fadeIn:"Login_fadeIn__VleXS","fade-in":"Login_fade-in__23ax_"}},202:function(e,t,a){e.exports={Logo:"Header_Logo__pPWqk",Trigger:"Header_Trigger__eWuBO",Header:"Header_Header__SmyVP",Sider:"Header_Sider__2FnLR",Panel:"Header_Panel__C4UsN",Panel_With_Header:"Header_Panel_With_Header__5mkk7",Panel_Header:"Header_Panel_Header__1uYtq",Panel_Body:"Header_Panel_Body__1O0FM",Panel_Body_Only:"Header_Panel_Body_Only__1obK3",Panel_Header_Button:"Header_Panel_Header_Button__2Ri6l"}},223:function(e,t,a){},286:function(e,t,a){e.exports={Logo:"Flow_Logo__hDNk3",Trigger:"Flow_Trigger__2boX1",Header:"Flow_Header__2WIFi",Sider:"Flow_Sider__34Dhn",Panel:"Flow_Panel__3bDX2",Panel_With_Header:"Flow_Panel_With_Header__2UfLu",Panel_Header:"Flow_Panel_Header__1JCa8",Panel_Body:"Flow_Panel_Body__UqCCW",Panel_Body_Only:"Flow_Panel_Body_Only__3Ge20",Panel_Header_Button:"Flow_Panel_Header_Button__1p-dn"}},291:function(e,t,a){e.exports=a(480)},296:function(e,t,a){},370:function(e,t,a){},373:function(e,t,a){},376:function(e,t,a){},380:function(e,t,a){},445:function(e,t,a){},447:function(e,t,a){},449:function(e,t,a){},452:function(e,t,a){},454:function(e,t,a){},480:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),s=a.n(o),l=(a(296),a(13)),i=a(14),c=a(16),u=a(15),p=a(17),d=a(671),h=a(656),m=a(670),f=a(672),b=a(39),g=a(69),E=Object(g.a)(),y=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("refresh");return e&&t?{Authorization:"Bearer "+e}:null},S=function(){var e=JSON.parse(localStorage.getItem("user"));return e||null},k=function(e,t){var a=JSON.parse(localStorage.getItem("user"));if(!a)return null;a.username=e+" "+t,localStorage.setItem("user",JSON.stringify(a))},_=function(){return!(!S()||!y())},v=a(654),w=a(655),T=function(e,t){v.a.success({message:e,description:t,duration:2.5,placement:"topRight"})},O=function(e,t){v.a.error({message:e,description:t})},I=function(e){return w.a.loading(e)},x=function(){w.a.destroy(),v.a.destroy()},D=a(118),G=a.n(D),A=a(42),B=a(106),C="LOGIN_REQUEST",j="LOGIN_SUCCESS",P="LOGIN_FAILURE",L="LOGOUT",U="AUTH_CHECK_TIMEOUT",N="REFRESH_TOKEN",F="FETCH_ASSISTANTS_REQUEST",M="ADD_ASSISTANTS_REQUEST",R="UPDATE_ASSISTANT_REQUEST",H="FETCH_FLOW_REQUEST",q="ADD_GROUP_REQUEST",V="EDIT_GROUP_REQUEST",W="DELETE_GROUP_REQUEST",Q="ADD_BLOCK_REQUEST",z="EDIT_BLOCK_REQUEST",K="DELETE_BLOCK_REQUEST",Y="UPDATE_BLOCKS_ORDER_REQUEST",J="GET_PROFILE_REQUEST",X="SAVE_PROFILE_DETAILS_REQUEST",Z="SAVE_DATA_SETTINGS_REQUEST",$="FETCH_CHATBOT_SESSIONS_REQUEST",ee="CLEAR_ALL_CHATBOT_SESSIONS_REQUEST",te="GET_SOLUTIONS_REQUEST",ae="ADD_SOLUTION_REQUEST",ne="EDIT_SOLUTION_REQUEST",re="UPDATE_SOLUTION_INFORMATION_TO_DISPLAY_REQUEST",oe="UPDATE_BUTTON_LINK_REQUEST",se="SEND_SOLUTION_ALERT_REQUEST",le="UPDATE_AUTOMATIC_SOLUTION_ALERTS_REQUEST",ie=a(90),ce=function(e, t){return Object(ie.a)({},e,t)},ue=JSON.parse(localStorage.getItem("user")),pe=ue?{isAuthenticated:!0,user:ue}:{isAuthenticated:!1,user:null},de={assistantList:[],isLoading:!1,errorMsg:null},he={isLoading:!1,errorMsg:null,blockGroups:[]},me={isLoading:!1,errorMsg:null},fe={profile:{},isLoading:!1,errorMsg:null},be={userInputs:[],isLoading:!1,errorMsg:null},ge={solutionsData:{},isLoading:!1,errorMsg:null},Ee=Object(A.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return ce(e,{errorMsg:null,isLoggingIn:!0});case j:return ce(e,{isLoggingIn:!1,isAuthenticated:!0,user:t.user});case P:return ce(e,{isLoggingIn:!1,isAuthenticated:!1,user:null,errorMsg:t.error.msg});case L:return ce(e,{isLoggingIn:!1,isAuthenticated:!1,user:null,errorMsg:null});default:return e}},assistant:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return ce(e,{assistantList:[],errorMsg:null,isLoading:!0});case"FETCH_ASSISTANTS_SUCCESS":return ce(e,{assistantList:t.assistantList,isLoading:!1});case"FETCH_ASSISTANTS_FAILURE":return ce(e,{assistantList:[],isLoading:!1,errorMsg:t.error.msg});case M:return ce(e,{errorMsg:null,isAdding:!0});case"ADD_ASSISTANT_SUCCESS":return ce(e,{successMsg:t.successMsg,isAdding:!1});case"ADD_ASSISTANT_FAILURE":return ce(e,{isAdding:!1,errorMsg:t.error.msg});case"CHANGE_ASSISTANT_STATUS_REQUEST":return ce(e,{errorMsg:null,isChanging:!0});case"CHANGE_ASSISTANT_STATUS_SUCCESS":return ce(e,{successMsg:t.successMsg,isChanging:!1});case"CHANGE_ASSISTANT_STATUS_FAILURE":return ce(e,{isChanging:!1,errorMsg:t.error.msg});default:return e}},flow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return ce(e,{isLoading:!0});case"FETCH_FLOW_SUCCESS":return ce(e,{isLoading:!1,blockGroups:t.blockGroups});case"FETCH_FLOW_FAILURE":return ce(e,{isLoading:!1,errorMsg:t.error.msg});case q:return ce(e,{isAddingGroup:!0});case"ADD_GROUP_SUCCESS":return ce(e,{isAddingGroup:!1,addSuccessMsg:t.msg});case"ADD_GROUP_FAILURE":return ce(e,{isAddingGroup:!1,errorMsg:t.error.msg});case V:return ce(e,{isEditingGroup:!0});case"EDIT_GROUP_SUCCESS":return ce(e,{isEditingGroup:!1,editSuccessMsg:t.msg});case"EDIT_GROUP_FAILURE":return ce(e,{isEditingGroup:!1,errorMsg:t.error.msg});case W:return ce(e,{isDeletingGroup:!0});case"DELETE_GROUP_SUCCESS":return ce(e,{isDeletingGroup:!1,deleteSuccessMsg:t.msg});case"DELETE_GROUP_FAILURE":return ce(e,{isDeletingGroup:!1,errorMsg:t.error.msg});case Q:return ce(e,{isAddingBlock:!0});case"ADD_BLOCK_SUCCESS":return ce(e,{isAddingBlock:!1,successMsg:t.msg});case"ADD_BLOCK_FAILURE":return ce(e,{isAddingBlock:!1,errorMsg:t.error.msg});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return ce(e,{successMsg:null,errorMsg:null,isLoading:!0});case"UPDATE_ASSISTANT_SUCCESS":return ce(e,{successMsg:t.successMsg,isLoading:!1});case"UPDATE_ASSISTANT_FAILURE":return ce(e,{isLoading:!1,errorMsg:t.error.msg});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return ce(e,{profile:{},errorMsg:null,isLoading:!0});case"GET_PROFILE_SUCCESS":return ce(e,{profile:t.profileData,isLoading:!1});case"GET_PROFILE_FAILURE":return ce(e,{profile:{},isLoading:!1,errorMsg:t.error.msg});case X:return ce(e,{successMsg:null,errorMsg:null,isLoading:!0});case"SAVE_PROFILE_DETAILS_SUCCESS":return ce(e,{successMsg:t.successMsg,isLoading:!1});case"SAVE_PROFILE_DETAILS_FAILURE":return ce(e,{isLoading:!1,errorMsg:t.error.msg});case Z:return ce(e,{successMsg:null,errorMsg:null,isLoading:!0});case"SAVE_DATA_SETTINGS_SUCCESS":return ce(e,{successMsg:t.successMsg,isLoading:!1});case"SAVE_DATA_SETTINGS_FAILURE":return ce(e,{isLoading:!1,errorMsg:t.error.msg});default:return e}},userInput:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return ce(e,{errorMsg:null,isLoading:!0});case"FETCH_CHATBOT_SESSIONS_SUCCESS":return console.log(t.userInputs),ce(e,{userInputs:t.userInputs,isLoading:!1});case"FETCH_CHATBOT_SESSIONS_FAILURE":return ce(e,{userInputs:[],isLoading:!1,errorMsg:t.error.msg});case ee:return ce(e,{errorMsg:null,isClearingAll:!0});case"CLEAR_ALL_CHATBOT_SESSIONS_SUCCESS":return ce(e,{isClearingAll:!1,userInputs:[],errorMsg:null});case"CLEAR_ALL_CHATBOT_SESSIONS_FAILURE":return ce(e,{isClearingAll:!1,errorMsg:t.error.msg});default:return e}},solutions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return ce(e,{errorMsg:null,isLoading:!0});case"GET_SOLUTIONS_SUCCESS":return ce(e,{solutionsData:t.solutionsData,isLoading:!1});case"GET_SOLUTIONS_FAILURE":return ce(e,{isLoading:!1,errorMsg:t.error.msg});case ae:return ce(e,{errorMsg:null,isLoading:!0});case"ADD_SOLUTION_SUCCESS":return ce(e,{isLoading:!1,message:t.message});case"ADD_SOLUTION_FAILURE":return ce(e,{isLoading:!1,errorMsg:t.error.msg});case ne:return ce(e,{errorMsg:null,isLoading:!0});case"EDIT_SOLUTION_SUCCESS":return ce(e,{isLoading:!1,message:t.message});case"EDIT_SOLUTION_FAILURE":return ce(e,{isLoading:!1,errorMsg:t.error.msg});case oe:return ce(e,{errorMsg:null,isLoading:!0});case"UPDATE_BUTTON_LINK_SUCCESS":return ce(e,{isLoading:!1,message:t.message});case"UPDATE_BUTTON_LINK_FAILURE":return ce(e,{isLoading:!1,errorMsg:t.error.msg});case se:return ce(e,{errorMsg:null,isLoading:!0});case"SEND_SOLUTION_ALERT_SUCCESS":return ce(e,{isLoading:!1,message:t.message});case"SEND_SOLUTION_ALERT_FAILURE":return ce(e,{isLoading:!1,errorMsg:t.error.msg});case le:return ce(e,{errorMsg:null,isLoading:!0});case"UPDATE_AUTOMATIC_SOLUTION_ALERTS_SUCCESS":return ce(e,{isLoading:!1,message:t.message});case"UPDATE_AUTOMATIC_SOLUTION_ALERTS_FAILURE":return ce(e,{isLoading:!1,errorMsg:t.error.msg});default:return e}}}),ye=a(10),Se=a.n(ye),ke=a(11);var _e={login:function(e,t){return{type:C,email:e,password:t}},loginSuccess:function(e){return{type:j,user:e}},loginFailure:function(e){return{type:P,error:e}},logout:function(){return{type:L}},refreshToken:function(e){return{type:N,refresh:e}},checkAuthTimeout:function(e,t){return{type:U,expirationTime:e,refresh:t}}},ve={fetchAssistants:function(){return{type:F}},fetchAssistantsSuccess:function(e){return{type:"FETCH_ASSISTANTS_SUCCESS",assistantList:e}},fetchAssistantsFailure:function(e){return{type:"FETCH_ASSISTANTS_FAILURE",error:e}},addAssistant:function(e){return{type:M,newAssistant:e}},addAssistantSuccess:function(e){return{type:"ADD_ASSISTANT_SUCCESS",successMsg:e}},addAssistantFailure:function(e){return{type:"ADD_ASSISTANT_FAILURE",error:e}},changeAssistantStatus:function(e){return{type:"CHANGE_ASSISTANT_STATUS_REQUEST",assistantID:e}},changeAssistantStatusSuccess:function(e,t,a){return{type:"CHANGE_ASSISTANT_STATUS_SUCCESS",successMsg:e,status:t,assistantID:a}},changeAssistantStatusFailure:function(e){return{type:"CHANGE_ASSISTANT_STATUS_FAILURE",error:e}}},we={fetchFlowRequest:function(e){return{type:H,assistantID:e}},fetchFlowSuccess:function(e){return{type:"FETCH_FLOW_SUCCESS",blockGroups:e.blockGroups}},fetchFlowFailure:function(e){return{type:"FETCH_FLOW_FAILURE",error:e}},addGroupRequest:function(e){return{type:q,ID:e.ID,newGroup:e.newGroup}},addGroupSuccess:function(e){return{type:"ADD_GROUP_SUCCESS",msg:e}},addGroupFailure:function(e){return{type:"ADD_GROUP_FAILURE",error:e}},editGroupRequest:function(e){return{type:V,ID:e.ID,editedGroup:e.editedGroup}},editGroupSuccess:function(e){return{type:"EDIT_GROUP_SUCCESS",msg:e}},editGroupFailure:function(e){return{type:"EDIT_GROUP_FAILURE",error:e}},deleteGroupRequest:function(e){return{type:W,assistantID:e.assistantID,deletedGroup:e.deletedGroup}},deleteGroupSuccess:function(e){return{type:"DELETE_GROUP_SUCCESS",msg:e}},deleteGroupFailure:function(e){return{type:"DELETE_GROUP_FAILURE",error:e}},addBlockRequest:function(e){var t=e.newBlock,a=e.assistantID,n=e.groupID;return{type:Q,newBlock:t,assistantID:a,groupID:n}},addBlockSuccess:function(e){return{type:"ADD_BLOCK_SUCCESS",msg:e}},addBlockFailure:function(e){return{type:"ADD_BLOCK_FAILURE",error:e}},editBlockRequest:function(e){var t=e.edittedBlock,a=e.assistantID,n=e.groupID;return{type:z,edittedBlock:t,assistantID:a,groupID:n}},editBlockSuccess:function(e){return{type:"EDIT_BLOCK_SUCCESS",msg:e}},editBlockFailure:function(e){return{type:"EDIT_BLOCK_FAILURE",error:e}},deleteBlockRequest:function(e){var t=e.deletedBlock,a=e.assistantID,n=e.groupID;return{type:K,deletedBlock:t,assistantID:a,groupID:n}},deleteBlockSuccess:function(e){return{type:"DELETE_BLOCK_SUCCESS",msg:e}},deleteBlockFailure:function(e){return{type:"DELETE_BLOCK_FAILURE",error:e}},updateBlocksOrderRequest:function(e){var t=e.newBlocksOrder,a=e.assistantID,n=e.groupID;return{type:Y,newBlocksOrder:t,assistantID:a,groupID:n}},updateBlocksOrderSuccess:function(e){return{type:"UPDATE_BLOCKS_ORDER_SUCCESS",msg:e}},updateBlocksOrderFailure:function(e){return{type:"UPDATE_BLOCKS_ORDER_FAILURE",error:e}}},Te={updateAssistantSettingsRequest:function(e){return Object(ie.a)({type:R},e)},updateAssistantSettingsSuccess:function(e){return{type:"UPDATE_ASSISTANT_SUCCESS",successMsg:e}},updateAssistantSettingsFailure:function(e){return{type:"UPDATE_ASSISTANT_FAILURE",error:e}}},Oe={getProfile:function(){return{type:J}},getProfileSuccess:function(e){return{type:"GET_PROFILE_SUCCESS",profileData:e}},getProfileFailure:function(e){return{type:"GET_PROFILE_FAILURE",error:e}},saveProfileDetails:function(e){return{type:X,profileData:e}},saveProfileDetailsSuccess:function(e){return{type:"SAVE_PROFILE_DETAILS_SUCCESS",successMessage:e}},saveProfileDetailsFailure:function(e){return{type:"SAVE_PROFILE_DETAILS_FAILURE",error:e}},saveDataSettings:function(e){return{type:Z,dataSettings:e}},saveDataSettingsSuccess:function(e){return{type:"SAVE_DATA_SETTINGS_SUCCESS",successMessage:e}},saveDataSettingsFailure:function(e){return{type:"SAVE_DATA_SETTINGS_FAILURE",error:e}}},Ie={fetchUserInputs:function(e){return{type:$,assistantID:e}},fetchUserInputsSuccess:function(e){return{type:"FETCH_CHATBOT_SESSIONS_SUCCESS",userInputs:e}},fetchUserInputsFailure:function(e){return{type:"FETCH_CHATBOT_SESSIONS_FAILURE",error:e}},clearAllUserInputs:function(e){return{type:ee,assistantID:e}},clearAllUserInputsSuccess:function(){return{type:"CLEAR_ALL_CHATBOT_SESSIONS_SUCCESS"}},clearAllUserInputsFailure:function(e){return{type:"CLEAR_ALL_CHATBOT_SESSIONS_FAILURE",error:e}}},xe={getSolutions:function(e){return{type:te,assistantID:e}},getSolutionsSuccess:function(e){return{type:"GET_SOLUTIONS_SUCCESS",solutionsData:e.data}},getSolutionsFailure:function(e){return{type:"GET_SOLUTIONS_FAILURE",error:e}},addSolution:function(e){return console.log(e),{type:ae,params:e}},addSolutionSuccess:function(e){return{type:"ADD_SOLUTION_SUCCESS",message:e}},addSolutionFailure:function(e){return{type:"ADD_SOLUTION_FAILURE",error:e}},editSolution:function(e){return{type:ne,params:e}},editSolutionSuccess:function(e){return{type:"EDIT_SOLUTION_SUCCESS",message:e}},editSolutionFailure:function(e){return{type:"EDIT_SOLUTION_FAILURE",error:e}},updateSolutionInformationToDisplay:function(e){return{type:re,params:e}},updateSolutionInformationToDisplaySuccess:function(e){return{type:"UPDATE_SOLUTION_INFORMATION_TO_DISPLAY_SUCCESS",params:e}},updateSolutionInformationToDisplayFailure:function(e){return{type:"UPDATE_SOLUTION_INFORMATION_TO_DISPLAY_FAILURE",params:e}},updateButtonLink:function(e){return{type:oe,params:e}},updateButtonLinkSuccess:function(e){return{type:"UPDATE_BUTTON_LINK_SUCCESS",params:e}},updateButtonLinkFailure:function(e){return{type:"UPDATE_BUTTON_LINK_FAILURE",params:e}},sendSolutionAlert:function(e){return{type:se,params:e}},sendSolutionAlertSuccess:function(e){return{type:"SEND_SOLUTION_ALERT_SUCCESS",params:e}},sendSolutionAlertFailure:function(e){return{type:"SEND_SOLUTION_ALERT_FAILURE",params:e}},updateAutomaticSolutions:function(e){return{type:le,params:e}},updateAutomaticSolutionsSuccess:function(e){return{type:"UPDATE_AUTOMATIC_SOLUTION_ALERTS_SUCCESS",params:e}},updateAutomaticSolutionsFailure:function(e){return{type:"UPDATE_AUTOMATIC_SOLUTION_ALERTS_FAILURE",params:e}}},De=Se.a.mark(Ne),Ge=Se.a.mark(Fe),Ae=Se.a.mark(Me),Be=Se.a.mark(Re),Ce=Se.a.mark(He),je=Se.a.mark(qe),Pe=Se.a.mark(Ve),Le=Se.a.mark(We),Ue=Se.a.mark(Qe);function Ne(e){var t,a;return Se.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.expirationTime,a=e.refresh,n.next=3,Object(B.b)(1e3*t);case 3:return n.next=5,Object(ke.b)(_e.refreshToken(a));case 5:case"end":return n.stop()}},De,this)}function Fe(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(U,Ne);case 2:case"end":return e.stop()}},Ge,this)}function Me(e){var t,a,n,r,o,s,l,i,c;return Se.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.email,a=e.password,u.prev=1,I("Logging you in..."),u.next=5,G.a.post("/api/auth",{email:t,password:a},{headers:{"Content-Type":"application/json"}});case 5:return n=u.sent,u.next=8,n.data.data;case 8:return r=u.sent,o=r.user,s=r.token,l=r.refresh,i=r.expiresIn,u.next=15,localStorage.setItem("user",JSON.stringify(o));case 15:return u.next=17,localStorage.setItem("token",s);case 17:return u.next=19,localStorage.setItem("refresh",l);case 19:return u.next=21,localStorage.setItem("expiresIn",i);case 21:return u.next=23,(new Date(i).getTime()-(new Date).getTime())/1e3;case 23:return c=u.sent,u.next=26,x();case 26:return u.next=28,Object(ke.b)(Oe.getProfile());case 28:return u.next=30,Object(ke.b)(_e.loginSuccess(o));case 30:return u.next=32,Object(ke.b)(_e.checkAuthTimeout(c,l));case 32:return u.next=34,E.push("/dashboard");case 34:u.next=45;break;case 36:return u.prev=36,u.t0=u.catch(1),console.log(u.t0),u.next=41,x();case 41:return u.next=43,O("Log in Unsuccessful",u.t0.response.data.msg);case 43:return u.next=45,Object(ke.b)(_e.loginFailure(u.t0.response.data));case 45:case"end":return u.stop()}},Ae,this,[[1,36]])}function Re(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.d)(C,Me);case 2:case"end":return e.stop()}},Be,this)}function He(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.clear();case 2:return e.next=4,E.push("/login");case 4:case"end":return e.stop()}},Ce,this)}function qe(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.d)(L,He);case 2:case"end":return e.stop()}},je,this)}function Ve(e){var t,a,n,r,o,s;return Se.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(t=e.refresh,l.prev=1,_()){l.next=4;break}throw new Error("Authentication Failed!");case 4:return l.next=6,G.a.post("/api/auth/refresh",null,{headers:{Authorization:"Bearer "+t}});case 6:return a=l.sent,n=a.data.data,r=n.token,o=n.expiresIn,l.next=10,localStorage.setItem("token",r);case 10:return l.next=12,localStorage.setItem("expiresIn",o);case 12:return l.next=14,(new Date(o).getTime()-(new Date).getTime())/1e3;case 14:return s=l.sent,l.next=17,Object(ke.b)(_e.checkAuthTimeout(s,t));case 17:l.next=24;break;case 19:return l.prev=19,l.t0=l.catch(1),console.log(l.t0),l.next=24,Object(ke.b)(_e.logout());case 24:case"end":return l.stop()}},Pe,this,[[1,19]])}function We(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(N,Ve);case 2:case"end":return e.stop()}},Le,this)}function Qe(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.a)([Re(),qe(),Fe(),We()]);case 2:case"end":return e.stop()}},Ue,this)}var ze=Se.a.mark(Ze),Ke=Se.a.mark($e),Ye=Se.a.mark(et),Je=Se.a.mark(tt),Xe=Se.a.mark(at);function Ze(){var e;return Se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,za.get("/assistants");case 3:return e=t.sent,t.next=6,Object(ke.b)(ve.fetchAssistantsSuccess(e.data.data));case 6:return t.abrupt("return",t.sent);case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0),t.next=14,Object(ke.b)(ve.fetchAssistantsFailure(t.t0.response.data));case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}},ze,this,[[0,9]])}function $e(e){var t,a;return Se.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.type,t=e.newAssistant,n.prev=1,n.next=4,za.post("/assistants",t);case 4:return a=n.sent,n.next=7,Object(ke.b)(ve.addAssistantSuccess(a.data.msg));case 7:return n.next=9,Object(ke.b)(ve.fetchAssistants());case 9:return n.abrupt("return",n.sent);case 12:n.prev=12,n.t0=n.catch(1),console.log(n.t0);case 15:case"end":return n.stop()}},Ke,this,[[1,12]])}function et(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(F,Ze);case 2:case"end":return e.stop()}},Ye,this)}function tt(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(M,$e);case 2:case"end":return e.stop()}},Je,this)}function at(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.a)([et(),tt()]);case 2:case"end":return e.stop()}},Xe,this)}var nt=Se.a.mark(St),rt=Se.a.mark(kt),ot=Se.a.mark(_t),st=Se.a.mark(vt),lt=Se.a.mark(wt),it=Se.a.mark(Tt),ct=Se.a.mark(Ot),ut=Se.a.mark(It),pt=Se.a.mark(xt),dt=Se.a.mark(Dt),ht=Se.a.mark(Gt),mt=Se.a.mark(At),ft=Se.a.mark(Bt),bt=Se.a.mark(Ct),gt=Se.a.mark(jt),Et=Se.a.mark(Pt),yt=Se.a.mark(Lt);function St(e){var t,a;return Se.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.assistantID,n.prev=1,n.next=4,za.get("/assistant/".concat(t,"/flow"));case 4:return a=n.sent,n.next=7,Object(ke.b)(we.fetchFlowSuccess(a.data.data));case 7:return n.abrupt("return",n.sent);case 10:return n.prev=10,n.t0=n.catch(1),console.log(n.t0),n.next=15,Object(ke.b)(we.fetchFlowFailure(n.t0.response.data));case 15:return n.abrupt("return",n.sent);case 16:case"end":return n.stop()}},nt,this,[[1,10]])}function kt(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(H,St);case 2:case"end":return e.stop()}},rt,this)}function _t(e){var t;return Se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,I("Adding Group"),a.next=4,za.post("/assistant/".concat(e.ID,"/flow/group"),e.newGroup);case 4:return t=a.sent,a.next=7,Object(ke.b)(we.addGroupSuccess(t.data.msg));case 7:return a.next=9,x();case 9:return a.next=11,T("Group Added",t.data.msg);case 11:return a.next=13,Object(ke.b)(we.fetchFlowRequest(e.ID));case 13:return a.abrupt("return",a.sent);case 16:return a.prev=16,a.t0=a.catch(0),console.log(a.t0),a.next=21,x();case 21:return a.next=23,Object(ke.b)(we.addGroupFailure(a.t0.response.data));case 23:return a.abrupt("return",a.sent);case 24:case"end":return a.stop()}},ot,this,[[0,16]])}function vt(e){var t;return Se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,I("Updating Group"),a.next=4,za.put("/assistant/".concat(e.ID,"/flow/group"),e.editedGroup);case 4:return t=a.sent,a.next=7,Object(ke.b)(we.editGroupSuccess(t.data.msg));case 7:return a.next=9,x();case 9:return a.next=11,T("Group Updated",t.data.msg);case 11:return a.next=13,Object(ke.b)(we.fetchFlowRequest(e.ID));case 13:return a.abrupt("return",a.sent);case 16:return a.prev=16,a.t0=a.catch(0),console.log(a.t0),a.next=21,x();case 21:return a.next=23,Object(ke.b)(we.editGroupFailure(a.t0.response.data));case 23:return a.abrupt("return",a.sent);case 24:case"end":return a.stop()}},st,this,[[0,16]])}function wt(e){var t,a,n;return Se.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.assistantID,a=e.deletedGroup,r.prev=1,I("Deleting Group"),r.next=5,za.delete("/assistant/".concat(t,"/flow/group"),{data:{id:a.id}});case 5:return n=r.sent,r.next=8,Object(ke.b)(we.deleteGroupSuccess(n.data.msg));case 8:return r.next=10,x();case 10:return r.next=12,T("Group Deleted",n.data.msg);case 12:return r.next=14,Object(ke.b)(we.fetchFlowRequest(t));case 14:return r.abrupt("return",r.sent);case 17:return r.prev=17,r.t0=r.catch(1),console.log(r.t0),r.next=22,x();case 22:return r.next=24,Object(ke.b)(we.deleteGroupFailure(r.t0.response.data));case 24:return r.abrupt("return",r.sent);case 25:case"end":return r.stop()}},lt,this,[[1,17]])}function Tt(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(q,_t);case 2:case"end":return e.stop()}},it,this)}function Ot(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(V,vt);case 2:case"end":return e.stop()}},ct,this)}function It(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(W,wt);case 2:case"end":return e.stop()}},ut,this)}function xt(e){var t,a,n,r;return Se.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.newBlock,a=e.groupID,n=e.assistantID,o.prev=1,I("Adding Block"),o.next=5,za.post("/assistant/flow/group/".concat(a,"/block"),t);case 5:return r=o.sent,o.next=8,x();case 8:return o.next=10,T("Block Added",r.data.msg);case 10:return o.next=12,Object(ke.b)(we.addBlockSuccess(r.data.msg));case 12:return o.next=14,Object(ke.b)(we.fetchFlowRequest(n));case 14:return o.abrupt("return",o.sent);case 17:return o.prev=17,o.t0=o.catch(1),console.log(o.t0),o.next=22,Object(ke.b)(we.addBlockFailure(o.t0.response.data));case 22:return o.abrupt("return",o.sent);case 23:case"end":return o.stop()}},pt,this,[[1,17]])}function Dt(e){var t,a,n,r,o;return Se.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.edittedBlock,a=e.groupID,n=e.assistantID,s.prev=1,I("Updating Block"),s.next=5,za.get("/assistant/".concat(n,"/flow"));case 5:return r=s.sent,o=[],r.data.data.blockGroups.map(function(e){e.id===a&&e.blocks.map(function(e){e.groupID||(e.groupID=a),e.id===t.id?o.push(t):o.push(e)})}),s.next=10,za.put("/assistant/".concat(n,"/flow"),{blocks:o});case 10:return r=s.sent,s.next=13,x();case 13:return s.next=15,T("Block Updated",r.data.msg);case 15:return s.next=17,Object(ke.b)(we.editBlockSuccess(r.data.msg));case 17:return s.next=19,Object(ke.b)(we.fetchFlowRequest(n));case 19:return s.abrupt("return",s.sent);case 22:return s.prev=22,s.t0=s.catch(1),console.log(s.t0),s.next=27,Object(ke.b)(we.editBlockFailure(s.t0.response.data));case 27:return s.abrupt("return",s.sent);case 28:case"end":return s.stop()}},dt,this,[[1,22]])}function Gt(e){var t,a,n,r;return Se.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.deletedBlock,a=e.assistantID,n=e.groupID,o.prev=1,I("Deleting Block"),o.next=5,za.delete("/assistant/flow/group/".concat(n,"/block"),{data:{id:t.id}});case 5:return r=o.sent,o.next=8,Object(ke.b)(we.deleteBlockSuccess(r.data.msg));case 8:return o.next=10,x();case 10:return o.next=12,T("Block Deleted",r.data.msg);case 12:return o.next=14,Object(ke.b)(we.fetchFlowRequest(a));case 14:return o.abrupt("return",o.sent);case 17:return o.prev=17,o.t0=o.catch(1),console.log(o.t0),o.next=22,Object(ke.b)(we.deleteBlockFailure(o.t0.response.data));case 22:return o.abrupt("return",o.sent);case 23:case"end":return o.stop()}},ht,this,[[1,17]])}function At(e){var t,a,n;return Se.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.newBlocksOrder,a=e.assistantID,r.prev=1,I("Updating Blocks Order"),r.next=5,za.put("/assistant/".concat(a,"/flow"),{blocks:t});case 5:return n=r.sent,r.next=8,Object(ke.b)(we.updateBlocksOrderSuccess(n.data.msg));case 8:return r.next=10,x();case 10:return r.next=12,T("Order Updated",n.data.msg);case 12:return r.abrupt("return",r.sent);case 15:return r.prev=15,r.t0=r.catch(1),console.log(r.t0),r.next=20,x();case 20:return r.next=22,O("Error in Block Delete",r.t0.message);case 22:return r.next=24,Object(ke.b)(we.updateBlocksOrderFailure(r.t0.response.data));case 24:return r.abrupt("return",r.sent);case 25:case"end":return r.stop()}},mt,this,[[1,15]])}function Bt(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(Q,xt);case 2:case"end":return e.stop()}},ft,this)}function Ct(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(z,Dt);case 2:case"end":return e.stop()}},bt,this)}function jt(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(K,Gt);case 2:case"end":return e.stop()}},gt,this)}function Pt(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(Y,At);case 2:case"end":return e.stop()}},Et,this)}function Lt(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.a)([kt(),Tt(),Ot(),It(),Bt(),Ct(),jt(),Pt()]);case 2:case"end":return e.stop()}},yt,this)}var Ut=Se.a.mark(Mt),Nt=Se.a.mark(Rt),Ft=Se.a.mark(Ht);function Mt(e){var t;return Se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,za.put("assistant/".concat(e.ID),e.updatedSettings);case 3:return t=a.sent,a.next=6,Object(ke.b)(Te.updateAssistantSettingsSuccess(t.data.msg));case 6:return a.next=8,Object(ke.b)(ve.fetchAssistants());case 8:return a.abrupt("return",a.sent);case 11:return a.prev=11,a.t0=a.catch(0),console.log(a.t0),a.next=16,Object(ke.b)(Te.updateAssistantSettingsFailure(a.t0.response.data));case 16:return a.abrupt("return",a.sent);case 17:case"end":return a.stop()}},Ut,this,[[0,11]])}function Rt(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(R,Mt);case 2:case"end":return e.stop()}},Nt,this)}function Ht(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.a)([Rt()]);case 2:case"end":return e.stop()}},Ft,this)}var qt=Se.a.mark(Jt),Vt=Se.a.mark(Xt),Wt=Se.a.mark(Zt),Qt=Se.a.mark($t),zt=Se.a.mark(ea),Kt=Se.a.mark(ta),Yt=Se.a.mark(aa);function Jt(){var e,t;return Se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,za.get("/profile");case 3:return e=a.sent,t=e.data.data,a.next=7,k(t.user.Firstname,t.user.Surname);case 7:return a.next=9,Object(ke.b)(Oe.getProfileSuccess(t));case 9:return a.abrupt("return",a.sent);case 12:return a.prev=12,a.t0=a.catch(0),console.log(a.t0),a.next=17,Object(ke.b)(Oe.getProfileFailure(a.t0.response.data));case 17:return a.abrupt("return",a.sent);case 18:case"end":return a.stop()}},qt,this,[[0,12]])}function Xt(e){var t;return Se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,I("Saving profile..."),a.next=4,za.post("/profile",e.profileData);case 4:return t=a.sent,a.next=7,Object(ke.b)(Oe.saveProfileDetailsSuccess(t.data.msg));case 7:return a.next=9,x();case 9:return a.next=11,T("Conversation Saved","Conversation details have been updated");case 11:return a.next=13,Object(ke.b)(Oe.getProfile());case 13:return a.abrupt("return",a.sent);case 16:return a.prev=16,a.t0=a.catch(0),console.log(a.t0),a.next=21,x();case 21:return a.next=23,Object(ke.b)(Oe.saveProfileDetailsFailure(a.t0.response.data));case 23:return a.abrupt("return",a.sent);case 24:case"end":return a.stop()}},Vt,this,[[0,16]])}function Zt(e){var t;return Se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,I("Saving Data Settings"),a.next=4,za.post("/profile/settings",e.dataSettings);case 4:return t=a.sent,a.next=7,x();case 7:return a.next=9,T("Data Settings saved",t.data.msg);case 9:return a.next=11,Object(ke.b)(Oe.saveDataSettingsSuccess(t.data.msg));case 11:return a.next=13,Object(ke.b)(Oe.getProfile());case 13:return a.abrupt("return",a.sent);case 16:return a.prev=16,a.t0=a.catch(0),console.log(a.t0),a.next=21,x();case 21:return a.next=23,O("Error in saving Data Settings",a.t0.response.data.msg);case 23:return a.next=25,Object(ke.b)(Oe.saveDataSettingsFailure(a.t0.response.data));case 25:return a.abrupt("return",a.sent);case 26:case"end":return a.stop()}},Wt,this,[[0,16]])}function $t(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(J,Jt);case 2:case"end":return e.stop()}},Qt,this)}function ea(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(X,Xt);case 2:case"end":return e.stop()}},zt,this)}function ta(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(Z,Zt);case 2:case"end":return e.stop()}},Kt,this)}function aa(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.a)([$t(),ea(),ta()]);case 2:case"end":return e.stop()}},Yt,this)}var na=Se.a.mark(ia),ra=Se.a.mark(ca),oa=Se.a.mark(ua),sa=Se.a.mark(pa),la=Se.a.mark(da);function ia(e){var t,a;return Se.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.assistantID,n.prev=1,n.next=4,za.get("/assistant/".concat(t,"/userinput"));case 4:return a=n.sent,n.next=7,Object(ke.b)(Ie.fetchUserInputsSuccess(a.data.data));case 7:return n.abrupt("return",n.sent);case 10:return n.prev=10,n.t0=n.catch(1),console.log(n.t0),n.next=15,Object(ke.b)(Ie.fetchUserInputsFailure(n.t0));case 15:return n.abrupt("return",n.sent);case 16:case"end":return n.stop()}},na,this,[[1,10]])}function ca(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)($,ia);case 2:case"end":return e.stop()}},ra,this)}function ua(e){var t,a;return Se.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.assistantID,n.prev=1,n.next=4,za.delete("/assistant/".concat(t,"/userinput"));case 4:return a=n.sent,n.next=7,Object(ke.b)(Ie.clearAllUserInputsSuccess());case 7:return n.next=9,T("Cleared Successfully",a.data.msg);case 9:return n.abrupt("return",n.sent);case 12:return n.prev=12,n.t0=n.catch(1),console.log(n.t0),n.next=17,Object(ke.b)(Ie.clearAllUserInputsFailure(n.t0));case 17:return n.next=19,O("Error","Sorry, we could'nt clear all the records!");case 19:return n.abrupt("return",n.sent);case 20:case"end":return n.stop()}},oa,this,[[1,12]])}function pa(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(ee,ua);case 2:case"end":return e.stop()}},sa,this)}function da(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.a)([ca(),pa()]);case 2:case"end":return e.stop()}},la,this)}var ha=Se.a.mark(xa),ma=Se.a.mark(Da),fa=Se.a.mark(Ga),ba=Se.a.mark(Aa),ga=Se.a.mark(Ba),Ea=Se.a.mark(Ca),ya=Se.a.mark(ja),Sa=Se.a.mark(Pa),ka=Se.a.mark(La),_a=Se.a.mark(Ua),va=Se.a.mark(Na),wa=Se.a.mark(Fa),Ta=Se.a.mark(Ma),Oa=Se.a.mark(Ra),Ia=Se.a.mark(Ha);function xa(e){var t,a;return Se.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.assistantID,n.prev=1,n.next=4,za.get("/assistant/".concat(t,"/solutionsData"));case 4:return a=n.sent,n.next=7,Object(ke.b)(xe.getSolutionsSuccess(a.data));case 7:return n.abrupt("return",n.sent);case 10:return n.prev=10,n.t0=n.catch(1),console.log(n.t0),n.next=15,Object(ke.b)(xe.getSolutionsFailure(n.t0.response.data));case 15:return n.abrupt("return",n.sent);case 16:case"end":return n.stop()}},ha,this,[[1,10]])}function Da(e){var t;return Se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,I("Adding Solution"),a.next=4,za.put("/assistant/".concat(e.params.ID,"/solutionsData"),e.params.newSolution);case 4:return t=a.sent,a.next=7,x();case 7:return a.next=9,T("Solution Added",t.data.msg);case 9:return a.next=11,Object(ke.b)(xe.addSolutionSuccess(t.message));case 11:return a.next=13,Object(ke.b)(xe.getSolutions(e.params.ID));case 13:a.next=24;break;case 15:return a.prev=15,a.t0=a.catch(0),console.log(a.t0.response),a.next=20,x();case 20:return a.next=22,O("Error in adding Solution",a.t0.response.data.msg);case 22:return a.next=24,Object(ke.b)(xe.addSolutionFailure(a.t0.response.data));case 24:case"end":return a.stop()}},ma,this,[[0,15]])}function Ga(e){var t;return Se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,I("Editing Solution"),a.next=4,za.post("/assistant/".concat(e.params.ID,"/solutionsData"),e.params.editedSolution);case 4:return t=a.sent,a.next=7,x();case 7:return a.next=9,T("Solution Edited",t.data.msg);case 9:return a.next=11,Object(ke.b)(xe.editSolutionSuccess(t.message));case 11:return a.next=13,Object(ke.b)(xe.getSolutions(e.params.ID));case 13:a.next=24;break;case 15:return a.prev=15,a.t0=a.catch(0),console.log(a.t0.response),a.next=20,x();case 20:return a.next=22,O("Error in editing Solution",a.t0.response.data.msg);case 22:return a.next=24,Object(ke.b)(xe.editSolutionFailure(a.t0.response.data));case 24:case"end":return a.stop()}},fa,this,[[0,15]])}function Aa(e){var t;return Se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,I("Editing Display Settings"),a.next=4,za.post("/assistant/savedisplaytitles/".concat(e.params.solutionID),e.params.information);case 4:return t=a.sent,a.next=7,x();case 7:return a.next=9,T("Display Settings have been edited",t.data.msg);case 9:return a.next=11,Object(ke.b)(xe.updateSolutionInformationToDisplaySuccess(t.message));case 11:a.next=20;break;case 13:return a.prev=13,a.t0=a.catch(0),console.log(a.t0.response),a.next=18,O("Error in editing Display Settings",a.t0.response.data.msg);case 18:return a.next=20,Object(ke.b)(xe.updateSolutionInformationToDisplayFailure(a.t0.response.data));case 20:case"end":return a.stop()}},ba,this,[[0,13]])}function Ba(e){var t;return Se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,I("Updating Button Link"),a.next=4,za.post("/assistant/savesolutionweblink/".concat(e.params.solutionID),e.params.information);case 4:return t=a.sent,a.next=7,x();case 7:return a.next=9,T("Button Link has been updated",t.data.msg);case 9:return a.next=11,Object(ke.b)(xe.updateButtonLinkSuccess(t.message));case 11:a.next=20;break;case 13:return a.prev=13,a.t0=a.catch(0),console.log(a.t0.response),a.next=18,O("Error in updating Button Link",a.t0.response.data.msg);case 18:return a.next=20,Object(ke.b)(xe.updateButtonLinkFailure(a.t0.response.data));case 20:case"end":return a.stop()}},ga,this,[[0,13]])}function Ca(e){var t;return Se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,I("Sending Solution Alerts"),a.next=4,za.post("/assistant/".concat(e.params.assistantID,"/sendsolutionalerts/").concat(e.params.solutionID));case 4:return t=a.sent,a.next=7,x();case 7:return a.next=9,T("Solution Alerts have been sent",t.data.msg);case 9:return a.next=11,Object(ke.b)(xe.sendSolutionAlertSuccess(t.message));case 11:a.next=20;break;case 13:return a.prev=13,a.t0=a.catch(0),console.log(a.t0.response),a.next=18,O("Error in sending Solution Alerts",a.t0.response.data.msg);case 18:return a.next=20,Object(ke.b)(xe.sendSolutionAlertFailure(a.t0.response.data));case 20:case"end":return a.stop()}},Ea,this,[[0,13]])}function ja(e){var t;return Se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,I("Updating Automatic Solution Alerts"),a.next=4,za.post("/assistant/automaticsolutionalerts/".concat(e.params.solutionID),e.params.information);case 4:return t=a.sent,a.next=7,x();case 7:return a.next=9,T("Automatic Solution Alerts have been updated",t.data.msg);case 9:return a.next=11,Object(ke.b)(xe.updateAutomaticSolutionsSuccess(t.message));case 11:a.next=20;break;case 13:return a.prev=13,a.t0=a.catch(0),console.log(a.t0.response),a.next=18,O("Error in updating Automatic Solution Alerts",a.t0.response.data.msg);case 18:return a.next=20,Object(ke.b)(xe.updateAutomaticSolutionsFailure(a.t0.response.data));case 20:case"end":return a.stop()}},ya,this,[[0,13]])}function Pa(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(te,xa);case 2:case"end":return e.stop()}},Sa,this)}function La(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(ae,Da);case 2:case"end":return e.stop()}},ka,this)}function Ua(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(ne,Ga);case 2:case"end":return e.stop()}},_a,this)}function Na(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(re,Aa);case 2:case"end":return e.stop()}},va,this)}function Fa(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(oe,Ba);case 2:case"end":return e.stop()}},wa,this)}function Ma(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(se,Ca);case 2:case"end":return e.stop()}},Ta,this)}function Ra(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.c)(le,ja);case 2:case"end":return e.stop()}},Oa,this)}function Ha(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.a)([Pa(),La(),Ua(),Na(),Fa(),Ma(),Ra()]);case 2:case"end":return e.stop()}},Ia,this)}var qa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.d,Va=Object(B.a)(),Wa=Object(A.e)(Ee,qa(Object(A.a)(Va)));Va.run(Lt),Va.run(at),Va.run(Qe),Va.run(Ht),Va.run(aa),Va.run(da),Va.run(Ha);var Qa=Wa,za=G.a.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});za.interceptors.request.use(function(e){var t=y();if(!t)throw new Error("Token required!");return e.headers=t,e},function(e){return console.log(e),Promise.reject(e)}),za.interceptors.response.use(function(e){return e},function(e){return 401===e.response.status&&(console.log("Axios Unauthorised"),Qa.dispatch(_e.logout())),Promise.reject(e)});var Ka=a(275),Ya=new(a.n(Ka).a)("b9iLXiAa",5),Ja=function(e){return Ya.encode(e)},Xa=(a(370),a(484)),Za=function(e){var t=e.component,a=Object(Xa.a)(e,["component"]);return console.log("Check Authenticity",_()),r.a.createElement(h.a,Object.assign({},a,{render:function(e){return _()?r.a.createElement(t,e):r.a.createElement(m.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},$a=a(653),en=a(669),tn=a(659),an=a(23),nn=a(111),rn=(a(373),a(94)),on=a.n(rn),sn=a(66),ln=a(668),cn=(a(376),a(82)),un=a.n(cn),pn=(a(223),a(667)),dn=a(657),hn=a(658),mn=a(56),fn=(a(380),a(661)),bn=a(663),gn=a(665),En=a(666),yn=fn.a.Item,Sn=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isPopupDisabled:a.props.assistant.SecondsUntilPopup<=0},a.togglePopupSwitch=function(){a.setState({isPopupDisabled:!a.state.isPopupDisabled})},a.handleSave=function(){a.props.form.validateFields(function(e,t){e||(a.state.isPopupDisabled&&(t.secondsUntilPopup=0),a.props.handleSave(t))})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({inputValue:this.props.assistant.SecondsUntilPopup})}},{key:"render",value:function(){var e={labelCol:{span:6},wrapperCol:{span:14}},t=this.props.form.getFieldDecorator,a=this.props.assistant;this.state.inputValue;return r.a.createElement(bn.a,{title:"Edit Assistant",visible:this.props.visible,width:800,destroyOnClose:!0,onCancel:this.props.handleCancel,footer:[r.a.createElement(sn.a,{key:"cancel",onClick:this.props.handleCancel},"Cancel"),r.a.createElement(sn.a,{key:"submit",type:"primary",onClick:this.handleSave},"Save")]},r.a.createElement(fn.a,{layout:"horizontal"},r.a.createElement(yn,Object.assign({label:"Assistant Name",extra:"Enter a name for your assistant to easily identify it in the dashboard"},e),t("assistantName",{initialValue:a.Name,rules:[{required:!0,message:"Please input your assistant name"}]})(r.a.createElement(gn.a,{placeholder:"Ex: My first assistant, Sales Assistant"}))),r.a.createElement(yn,Object.assign({label:"Welcome Message",extra:"This will be sent as first message"},e),t("welcomeMessage",{initialValue:a.Message,rules:[{required:!0,message:"Please input your welcome message"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Hey there, Welcome visitor"}))),r.a.createElement(yn,Object.assign({label:"Header Title",extra:"This will apear on top of your chatbot"},e),t("topBarTitle",{initialValue:a.TopBarText,rules:[{required:!0,message:"Please input your header title"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Recruiter Bot"}))),r.a.createElement(yn,Object.assign({},e,{label:"Time to Popup",extra:"This will enforce the assistants' (chatbot) to popup automatically"}),r.a.createElement(dn.a,{checked:!this.state.isPopupDisabled,onChange:this.togglePopupSwitch,style:{marginRight:"5px"}}),t("secondsUntilPopup",{initialValue:0===a.SecondsUntilPopup?1:a.SecondsUntilPopup})(r.a.createElement(En.a,{disabled:this.state.isPopupDisabled,min:1})),r.a.createElement("span",{className:"ant-form-text"}," seconds"))))}}]),t}(n.Component),kn=fn.a.create()(Sn),_n=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSave=function(e){a.props.hideModal(),a.props.dispatch(Te.updateAssistantSettingsRequest({ID:a.props.assistant.ID,updatedSettings:e}))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(kn,{assistant:this.props.assistant,visible:this.props.visible,handleSave:this.handleSave,handleCancel:this.props.hideModal})}}]),t}(n.Component),vn=Object(mn.a)(function(e){return{isLoading:e.settings.isLoading}})(_n),wn=pn.a.Meta,Tn=["https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/active_support_6rwo.svg","https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/voice_control_ofo1.svg","https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/group_chat_v059.svg","https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/status_update_jjgk.svg","https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/messages1_9ah2.svg"],On=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.showModal=function(){a.setState({visible:!0})},a.hideModal=function(){a.setState({visible:!1})},a.onActiveChanged=function(){},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.assistant;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pn.a,{loading:this.props.isLoading,style:{width:300,margin:15,float:"left",height:369},cover:r.a.createElement("img",{alt:"example",height:200,width:"100%",src:Tn[Math.floor(Math.random()*Tn.length)]}),title:e.Name,extra:r.a.createElement(dn.a,{defaultChecked:e.Active,onChange:this.onActiveChanged}),actions:[r.a.createElement("div",{onClick:this.showModal},r.a.createElement(an.a,{type:"setting"}),r.a.createElement("span",null," Settings")),r.a.createElement("div",null,r.a.createElement(hn.a,{to:{pathname:"assistants/".concat(e.ID,"/flow"),state:{assistant:e}}},r.a.createElement(an.a,{type:"build"}),r.a.createElement("span",null," Flow"))),r.a.createElement(nn.a,{overlay:function(e){return r.a.createElement($a.a,null,r.a.createElement($a.a.Item,{key:"1"},r.a.createElement(hn.a,{to:{pathname:"assistants/".concat(e.ID,"/solutions"),state:{assistant:e}}},r.a.createElement(an.a,{type:"database"})," Solutions")),r.a.createElement($a.a.Item,{key:"2"},r.a.createElement(hn.a,{to:{pathname:"assistants/".concat(e.ID,"/chatbotSessions"),state:{assistant:e}}},r.a.createElement(an.a,{type:"code"})," User Input")),r.a.createElement($a.a.Item,{key:"3"},r.a.createElement(hn.a,{to:{pathname:"assistants/".concat(e.ID,"/analytics"),state:{assistant:e}}},r.a.createElement(an.a,{type:"line-chart"})," Analytics")),r.a.createElement($a.a.Divider,null),r.a.createElement($a.a.Item,{key:"4"},r.a.createElement(hn.a,{to:{pathname:"assistants/".concat(e.ID,"/integration"),state:{assistant:e}}},r.a.createElement(an.a,{type:"sync"})," Integration")))}(e),trigger:["click"]},r.a.createElement("a",{className:"ant-dropdown-link"},"..."))]},r.a.createElement(wn,{description:e.TopBarText})),r.a.createElement(vn,{assistant:e,hideModal:this.hideModal,visible:this.state.visible}))}}]),t}(n.Component),In=(a(445),a(109)),xn=fn.a.Item,Dn=In.a.Option,Gn=function(){w.a.loading("Adding assistant",0)},An=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isPopupDisabled:!0},a.togglePopupSwitch=function(){a.setState({isPopupDisabled:!a.state.isPopupDisabled})},a.handleAdd=function(){a.props.form.validateFields(function(e,t){e||(a.state.isPopupDisabled&&(t.secondsUntilPopup=0),console.log(t),a.props.dispatch(ve.addAssistant(t)),Gn())})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.isAdding||this.props.isAdding===e.isAdding||(this.props.hideModal(),w.a.destroy(),w.a.success(this.props.successMsg))}},{key:"render",value:function(){var e={labelCol:{span:6},wrapperCol:{span:14}},t=this.props.form.getFieldDecorator;return r.a.createElement(bn.a,{width:800,title:"Create New Assistant",visible:this.props.visible,onOk:this.handleOk,onCancel:this.handleCancel,destroyOnClose:!0,footer:[r.a.createElement(sn.a,{key:"cancel",onClick:this.props.hideModal},"Cancel"),r.a.createElement(sn.a,{key:"submit",type:"primary",onClick:this.handleAdd},"Add")]},r.a.createElement(fn.a,{layout:"horizontal"},r.a.createElement(xn,Object.assign({label:"Assistant Name",extra:"Enter a name for your assistant to easily identify it in the dashboard"},e),t("assistantName",{rules:[{required:!0,message:"Please input your assistant name"}]})(r.a.createElement(gn.a,{placeholder:"Ex: My first assistant, Sales Assistant"}))),r.a.createElement(xn,Object.assign({label:"Welcome Message",extra:"This will be sent as first message"},e),t("welcomeMessage",{rules:[{required:!0,message:"Please input your welcome message"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Hey there, Welcome visitor"}))),r.a.createElement(xn,Object.assign({label:"Header Title",extra:"This will apear on top of your chatbot"},e),t("topBarTitle",{rules:[{required:!0,message:"Please input your header title"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Recruiter Bot"}))),r.a.createElement(xn,Object.assign({},e,{label:"Time to Popup",extra:"This will enforce the assistants' (chatbot) to popup automatically"}),r.a.createElement(dn.a,{defaultChecked:!1,onChange:this.togglePopupSwitch,style:{marginRight:"5px"}}),t("secondsUntilPopup",{initialValue:1})(r.a.createElement(En.a,{disabled:this.state.isPopupDisabled,min:1})),r.a.createElement("span",{className:"ant-form-text"}," seconds")),r.a.createElement(xn,Object.assign({},e,{label:"Assistant Template"}),t("template")(r.a.createElement(In.a,{placeholder:"Please select template"},r.a.createElement(Dn,{value:"recruitment"},"Recruitment"),r.a.createElement(Dn,{value:"Shopping"},"Shopping"),r.a.createElement(Dn,{value:"Sales"},"Sales"))))))}}]),t}(n.Component);var Bn=Object(b.b)(function(e){return{successMsg:e.assistant.successMsg,isAdding:e.assistant.isAdding}})(fn.a.create()(An)),Cn=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.showModal=function(){a.setState({visible:!0})},a.hideModal=function(){a.setState({visible:!1})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){Boolean(this.props.successSettings)&&Boolean(e.successSettings)!==Boolean(this.props.successSettings)&&w.a.success(this.props.successSettings),Boolean(this.props.errorSettings)&&Boolean(e.errorSettings)!==Boolean(this.props.errorSettings)&&w.a.error(this.props.errorSettings)}},{key:"componentDidMount",value:function(){this.props.dispatch(ve.fetchAssistants())}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("div",{className:un.a.Panel},r.a.createElement("div",{className:un.a.Panel_Header},r.a.createElement("div",null,r.a.createElement("h3",null,"Assistants List"),r.a.createElement("p",null,"Here you can see all assistants created by you")),r.a.createElement("div",null,r.a.createElement(sn.a,{className:un.a.Panel_Header_Button,type:"primary",icon:"plus",onClick:this.showModal},"Add Assistant"))),r.a.createElement("div",{className:un.a.Panel_Body},r.a.createElement("div",{className:un.a.AssistantsList},this.props.assistantList[0]?this.props.assistantList.map(function(t,a){return r.a.createElement(On,{assistant:t,key:a,index:a,isLoading:e.props.isLoading})}):r.a.createElement(ln.a,{active:!0})))),r.a.createElement(Bn,{visible:this.state.visible,hideModal:this.hideModal}))}}]),t}(n.Component);var jn=Object(b.b)(function(e){return{assistantList:e.assistant.assistantList,isLoading:e.assistant.isLoading,successSettings:e.settings.successMsg,errorSettings:e.settings.errorMsg}})(Cn),Pn=(a(447),a(449),a(95)),Ln=a.n(Pn),Un=a(232),Nn=a(674),Fn=(a(452),fn.a.Item),Mn=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleSave=function(){return a.props.form.validateFields(function(e,t){e||a.props.handleSave(t)})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={labelCol:{span:6},wrapperCol:{span:14}},t=this.props.form.getFieldDecorator;return r.a.createElement(bn.a,{width:800,title:"Create New Group",destroyOnClose:!0,visible:this.props.visible,onOk:this.props.handleSave,onCancel:this.props.handleCancel,footer:[r.a.createElement(sn.a,{key:"Cancel",onClick:this.props.handleCancel},"Cancel"),r.a.createElement(sn.a,{key:"submit",type:"primary",onClick:this.handleSave},"Add")]},r.a.createElement(fn.a,{layout:"horizontal"},r.a.createElement(Fn,Object.assign({label:"Group Name",extra:"Enter a name for your group to easily identify it in the group list"},e),t("name",{rules:[{required:!0,message:"Please enter your group name"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Greetings group, Sales group"}))),r.a.createElement(Fn,Object.assign({label:"Group Description",extra:"Just a description for you"},e),t("description",{rules:[{required:!0,message:"Please add description to your group name"}]})(r.a.createElement(gn.a,{placeholder:"Ex: this is first group, this group help get info from user"})))))}}]),t}(n.Component),Rn=fn.a.create()(Mn),Hn=fn.a.Item,qn=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleUpdate=function(){return a.props.form.validateFields(function(e,t){e||(a.props.group.name=t.name,a.props.group.description=t.description,a.props.handleUpdate(a.props.group))})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t={labelCol:{span:6},wrapperCol:{span:14}},a=this.props.form.getFieldDecorator;return r.a.createElement(bn.a,{width:800,title:"Edit Group",visible:this.props.visible,onOk:this.props.handleUpdate,onCancel:this.props.handleCancel,footer:[r.a.createElement(sn.a,{key:"delete",type:"danger",onClick:function(){return e.props.handleDelete(e.props.group)}},"Delete"),r.a.createElement(sn.a,{key:"Cancel",onClick:this.props.handleCancel},"Cancel"),r.a.createElement(sn.a,{key:"submit",type:"primary",onClick:this.handleUpdate},"Update")]},r.a.createElement(fn.a,{layout:"horizontal"},r.a.createElement(Hn,Object.assign({label:"Group Name",extra:"Enter a name for your group to easily identify it in the group list"},t),a("name",{initialValue:this.props.group.name,rules:[{required:!0,message:"Please enter your group name"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Greetings group, Sales group"}))),r.a.createElement(Hn,Object.assign({label:"Group Description",extra:"Just a description for you"},t),a("description",{initialValue:this.props.group.description,rules:[{required:!0,message:"Please description to your group name"}]})(r.a.createElement(gn.a,{placeholder:"Ex: this is first group, this group help get info from user"})))))}}]),t}(n.Component),Vn=fn.a.create()(qn),Wn=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={newGroupModal:!1,editGroupModal:!1,selectedGroupToEdit:{}},a.handleAddGroup=function(e){a.props.addGroup(e),a.setState({newGroupModal:!1})},a.handleAddGroupCancel=function(){return a.setState({newGroupModal:!1})},a.showNewGroupModal=function(){return a.setState({newGroupModal:!0})},a.handleEditGroup=function(e){a.props.editGroup(e),a.setState({editGroupModal:!1,selectedGroupToEdit:{}})},a.handleEditGroupCancel=function(){return a.setState({editGroupModal:!1})},a.showEditGroupModal=function(e){return a.setState({editGroupModal:!0,selectedGroupToEdit:e})},a.handleDeleteGroup=function(e){a.props.deleteGroup(e),a.setState({editGroupModal:!1,selectedGroupToEdit:{}})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:Ln.a.Panel},r.a.createElement("div",{className:Ln.a.Panel_Header},r.a.createElement("div",null,r.a.createElement("h3",null,"Flow Groups")),r.a.createElement("div",null,r.a.createElement(sn.a,{className:Ln.a.Panel_Header_Button,type:"primary",icon:"plus",onClick:this.showNewGroupModal},"Add Group"),r.a.createElement(Rn,{visible:this.state.newGroupModal,handleCancel:this.handleAddGroupCancel,handleSave:this.handleAddGroup}))),r.a.createElement("div",{className:Ln.a.Panel_Body},this.props.isLoading?r.a.createElement(Un.a,null,r.a.createElement(ln.a,{active:!0})):r.a.createElement(Nn.a,{itemLayout:"horizontal",dataSource:this.props.groupsList,renderItem:function(t){return r.a.createElement(Nn.a.Item,{actions:[r.a.createElement(sn.a,{icon:"edit",onClick:function(){return e.showEditGroupModal(t)}})]},r.a.createElement(Nn.a.Item.Meta,{onClick:function(){return e.props.selectGroup(t)},className:Ln.a.groupsList,avatar:r.a.createElement(tn.a,{icon:"ordered-list",style:{backgroundColor:"#9254de"}}),title:t.name,description:t.description}))}})),r.a.createElement(Vn,{group:this.state.selectedGroupToEdit,visible:this.state.editGroupModal,handleCancel:this.handleEditGroupCancel,handleUpdate:this.handleEditGroup,handleDelete:this.handleDeleteGroup}))}}]),t}(n.Component),Qn=a(117),zn=a(483),Kn=(a(454),a(120)),Yn=a.n(Kn),Jn=a(664),Xn=a(660),Zn=a(437),$n=a(438),er=a(105),tr=a(675),ar=Jn.a.Panel,nr=pn.a.Meta,rr=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"editBlock",value:function(e){console.log("this block needs to be edited",e),this.props.editBlock(e)}},{key:"deleteBlock",value:function(e){console.log("this block needs to be delete",e),this.props.deleteBlock(e)}},{key:"render",value:function(){var e=this,t=this.props.block;return r.a.createElement(Jn.a,{bordered:!0},r.a.createElement(ar,{header:r.a.createElement(r.a.Fragment,null,t.type," ",r.a.createElement(Xn.a,{type:"vertical"}),t.content.text," ",r.a.createElement(Xn.a,{type:"vertical"}),r.a.createElement(sn.a,{icon:"edit",size:"small",onClick:function(){return e.editBlock(t)}}),r.a.createElement(Xn.a,{type:"vertical"}),r.a.createElement(sn.a,{icon:"delete",size:"small",type:"danger",onClick:function(){return e.deleteBlock(t)}})),key:this.props.key},t.content.text?r.a.createElement(Zn.a,null,r.a.createElement($n.a,{span:6},"Question:"),r.a.createElement($n.a,{span:12},t.content.text),r.a.createElement(Xn.a,null)):null,t.content.blockToGoID?r.a.createElement(Zn.a,null,r.a.createElement($n.a,{span:6},"block To Go ID:"),r.a.createElement($n.a,{span:12},t.content.blockToGoID),r.a.createElement(Xn.a,null)):null,t.content.validation?r.a.createElement(Zn.a,null,r.a.createElement($n.a,{span:6},"validation"),r.a.createElement($n.a,{span:12},t.content.validation),r.a.createElement(Xn.a,null)):null,t.content.action?r.a.createElement(Zn.a,null,r.a.createElement($n.a,{span:6},"action"),r.a.createElement($n.a,{span:12},t.content.action),r.a.createElement(Xn.a,null)):null,t.content.afterMessage?r.a.createElement(Zn.a,null,r.a.createElement($n.a,{span:6},"after Message"),r.a.createElement($n.a,{span:12},t.content.afterMessage),r.a.createElement(Xn.a,null)):null,t.content.showTop?r.a.createElement(Zn.a,null,r.a.createElement($n.a,{span:6},"show Top"),r.a.createElement($n.a,{span:12},t.content.showTop),r.a.createElement(Xn.a,null)):null,t.content.storeInDB?r.a.createElement(Zn.a,null,r.a.createElement($n.a,{span:6},"Stroe in DB:"),r.a.createElement($n.a,{span:6},r.a.createElement(er.a,{checked:t.content.storeInDB})),r.a.createElement($n.a,{span:6},"Skippable:"),r.a.createElement($n.a,{span:6},r.a.createElement(er.a,{checked:t.content.isSkippable})),r.a.createElement(Xn.a,null)):null,t.content.answers?r.a.createElement("div",null,"Answers:",t.content.answers.map(function(e,t){return r.a.createElement(pn.a,{key:t,style:{margin:5,width:300}},r.a.createElement(nr,{title:e.text,description:r.a.createElement(r.a.Fragment,null,"Keywords: ",e.keywords.map(function(e,t){return r.a.createElement(tr.a,{key:t},e)}))}),r.a.createElement(Zn.a,null,r.a.createElement(Xn.a,null),r.a.createElement($n.a,{span:6},"Action:"),r.a.createElement($n.a,{span:12},e.action)),r.a.createElement(Zn.a,null,r.a.createElement(Xn.a,null),r.a.createElement($n.a,{span:6},"After Message"),r.a.createElement($n.a,{span:12},e.afterMessage)))})):null))}}]),t}(n.Component),or=a(107),sr=a(481),lr=fn.a.Item,ir=In.a.Option,cr=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showGoToBlock:!1,showGoToGroup:!1},a.onSubmit=function(){return a.props.form.validateFields(function(e,t){e||a.props.handleNewBlock({block:{type:"User Input",groupID:a.props.options.currentGroup.id,storeInDB:t.storeInDB,isSkippable:t.isSkippable,labels:"",content:{text:t.text,blockToGoID:t.blockToGoID||t.blockToGoIDGroup||null,validation:t.validation,action:t.action,afterMessage:t.afterMessage}}})})},a.onCancel=function(){return a.props.handleNewBlock(!1)},a.onSelectAction=function(e){"Go To Specific Block"===e?a.setState({showGoToBlock:!0,showGoToGroup:!1}):"Go To Group"===e?a.setState({showGoToBlock:!1,showGoToGroup:!0}):a.setState({showGoToBlock:!1,showGoToGroup:!1})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.options,t=e.blockTypes,a=e.blocks,n=e.allGroups,o={},s=!0,l=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var p=c.value;"User Input"===p.name&&(o=p)}}catch(h){l=!0,i=h}finally{try{s||null==u.return||u.return()}finally{if(l)throw i}}var d=this.props.form.getFieldDecorator;return r.a.createElement(pn.a,{style:{width:"100%"},actions:[r.a.createElement(sn.a,{key:"cancel",onClick:this.onCancel},"Cancel"),r.a.createElement(sn.a,{key:"submit",type:"primary",onClick:this.onSubmit},"Add")]},r.a.createElement(fn.a,{layout:"horizontal"},r.a.createElement(lr,Object.assign({label:"Question",extra:"The above text will be shown in a bubble inside the chat"},this.props.options.layout),d("text",{rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Where are you from?"}))),r.a.createElement(lr,Object.assign({label:"Validation"},this.props.options.layout),o.validations?d("validation",{rules:[{required:!0,message:"Please field validation"}]})(r.a.createElement(In.a,{placeholder:"Will validate the input"},o.validations.map(function(e,t){return r.a.createElement(ir,{key:t,value:e},e)}))):r.a.createElement(Un.a,null,r.a.createElement(In.a,{placeholder:"Will validate the input"}))),r.a.createElement(lr,Object.assign({label:"Action"},this.props.options.layout),o.actions?d("action",{rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(In.a,{onSelect:this.onSelectAction,placeholder:"The next step after this block"},o.actions.map(function(e,t){return r.a.createElement(ir,{key:t,value:e},e)}))):r.a.createElement(Un.a,null,r.a.createElement(In.a,{placeholder:"The next step after this block"}))),this.state.showGoToBlock?r.a.createElement(lr,Object.assign({label:"Go To Specific Block"},this.props.options.layout),d("blockToGoID",{rules:[{required:!0,message:"Please select your next block"}]})(r.a.createElement(In.a,{placeholder:"The next step after this block"},a.map(function(e,t){return r.a.createElement(ir,{key:t,value:e.id},"".concat(e.id,"- (").concat(e.type,") ").concat(e.content.text?e.content.text:""))})))):null,this.state.showGoToGroup?r.a.createElement(lr,Object.assign({label:"Go To Specific Group",extra:"The selected group will start from its first block"},this.props.options.layout),d("blockToGoIDGroup",{rules:[{required:!0,message:"Please select your next group"}]})(r.a.createElement(In.a,{placeholder:"The next block after this block"},n.map(function(e,t){return e.blocks[0]?r.a.createElement(ir,{key:t,value:e.blocks[0].id},"".concat(e.name)):r.a.createElement(ir,{disabled:!0,key:t,value:e.name},"".concat(e.name))})))):null,r.a.createElement(lr,Object.assign({label:"After message",extra:"This message will display straight after the user's response"},this.props.options.layout),d("afterMessage",{rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Your input is recorded"}))),r.a.createElement(fn.a.Item,Object.assign({label:"Skippable?"},this.props.options.layout),d("isSkippable",{valuePropName:"checked",initialValue:!1})(r.a.createElement(er.a,null,"Users can skip answering this question"))),r.a.createElement(fn.a.Item,Object.assign({label:"Store responses?"},this.props.options.layout),d("storeInDB",{valuePropName:"checked",initialValue:o.alwaysStoreInDB})(r.a.createElement(er.a,{disabled:o.alwaysStoreInDB},"Users' responses should be recorded")))))}}]),t}(n.Component),ur=fn.a.create()(cr),pr=a(81),dr=a(482),hr=fn.a.Item,mr=In.a.Option,fr=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showGoToBlock:!1,showGoToGroup:!1,modalVisible:!1,tags:[],inputVisible:!1,inputValue:"",answers:[]},a.onSubmit=function(){return a.props.form.validateFields(["text","isSkippable","storeInDB"],function(e,t){e||a.props.handleNewBlock({block:{type:"Question",groupID:a.props.options.currentGroup.id,storeInDB:t.storeInDB,isSkippable:t.isSkippable,labels:"",content:{text:t.text,answers:a.state.answers}}})})},a.onCancel=function(){return a.props.handleNewBlock(!1)},a.onSelectAction=function(e){"Go To Specific Block"===e?a.setState({showGoToBlock:!0,showGoToGroup:!1}):"Go To Group"===e?a.setState({showGoToBlock:!1,showGoToGroup:!0}):a.setState({showGoToBlock:!1,showGoToGroup:!1})},a.addAnswer=function(){a.props.form.validateFields(["answer","action","blockToGoID","blockToGoIDGroup","afterMessage"],function(e,t){if(!e){var n={text:t.answer,keywords:a.state.tags,blockToGoID:t.blockToGoID||t.blockToGoIDGroup||null,action:t.action,afterMessage:t.afterMessage};a.setState({tags:[]});var r=a.state.answers;r.push(n),a.setState({answers:r}),a.hideAddAnswer(),console.log(a.state.answers)}})},a.showAddAnswer=function(){return a.setState({modalVisible:!0})},a.hideAddAnswer=function(){return a.setState({modalVisible:!1})},a.removeAnswer=function(){console.log("TODO")},a.removeTag=function(e){return a.setState({tags:a.state.tags.filter(function(t){return t!==e})})},a.showInput=function(){return a.setState({inputVisible:!0},function(){return a.input.focus()})},a.handleInputChange=function(e){return a.setState({inputValue:e.target.value})},a.saveInputRef=function(e){return a.input=e},a.handleInputConfirm=function(){var e=a.state.inputValue,t=a.state.tags;e&&-1===t.indexOf(e)&&(t=Object(pr.a)(t).concat([e])),a.setState({tags:t,inputVisible:!1,inputValue:""})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.options,a=t.blockTypes,n=t.blocks,o=t.allGroups,s={},l=!0,i=!1,c=void 0;try{for(var u,p=a[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){var d=u.value;"Question"===d.name&&(s=d)}}catch(E){i=!0,c=E}finally{try{l||null==p.return||p.return()}finally{if(i)throw c}}var h=this.props.form.getFieldDecorator,m=this.state,f=m.tags,b=m.inputVisible,g=m.inputValue;return r.a.createElement(pn.a,{style:{width:"100%"},actions:[r.a.createElement(sn.a,{key:"cancel",onClick:this.onCancel},"Cancel"),r.a.createElement(sn.a,{key:"submit",type:"primary",onClick:this.onSubmit},"Add")]},r.a.createElement(fn.a,{layout:"horizontal"},r.a.createElement(hr,Object.assign({label:"Question",extra:"The above text will be shown in a bubble inside the chat"},this.props.options.layout),h("text",{rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Where are you from?"}))),r.a.createElement(hr,Object.assign({label:"Answers"},this.props.options.layout),r.a.createElement(sn.a,{onClick:this.showAddAnswer,type:"primary",icon:"plus",shape:"circle",size:"small"}),this.state.answers.map(function(t,a){return r.a.createElement(pn.a,{title:t.text,key:a,extra:r.a.createElement(sn.a,{onClick:e.removeAnswer,type:"danger",icon:"delete",shape:"circle",size:"small"}),style:{width:200,margin:10}},r.a.createElement("p",null,"Action: ",t.action),"Tags: ",r.a.createElement("br",null),t.keywords.map(function(e,t){return r.a.createElement(tr.a,{key:t},e)}))})),r.a.createElement(fn.a.Item,Object.assign({label:"Skippable?"},this.props.options.layout),h("isSkippable",{valuePropName:"checked",initialValue:!1})(r.a.createElement(er.a,null,"Users can skip answering this question"))),r.a.createElement(fn.a.Item,Object.assign({label:"Store responses?"},this.props.options.layout),h("storeInDB",{valuePropName:"checked",initialValue:s.alwaysStoreInDB})(r.a.createElement(er.a,{disabled:s.alwaysStoreInDB},"Users' responses should be recorded")))),r.a.createElement(bn.a,{title:"Add Answer",width:700,destroyOnClose:!0,visible:this.state.modalVisible,onOk:this.addAnswer,onCancel:this.hideAddAnswer},r.a.createElement(fn.a,null,r.a.createElement(hr,Object.assign({label:"Answer",extra:"This will be shown as answer in chatbot"},this.props.options.layout),h("answer",{rules:[{required:!0,message:"Please input answer field"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Yes I need it :)"}))),r.a.createElement(hr,Object.assign({label:"Tags"},this.props.options.layout),r.a.createElement("div",null,f.map(function(t){var a=t.length>20,n=r.a.createElement(tr.a,{key:t,closable:!0,afterClose:function(){return e.removeTag(t)}},a?"".concat(t.slice(0,20),"..."):t);return a?r.a.createElement(dr.a,{title:t,key:t},n):n}),b&&r.a.createElement(gn.a,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78},value:g,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!b&&r.a.createElement(tr.a,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed"}},r.a.createElement(an.a,{type:"plus"})," New Tag"))),r.a.createElement(hr,Object.assign({label:"Action"},this.props.options.layout),s.actions?h("action",{rules:[{required:!0,message:"Please input action field"}]})(r.a.createElement(In.a,{onSelect:this.onSelectAction,placeholder:"The next step after this block"},s.actions.map(function(e,t){return r.a.createElement(mr,{key:t,value:e},e)}))):r.a.createElement(Un.a,null,r.a.createElement(In.a,{placeholder:"The next step after this block"}))),this.state.showGoToBlock?r.a.createElement(hr,Object.assign({label:"Go To Specific Block"},this.props.options.layout),h("blockToGoID",{rules:[{required:!0,message:"Please select your next block"}]})(r.a.createElement(In.a,{placeholder:"The next step after this block"},n.map(function(e,t){return r.a.createElement(mr,{key:t,value:e.id},"".concat(e.id,"- (").concat(e.type,") ").concat(e.content.text?e.content.text:""))})))):null,this.state.showGoToGroup?r.a.createElement(hr,Object.assign({label:"Go To Specific Group",extra:"The selected group will start from its first block"},this.props.options.layout),h("blockToGoIDGroup",{rules:[{required:!0,message:"Please select your next group"}]})(r.a.createElement(In.a,{placeholder:"The next block after this block"},o.map(function(e,t){return e.blocks[0]?r.a.createElement(mr,{key:t,value:e.blocks[0].id},"".concat(e.name)):r.a.createElement(mr,{disabled:!0,key:t,value:e.name},"".concat(e.name))})))):null,r.a.createElement(hr,Object.assign({label:"After message",extra:"This message will display straight after the user's response"},this.props.options.layout),h("afterMessage",{rules:[{required:!0,message:"Please input after message field"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Your input is recorded"}))))))}}]),t}(n.Component),br=fn.a.create()(fr),gr=fn.a.Item,Er=In.a.Option,yr=er.a.Group,Sr=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showGoToBlock:!1,showGoToGroup:!1,fileTypes:[]},a.onSubmit=function(){return a.props.form.validateFields(function(e,t){e||a.props.handleNewBlock({block:{type:"File Upload",groupID:a.props.options.currentGroup.id,storeInDB:t.storeInDB,isSkippable:t.isSkippable,labels:"",content:{text:t.text,action:t.action,fileTypes:a.state.fileTypes,blockToGoID:t.blockToGoID||t.blockToGoIDGroup||null,afterMessage:t.afterMessage}}})})},a.onCancel=function(){return a.props.handleNewBlock(!1)},a.onSelectAction=function(e){"Go To Specific Block"===e?a.setState({showGoToBlock:!0,showGoToGroup:!1}):"Go To Group"===e?a.setState({showGoToBlock:!1,showGoToGroup:!0}):a.setState({showGoToBlock:!1,showGoToGroup:!1})},a.onChange=function(e){return a.setState({fileTypes:e})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.options,t=e.blockTypes,a=e.blocks,n=e.allGroups,o={},s=!0,l=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var p=c.value;"File Upload"===p.name&&(o=p)}}catch(m){l=!0,i=m}finally{try{s||null==u.return||u.return()}finally{if(l)throw i}}var d=this.props.form.getFieldDecorator,h=o.typesAllowed;return r.a.createElement(pn.a,{style:{width:"100%"},actions:[r.a.createElement(sn.a,{key:"cancel",onClick:this.onCancel},"Cancel"),r.a.createElement(sn.a,{key:"submit",type:"primary",onClick:this.onSubmit},"Add")]},r.a.createElement(fn.a,{layout:"horizontal"},r.a.createElement(gr,Object.assign({label:"Question",extra:"The above text will be shown in a bubble inside the chat"},this.props.options.layout),d("text",{rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Please upload you cv"}))),r.a.createElement(gr,Object.assign({label:"File Types"},this.props.options.layout),o.typesAllowed?d("fileTypes",{rules:[{required:!0,message:"Please select the accepted file type"}]})(r.a.createElement(yr,{options:h,onChange:this.onChange})):r.a.createElement(Un.a,null)),r.a.createElement(gr,Object.assign({label:"Action"},this.props.options.layout),o.actions?d("action",{rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(In.a,{onSelect:this.onSelectAction,placeholder:"The next step after this block"},o.actions.map(function(e,t){return r.a.createElement(Er,{key:t,value:e},e)}))):r.a.createElement(Un.a,null,r.a.createElement(In.a,{placeholder:"The next step after this block"}))),this.state.showGoToBlock?r.a.createElement(gr,Object.assign({label:"Go To Specific Block"},this.props.options.layout),d("blockToGoID",{rules:[{required:!0,message:"Please select your next block"}]})(r.a.createElement(In.a,{placeholder:"The next step after this block"},a.map(function(e,t){return r.a.createElement(Er,{key:t,value:e.id},"".concat(e.id,"- (").concat(e.type,") ").concat(e.content.text?e.content.text:""))})))):null,this.state.showGoToGroup?r.a.createElement(gr,Object.assign({label:"Go To Specific Group",extra:"The selected group will start from its first block"},this.props.options.layout),d("blockToGoIDGroup",{rules:[{required:!0,message:"Please select your next group"}]})(r.a.createElement(In.a,{placeholder:"The next block after this block"},n.map(function(e,t){return e.blocks[0]?r.a.createElement(Er,{key:t,value:e.blocks[0].id},"".concat(e.name)):r.a.createElement(Er,{disabled:!0,key:t,value:e.name},"".concat(e.name))})))):null,r.a.createElement(gr,Object.assign({label:"After message",extra:"This message will display straight after the user's response"},this.props.options.layout),d("afterMessage",{rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Your input is recorded"}))),r.a.createElement(fn.a.Item,Object.assign({label:"Skippable?"},this.props.options.layout),d("isSkippable",{valuePropName:"checked",initialValue:!1})(r.a.createElement(er.a,null,"Users can skip answering this question"))),r.a.createElement(fn.a.Item,Object.assign({label:"Store responses?"},this.props.options.layout),d("storeInDB",{valuePropName:"checked",initialValue:o.alwaysStoreInDB})(r.a.createElement(er.a,{disabled:o.alwaysStoreInDB},"Users' responses should be recorded")))))}}]),t}(n.Component),kr=fn.a.create()(Sr),_r=fn.a.Item,vr=In.a.Option,wr=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showGoToBlock:!1,showGoToGroup:!1},a.onSubmit=function(){return a.props.form.validateFields(function(e,t){if(!e){var n={block:{type:"Solutions",groupID:a.props.options.currentGroup.id,storeInDB:t.storeInDB,isSkippable:t.isSkippable,labels:"",content:{showTop:Number(t.showTop),action:t.action,blockToGoID:t.blockToGoID||t.blockToGoIDGroup||null,afterMessage:t.afterMessage}}};a.props.handleNewBlock(n)}})},a.onCancel=function(){return a.props.handleNewBlock(!1)},a.onSelectAction=function(e){"Go To Specific Block"===e?a.setState({showGoToBlock:!0,showGoToGroup:!1}):"Go To Group"===e?a.setState({showGoToBlock:!1,showGoToGroup:!0}):a.setState({showGoToBlock:!1,showGoToGroup:!1})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.options,t=e.blockTypes,a=e.blocks,n=e.allGroups,o={},s=!0,l=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var p=c.value;"User Input"===p.name&&(o=p)}}catch(h){l=!0,i=h}finally{try{s||null==u.return||u.return()}finally{if(l)throw i}}var d=this.props.form.getFieldDecorator;return r.a.createElement(pn.a,{style:{width:"100%"},actions:[r.a.createElement(sn.a,{key:"cancel",onClick:this.onCancel},"Cancel"),r.a.createElement(sn.a,{key:"submit",type:"primary",onClick:this.onSubmit},"Add")]},r.a.createElement(fn.a,{layout:"horizontal"},r.a.createElement(_r,Object.assign({label:"Show Top Results",extra:"Number of results you want to return"},this.props.options.layout),d("showTop",{rules:[{required:!0,message:"Please show top field"}]})(r.a.createElement(gn.a,{min:"1",type:"number",placeholder:"Ex: Where are you from?"}))),r.a.createElement(_r,Object.assign({label:"Action"},this.props.options.layout),o.actions?d("action",{rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(In.a,{onSelect:this.onSelectAction,placeholder:"The next step after this block"},o.actions.map(function(e,t){return r.a.createElement(vr,{key:t,value:e},e)}))):r.a.createElement(Un.a,null,r.a.createElement(In.a,{placeholder:"The next step after this block"}))),this.state.showGoToBlock?r.a.createElement(_r,Object.assign({label:"Go To Specific Block"},this.props.options.layout),d("blockToGoID",{rules:[{required:!0,message:"Please select your next block"}]})(r.a.createElement(In.a,{placeholder:"The next step after this block"},a.map(function(e,t){return r.a.createElement(vr,{key:t,value:e.id},"".concat(e.id,"- (").concat(e.type,") ").concat(e.content.text?e.content.text:""))})))):null,this.state.showGoToGroup?r.a.createElement(_r,Object.assign({label:"Go To Specific Group",extra:"The selected group will start from its first block"},this.props.options.layout),d("blockToGoIDGroup",{rules:[{required:!0,message:"Please select your next group"}]})(r.a.createElement(In.a,{placeholder:"The next block after this block"},n.map(function(e,t){return e.blocks[0]?r.a.createElement(vr,{key:t,value:e.blocks[0].id},"".concat(e.name)):r.a.createElement(vr,{disabled:!0,key:t,value:e.name},"".concat(e.name))})))):null,r.a.createElement(_r,Object.assign({label:"After message",extra:"This message will display straight after the user's response"},this.props.options.layout),d("afterMessage",{rules:[{required:!0,message:"Please input after message field"}]})(r.a.createElement(gn.a,{placeholder:"Ex: There you go :)"}))),r.a.createElement(fn.a.Item,Object.assign({label:"Skippable?"},this.props.options.layout),d("isSkippable",{valuePropName:"checked",initialValue:!1})(r.a.createElement(er.a,null,"Users can skip answering this question"))),r.a.createElement(fn.a.Item,Object.assign({label:"Store responses?"},this.props.options.layout),d("storeInDB",{valuePropName:"checked",initialValue:o.alwaysStoreInDB})(r.a.createElement(er.a,{disabled:o.alwaysStoreInDB},"Users' responses should be recorded")))))}}]),t}(n.Component),Tr=fn.a.create()(wr),Or=sr.a.TabPane,Ir=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={layout:{labelCol:{span:6},wrapperCol:{span:14}},blockTypes:[],blocks:[],allGroups:[],currentGroup:null},a.handleNewBlock=function(e){e&&a.props.handleAddBlock(e),a.props.closeModal()},a.onChangeTab=function(e){return a.setState({currentTab:e})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;za.get("/assistant/flow/options").then(function(t){return e.setState({blockTypes:t.data.data.blockTypes})})}},{key:"componentWillReceiveProps",value:function(e){this.setState({blocks:e.blocks,allGroups:e.allGroups,currentGroup:e.currentGroup})}},{key:"render",value:function(){return r.a.createElement(bn.a,{width:800,title:"Add New Block",visible:this.props.visible,onCancel:this.props.closeModal,destroyOnClose:!0,footer:null},r.a.createElement(sr.a,{type:"card",onChange:this.onChangeTab},r.a.createElement(Or,{tab:r.a.createElement("span",null,r.a.createElement(an.a,{type:"form"}),"User Input"),key:"UserInput"},r.a.createElement(ur,{options:this.state,handleNewBlock:this.handleNewBlock})),r.a.createElement(Or,{tab:r.a.createElement("span",null,r.a.createElement(an.a,{type:"question-circle"}),"Question"),key:"Question"},r.a.createElement(br,{options:this.state,handleNewBlock:this.handleNewBlock})),r.a.createElement(Or,{tab:r.a.createElement("span",null,r.a.createElement(an.a,{type:"file-add"}),"File Upload"),key:"FileUpload"},r.a.createElement(kr,{options:this.state,handleNewBlock:this.handleNewBlock})),r.a.createElement(Or,{tab:r.a.createElement("span",null,r.a.createElement(an.a,{type:"tag"}),"Solutions"),key:"Solutions"},r.a.createElement(Tr,{options:this.state,handleNewBlock:this.handleNewBlock}))))}}]),t}(n.Component),xr=fn.a.Item,Dr=In.a.Option,Gr=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showGoToBlock:!1,showGoToGroup:!1,groupName:""},a.onSubmit=function(){return a.props.form.validateFields(function(e,t){e||a.props.handleEditBlock({type:"User Input",groupID:a.props.options.currentGroup.id,id:a.props.options.block.id,order:a.props.options.block.order,isSkippable:t.isSkippable,labels:"",storeInDB:t.storeInDB,content:{text:t.text,blockToGoID:t.blockToGoID||t.blockToGoIDGroup||null,validation:t.validation,action:t.action,afterMessage:t.afterMessage}})})},a.onCancel=function(){return a.props.handleEditBlock(!1)},a.onSelectAction=function(e){"Go To Specific Block"===e?a.setState({showGoToBlock:!0,showGoToGroup:!1}):"Go To Group"===e?a.setState({showGoToBlock:!1,showGoToGroup:!0}):a.setState({showGoToBlock:!1,showGoToGroup:!1})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.options,a=t.block,n=t.allGroups;if("Go To Specific Block"===a.content.action)this.setState({showGoToBlock:!0,showGoToGroup:!1});else if("Go To Group"===a.content.action){this.setState({showGoToBlock:!1,showGoToGroup:!0});var r=a.content.blockToGoID;n.map(function(t){return t.blocks[0].id===r?e.setState({groupName:t.name}):null})}else this.setState({showGoToBlock:!1,showGoToGroup:!1})}},{key:"render",value:function(){var e=this,t=this.props.options,a=t.block,n=t.blockTypes,o=t.allBlocks,s=t.allGroups,l={},i=!0,c=!1,u=void 0;try{for(var p,d=n[Symbol.iterator]();!(i=(p=d.next()).done);i=!0){var h=p.value;"User Input"===h.name&&(l=h)}}catch(f){c=!0,u=f}finally{try{i||null==d.return||d.return()}finally{if(c)throw u}}var m=this.props.form.getFieldDecorator;return r.a.createElement(pn.a,{style:{width:"100%"},actions:[r.a.createElement(sn.a,{key:"delete",type:"danger",onClick:function(){return console.log("needs to be implement")}},"Delete"),r.a.createElement(sn.a,{key:"cancel",onClick:function(){return e.props.handleEditBlock(!1)}},"Cancel"),r.a.createElement(sn.a,{key:"submit",type:"primary",onClick:this.onSubmit},"Update")]},r.a.createElement(fn.a,{layout:"horizontal"},r.a.createElement(xr,Object.assign({label:"Question",extra:"The above text will be shown in a bubble inside the chat"},this.props.options.layout),m("text",{initialValue:a.content.text,rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Where are you from?"}))),r.a.createElement(xr,Object.assign({label:"Validation"},this.props.options.layout),l.validations?m("validation",{initialValue:a.content.validation,rules:[{required:!0,message:"Please field validation"}]})(r.a.createElement(In.a,{placeholder:"Will validate the input"},l.validations.map(function(e,t){return r.a.createElement(Dr,{key:t,value:e},e)}))):r.a.createElement(Un.a,null,r.a.createElement(In.a,{placeholder:"Will validate the input"}))),r.a.createElement(xr,Object.assign({label:"Action"},this.props.options.layout),l.actions?m("action",{initialValue:a.content.action,rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(In.a,{onSelect:this.onSelectAction,placeholder:"The next step after this block"},l.actions.map(function(e,t){return r.a.createElement(Dr,{key:t,value:e},e)}))):r.a.createElement(Un.a,null,r.a.createElement(In.a,{placeholder:"The next step after this block"}))),this.state.showGoToBlock?r.a.createElement(xr,Object.assign({label:"Go To Specific Block"},this.props.options.layout),m("blockToGoID",{initialValue:a.content.blockToGoID,rules:[{required:!0,message:"Please select your next block"}]})(r.a.createElement(In.a,{placeholder:"The next step after this block"},o.map(function(e,t){return r.a.createElement(Dr,{key:t,value:e.id},"".concat(e.id,"- (").concat(e.type,") ").concat(e.content.text?e.content.text:""))})))):null,this.state.showGoToGroup?r.a.createElement(xr,Object.assign({label:"Go To Specific Group",extra:"The selected group will start from its first block"},this.props.options.layout),m("blockToGoIDGroup",{initialValue:this.state.groupName,rules:[{required:!0,message:"Please select your next group"}]})(r.a.createElement(In.a,{placeholder:"The next block after this block"},s.map(function(e,t){return e.blocks[0]?r.a.createElement(Dr,{key:t,value:e.blocks[0].id},"".concat(e.name)):r.a.createElement(Dr,{disabled:!0,key:t,value:e.name},"".concat(e.name))})))):null,r.a.createElement(xr,Object.assign({label:"After message",extra:"This message will display straight after the user's response"},this.props.options.layout),m("afterMessage",{initialValue:a.content.afterMessage,rules:[{required:!0,message:"Please input after message field"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Your input is recorded"}))),r.a.createElement(fn.a.Item,Object.assign({label:"Skippable?"},this.props.options.layout),m("isSkippable",{valuePropName:"checked",initialValue:a.isSkippable})(r.a.createElement(er.a,null,"Users can skip answering this question"))),r.a.createElement(fn.a.Item,Object.assign({label:"Store responses?"},this.props.options.layout),m("storeInDB",{valuePropName:"checked",initialValue:l.alwaysStoreInDB})(r.a.createElement(er.a,{disabled:l.alwaysStoreInDB},"Users' responses should be recorded")))))}}]),t}(n.Component),Ar=fn.a.create()(Gr),Br=fn.a.Item,Cr=In.a.Option,jr=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showGoToBlock:!1,showGoToGroup:!1,modalVisible:!1,tags:[],inputVisible:!1,inputValue:"",answers:[],groupName:""},a.onSelectAction=function(e){"Go To Specific Block"===e?a.setState({showGoToBlock:!0,showGoToGroup:!1}):"Go To Group"===e?a.setState({showGoToBlock:!1,showGoToGroup:!0}):a.setState({showGoToBlock:!1,showGoToGroup:!1})},a.onSubmit=function(){return a.props.form.validateFields(["text","isSkippable","storeInDB"],function(e,t){e||a.props.handleEditBlock({type:"Question",groupID:a.props.options.currentGroup.id,id:a.props.options.block.id,order:a.props.options.block.order,storeInDB:t.storeInDB,isSkippable:t.isSkippable,labels:"",content:{text:t.text,answers:a.state.answers}})})},a.onCancel=function(){return a.props.handleNewBlock(!1)},a.addAnswer=function(){a.props.form.validateFields(["answer","action","blockToGoID","blockToGoIDGroup","afterMessage"],function(e,t){if(!e){var n={text:t.answer,keywords:a.state.tags,blockToGoID:t.blockToGoID||t.blockToGoIDGroup||null,action:t.action,afterMessage:t.afterMessage};a.setState({tags:[]});var r=a.state.answers;r.push(n),a.setState({answers:r}),a.hideAddAnswer(),console.log(a.state.answers)}})},a.showAddAnswer=function(){return a.setState({modalVisible:!0})},a.hideAddAnswer=function(){return a.setState({modalVisible:!1})},a.removeAnswer=function(){console.log("TODO")},a.removeTag=function(e){return a.setState({tags:a.state.tags.filter(function(t){return t!==e})})},a.showInput=function(){return a.setState({inputVisible:!0},function(){return a.input.focus()})},a.handleInputChange=function(e){return a.setState({inputValue:e.target.value})},a.saveInputRef=function(e){return a.input=e},a.handleInputConfirm=function(){var e=a.state.inputValue,t=a.state.tags;e&&-1===t.indexOf(e)&&(t=Object(pr.a)(t).concat([e])),a.setState({tags:t,inputVisible:!1,inputValue:""})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({answers:this.props.options.block.content.answers});var t=this.props.options,a=t.block,n=t.allGroups;if("Go To Specific Block"===a.content.action)this.setState({showGoToBlock:!0,showGoToGroup:!1});else if("Go To Group"===a.content.action){this.setState({showGoToBlock:!1,showGoToGroup:!0});var r=a.content.blockToGoID;n.map(function(t){return t.blocks[0].id===r?e.setState({groupName:t.name}):null})}else this.setState({showGoToBlock:!1,showGoToGroup:!1})}},{key:"render",value:function(){var e=this,t=this.props.options,a=t.block,n=t.blockTypes,o=t.allBlocks,s=t.allGroups,l={},i=!0,c=!1,u=void 0;try{for(var p,d=n[Symbol.iterator]();!(i=(p=d.next()).done);i=!0){var h=p.value;"Question"===h.name&&(l=h)}}catch(y){c=!0,u=y}finally{try{i||null==d.return||d.return()}finally{if(c)throw u}}var m=this.props.form.getFieldDecorator,f=this.state,b=f.tags,g=f.inputVisible,E=f.inputValue;return r.a.createElement(pn.a,{style:{width:"100%"},actions:[r.a.createElement(sn.a,{key:"delete",type:"danger",onClick:function(){return console.log("needs to be implement")}},"Delete"),r.a.createElement(sn.a,{key:"cancel",onClick:function(){return e.props.handleEditBlock(!1)}},"Cancel"),r.a.createElement(sn.a,{key:"submit",type:"primary",onClick:this.onSubmit},"Update")]},r.a.createElement(fn.a,{layout:"horizontal"},r.a.createElement(Br,Object.assign({label:"Question",extra:"The above text will be shown in a bubble inside the chat"},this.props.options.layout),m("text",{initialValue:a.content.text,rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Where are you from?"}))),r.a.createElement(Br,Object.assign({label:"Answers"},this.props.options.layout),r.a.createElement(sn.a,{onClick:this.showAddAnswer,type:"primary",icon:"plus",shape:"circle",size:"small"}),this.state.answers.map(function(t,a){return r.a.createElement(pn.a,{title:t.text,key:a,extra:r.a.createElement(sn.a,{onClick:e.removeAnswer,type:"danger",icon:"delete",shape:"circle",size:"small"}),style:{width:200,margin:10}},r.a.createElement("p",null,"Action: ",t.action),"Tags: ",r.a.createElement("br",null),t.keywords.map(function(e,t){return r.a.createElement(tr.a,{key:t},e)}))})),r.a.createElement(fn.a.Item,Object.assign({label:"Skippable?"},this.props.options.layout),m("isSkippable",{valuePropName:"checked",initialValue:a.isSkippable})(r.a.createElement(er.a,null,"Users can skip answering this question"))),r.a.createElement(fn.a.Item,Object.assign({label:"Store responses?"},this.props.options.layout),m("storeInDB",{valuePropName:"checked",initialValue:l.alwaysStoreInDB})(r.a.createElement(er.a,{disabled:l.alwaysStoreInDB},"Users' responses should be recorded")))),r.a.createElement(bn.a,{title:"Add Answer",width:700,destroyOnClose:!0,visible:this.state.modalVisible,onOk:this.addAnswer,onCancel:this.hideAddAnswer},r.a.createElement(fn.a,null,r.a.createElement(Br,Object.assign({label:"Answer",extra:"This will be shown as answer in chatbot"},this.props.options.layout),m("answer",{rules:[{required:!0,message:"Please input answer field"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Yes I need it :)"}))),r.a.createElement(Br,Object.assign({label:"Tags"},this.props.options.layout),r.a.createElement("div",null,b.map(function(t){var a=t.length>20,n=r.a.createElement(tr.a,{key:t,closable:!0,afterClose:function(){return e.removeTag(t)}},a?"".concat(t.slice(0,20),"..."):t);return a?r.a.createElement(dr.a,{title:t,key:t},n):n}),g&&r.a.createElement(gn.a,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78},value:E,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!g&&r.a.createElement(tr.a,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed"}},r.a.createElement(an.a,{type:"plus"})," New Tag"))),r.a.createElement(Br,Object.assign({label:"Action"},this.props.options.layout),l.actions?m("action",{rules:[{required:!0,message:"Please input action field"}]})(r.a.createElement(In.a,{onSelect:this.onSelectAction,placeholder:"The next step after this block"},l.actions.map(function(e,t){return r.a.createElement(Cr,{key:t,value:e},e)}))):r.a.createElement(Un.a,null,r.a.createElement(In.a,{placeholder:"The next step after this block"}))),this.state.showGoToBlock?r.a.createElement(Br,Object.assign({label:"Go To Specific Block"},this.props.options.layout),m("blockToGoID",{rules:[{required:!0,message:"Please select your next block"}]})(r.a.createElement(In.a,{placeholder:"The next step after this block"},o.map(function(e,t){return r.a.createElement(Cr,{key:t,value:e.id},"".concat(e.id,"- (").concat(e.type,") ").concat(e.content.text?e.content.text:""))})))):null,this.state.showGoToGroup?r.a.createElement(Br,Object.assign({label:"Go To Specific Group",extra:"The selected group will start from its first block"},this.props.options.layout),m("blockToGoIDGroup",{rules:[{required:!0,message:"Please select your next group"}]})(r.a.createElement(In.a,{placeholder:"The next block after this block"},s.map(function(e,t){return e.blocks[0]?r.a.createElement(Cr,{key:t,value:e.blocks[0].id},"".concat(e.name)):r.a.createElement(Cr,{disabled:!0,key:t,value:e.name},"".concat(e.name))})))):null,r.a.createElement(Br,Object.assign({label:"After message",extra:"This message will display straight after the user's response"},this.props.options.layout),m("afterMessage",{rules:[{required:!0,message:"Please input after message field"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Your input is recorded"}))))))}}]),t}(n.Component),Pr=fn.a.create()(jr),Lr=fn.a.Item,Ur=In.a.Option,Nr=er.a.Group,Fr=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showGoToBlock:!1,showGoToGroup:!1,fileTypes:[],groupName:""},a.onSubmit=function(){return a.props.form.validateFields(function(e,t){e||a.props.handleEditBlock({type:"File Upload",groupID:a.props.options.currentGroup.id,id:a.props.options.block.id,order:a.props.options.block.order,storeInDB:t.storeInDB,isSkippable:t.isSkippable,labels:"",content:{text:t.text,action:t.action,fileTypes:a.state.fileTypes,blockToGoID:t.blockToGoID||t.blockToGoIDGroup||null,afterMessage:t.afterMessage}})})},a.onCancel=function(){return a.props.handleEditBlock(!1)},a.onSelectAction=function(e){"Go To Specific Block"===e?a.setState({showGoToBlock:!0,showGoToGroup:!1}):"Go To Group"===e?a.setState({showGoToBlock:!1,showGoToGroup:!0}):a.setState({showGoToBlock:!1,showGoToGroup:!1})},a.onChange=function(e){return a.setState({fileTypes:e})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.options,a=t.block,n=t.allGroups;if("Go To Specific Block"===a.content.action)this.setState({showGoToBlock:!0,showGoToGroup:!1});else if("Go To Group"===a.content.action){this.setState({showGoToBlock:!1,showGoToGroup:!0});var r=a.content.blockToGoID;n.map(function(t){return t.blocks[0].id===r?e.setState({groupName:t.name}):null})}else this.setState({showGoToBlock:!1,showGoToGroup:!1})}},{key:"render",value:function(){var e=this,t=this.props.options,a=t.block,n=t.blockTypes,o=t.allBlocks,s=t.allGroups,l={},i=!0,c=!1,u=void 0;try{for(var p,d=n[Symbol.iterator]();!(i=(p=d.next()).done);i=!0){var h=p.value;"File Upload"===h.name&&(l=h)}}catch(b){c=!0,u=b}finally{try{i||null==d.return||d.return()}finally{if(c)throw u}}var m=this.props.form.getFieldDecorator,f=l.typesAllowed;return r.a.createElement(pn.a,{style:{width:"100%"},actions:[r.a.createElement(sn.a,{key:"delete",type:"danger",onClick:function(){return console.log("needs to be implement")}},"Delete"),r.a.createElement(sn.a,{key:"cancel",onClick:function(){return e.props.handleEditBlock(!1)}},"Cancel"),r.a.createElement(sn.a,{key:"submit",type:"primary",onClick:this.onSubmit},"Update")]},r.a.createElement(fn.a,{layout:"horizontal"},r.a.createElement(Lr,Object.assign({label:"Question",extra:"The above text will be shown in a bubble inside the chat"},this.props.options.layout),m("text",{initialValue:a.content.text,rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Please upload you cv"}))),r.a.createElement(Lr,Object.assign({label:"File Types"},this.props.options.layout),l.typesAllowed?m("fileTypes",{initialValue:a.content.fileTypes,rules:[{required:!0,message:"Please select the accepted file type"}]})(r.a.createElement(Nr,{options:f,onChange:this.onChange})):r.a.createElement(Un.a,null)),r.a.createElement(Lr,Object.assign({label:"Action"},this.props.options.layout),l.actions?m("action",{initialValue:a.content.action,rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(In.a,{onSelect:this.onSelectAction,placeholder:"The next step after this block"},l.actions.map(function(e,t){return r.a.createElement(Ur,{key:t,value:e},e)}))):r.a.createElement(Un.a,null,r.a.createElement(In.a,{placeholder:"The next step after this block"}))),this.state.showGoToBlock?r.a.createElement(Lr,Object.assign({label:"Go To Specific Block"},this.props.options.layout),m("blockToGoID",{initialValue:a.content.blockToGoID,rules:[{required:!0,message:"Please select your next block"}]})(r.a.createElement(In.a,{placeholder:"The next step after this block"},o.map(function(e,t){return r.a.createElement(Ur,{key:t,value:e.id},"".concat(e.id,"- (").concat(e.type,") ").concat(e.content.text?e.content.text:""))})))):null,this.state.showGoToGroup?r.a.createElement(Lr,Object.assign({label:"Go To Specific Group",extra:"The selected group will start from its first block"},this.props.options.layout),m("blockToGoIDGroup",{initialValue:this.state.groupName,rules:[{required:!0,message:"Please select your next group"}]})(r.a.createElement(In.a,{placeholder:"The next block after this block"},s.map(function(e,t){return e.blocks[0]?r.a.createElement(Ur,{key:t,value:e.blocks[0].id},"".concat(e.name)):r.a.createElement(Ur,{disabled:!0,key:t,value:e.name},"".concat(e.name))})))):null,r.a.createElement(Lr,Object.assign({label:"After message",extra:"This message will display straight after the user's response"},this.props.options.layout),m("afterMessage",{initialValue:a.content.afterMessage,rules:[{required:!0,message:"Please input after message field"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Your input is recorded"}))),r.a.createElement(fn.a.Item,Object.assign({label:"Skippable?"},this.props.options.layout),m("isSkippable",{valuePropName:"checked",initialValue:a.isSkippable})(r.a.createElement(er.a,null,"Users can skip answering this question"))),r.a.createElement(fn.a.Item,Object.assign({label:"Store responses?"},this.props.options.layout),m("storeInDB",{valuePropName:"checked",initialValue:l.alwaysStoreInDB})(r.a.createElement(er.a,{disabled:l.alwaysStoreInDB},"Users' responses should be recorded")))))}}]),t}(n.Component),Mr=fn.a.create()(Fr),Rr=fn.a.Item,Hr=In.a.Option,qr=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showGoToBlock:!1,showGoToGroup:!1,groupName:""},a.onSubmit=function(){return a.props.form.validateFields(function(e,t){e||a.props.handleEditBlock({type:"Solutions",groupID:a.props.options.currentGroup.id,id:a.props.options.block.id,order:a.props.options.block.order,storeInDB:t.storeInDB,isSkippable:t.isSkippable,labels:"",content:{showTop:Number(t.showTop),action:t.action,blockToGoID:t.blockToGoID||t.blockToGoIDGroup||null,afterMessage:t.afterMessage}})})},a.onCancel=function(){return a.props.handleEditBlock(!1)},a.onSelectAction=function(e){"Go To Specific Block"===e?a.setState({showGoToBlock:!0,showGoToGroup:!1}):"Go To Group"===e?a.setState({showGoToBlock:!1,showGoToGroup:!0}):a.setState({showGoToBlock:!1,showGoToGroup:!1})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.options,a=t.block,n=t.allGroups;if("Go To Specific Block"===a.content.action)this.setState({showGoToBlock:!0,showGoToGroup:!1});else if("Go To Group"===a.content.action){this.setState({showGoToBlock:!1,showGoToGroup:!0});var r=a.content.blockToGoID;n.map(function(t){return t.blocks[0].id===r?e.setState({groupName:t.name}):null})}else this.setState({showGoToBlock:!1,showGoToGroup:!1})}},{key:"render",value:function(){var e=this,t=this.props.options,a=t.block,n=t.blockTypes,o=t.allBlocks,s=t.allGroups,l={},i=!0,c=!1,u=void 0;try{for(var p,d=n[Symbol.iterator]();!(i=(p=d.next()).done);i=!0){var h=p.value;"User Input"===h.name&&(l=h)}}catch(f){c=!0,u=f}finally{try{i||null==d.return||d.return()}finally{if(c)throw u}}var m=this.props.form.getFieldDecorator;return r.a.createElement(pn.a,{style:{width:"100%"},actions:[r.a.createElement(sn.a,{key:"delete",type:"danger",onClick:function(){return console.log("needs to be implement")}},"Delete"),r.a.createElement(sn.a,{key:"cancel",onClick:function(){return e.props.handleEditBlock(!1)}},"Cancel"),r.a.createElement(sn.a,{key:"submit",type:"primary",onClick:this.onSubmit},"Update")]},r.a.createElement(fn.a,{layout:"horizontal"},r.a.createElement(Rr,Object.assign({label:"Show Top Results",extra:"Number of results you want to return"},this.props.options.layout),m("showTop",{initialValue:a.content.showTop,rules:[{required:!0,message:"Please show top field"}]})(r.a.createElement(gn.a,{min:"1",type:"number",placeholder:"Ex: Where are you from?"}))),r.a.createElement(Rr,Object.assign({label:"Action"},this.props.options.layout),l.actions?m("action",{initialValue:a.content.action,rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(In.a,{onSelect:this.onSelectAction,placeholder:"The next step after this block"},l.actions.map(function(e,t){return r.a.createElement(Hr,{key:t,value:e},e)}))):r.a.createElement(Un.a,null,r.a.createElement(In.a,{placeholder:"The next step after this block"}))),this.state.showGoToBlock?r.a.createElement(Rr,Object.assign({label:"Go To Specific Block"},this.props.options.layout),m("blockToGoID",{initialValue:a.content.blockToGoID,rules:[{required:!0,message:"Please select your next block"}]})(r.a.createElement(In.a,{placeholder:"The next step after this block"},o.map(function(e,t){return r.a.createElement(Hr,{key:t,value:e.id},"".concat(e.id,"- (").concat(e.type,") ").concat(e.content.text?e.content.text:""))})))):null,this.state.showGoToGroup?r.a.createElement(Rr,Object.assign({label:"Go To Specific Group",extra:"The selected group will start from its first block"},this.props.options.layout),m("blockToGoIDGroup",{initialValue:this.state.groupName,rules:[{required:!0,message:"Please select your next group"}]})(r.a.createElement(In.a,{placeholder:"The next block after this block"},s.map(function(e,t){return e.blocks[0]?r.a.createElement(Hr,{key:t,value:e.blocks[0].id},"".concat(e.name)):r.a.createElement(Hr,{disabled:!0,key:t,value:e.name},"".concat(e.name))})))):null,r.a.createElement(Rr,Object.assign({label:"After message",extra:"This message will display straight after the user's response"},this.props.options.layout),m("afterMessage",{initialValue:a.content.afterMessage,rules:[{required:!0,message:"Please input after message field"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Your input is recorded"}))),r.a.createElement(fn.a.Item,Object.assign({label:"Skippable?"},this.props.options.layout),m("isSkippable",{valuePropName:"checked",initialValue:a.isSkippable})(r.a.createElement(er.a,null,"Users can skip answering this question"))),r.a.createElement(fn.a.Item,Object.assign({label:"Store responses?"},this.props.options.layout),m("storeInDB",{valuePropName:"checked",initialValue:l.alwaysStoreInDB})(r.a.createElement(er.a,{disabled:l.alwaysStoreInDB},"Users' responses should be recorded")))))}}]),t}(n.Component),Vr=fn.a.create()(qr),Wr=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={layout:{labelCol:{span:6},wrapperCol:{span:14}},blockTypes:[],allBlocks:[],allGroups:[],currentGroup:null},a.handleEditBlock=function(e){e&&a.props.handleEditBlock(e),a.props.closeModal()},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;za.get("/assistant/flow/options").then(function(t){return e.setState({blockTypes:t.data.data.blockTypes})})}},{key:"componentWillReceiveProps",value:function(e){this.setState({block:e.block,allBlocks:e.blocks,allGroups:e.allGroups,currentGroup:e.currentGroup})}},{key:"render",value:function(){return r.a.createElement(bn.a,{width:800,title:"Edit Block",visible:this.props.visible,onCancel:this.props.closeModal,destroyOnClose:!0,footer:null},"User Input"===this.props.block.type?r.a.createElement(Ar,{options:this.state,handleEditBlock:this.handleEditBlock}):null,"Question"===this.props.block.type?r.a.createElement(Pr,{options:this.state,handleEditBlock:this.handleEditBlock}):null,"File Upload"===this.props.block.type?r.a.createElement(Mr,{options:this.state,handleEditBlock:this.handleEditBlock}):null,"Solutions"===this.props.block.type?r.a.createElement(Vr,{options:this.state,handleEditBlock:this.handleEditBlock}):null)}}]),t}(n.Component),Qr=bn.a.confirm,zr=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={addBlockVisible:!1,editBlockVisible:!1,deleteBlockVisible:!1,blocks:[],edittedBlock:{},deletedBlock:{content:{}}},a.showAddBlockModal=function(){return a.setState({addBlockVisible:!0})},a.closeAddBlockModal=function(){return a.setState({addBlockVisible:!1})},a.handleAddBlock=function(e){return a.props.addBlock(e,a.props.currentGroup.id)},a.editBlock=function(e){return a.setState({edittedBlock:e,editBlockVisible:!0})},a.closeEditBlockModal=function(){return a.setState({edittedBlock:{},editBlockVisible:!1})},a.handleEditBlock=function(e){return a.props.editBlock(e,a.props.currentGroup.id)},a.deleteBlock=function(e){return Qr({title:"Delete block with type: ".concat(e.type),content:"You can't get back to the deleted block after click ok",onOk:function(){return a.handleDeleteBlock(e)}})},a.handleDeleteBlock=function(e){a.props.deleteBlock(e,a.props.currentGroup.id);var t=a.state.blocks.filter(function(t){return t.id!==e.id});for(var n in t)t[n].order=Number(n)+1;a.setState({blocks:t}),a.props.reorderBlocks(t,a.props.currentGroup.id)},a.onDragEnd=a.onDragEnd.bind(Object(Qn.a)(Object(Qn.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"onDragEnd",value:function(e){if(e.destination){var t=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),o=Object(zn.a)(r,1)[0];return n.splice(a,0,o),n}(this.state.blocks,e.source.index,e.destination.index);for(var a in t)t[a].order=Number(a)+1;this.setState({blocks:t}),this.props.reorderBlocks(t,this.props.currentGroup.id)}}},{key:"componentWillReceiveProps",value:function(e){e.currentGroup!==this.state.currentGroup&&e.currentGroup.blocks&&this.setState({blocks:e.currentGroup.blocks})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:Yn.a.Panel},r.a.createElement("div",{className:Yn.a.Panel_Header},r.a.createElement("div",null,r.a.createElement("h3",null,this.props.currentGroup.name," Blocks")),r.a.createElement("div",null,r.a.createElement(sn.a,{className:Yn.a.Panel_Header_Button,type:"primary",icon:"plus",onClick:this.showAddBlockModal,disabled:!this.props.currentGroup.id},"Add Block"))),r.a.createElement("div",{className:Yn.a.Panel_Body},r.a.createElement("div",{style:{height:"100%",width:"100%",overflowY:"auto"}},r.a.createElement(or.a,{onDragEnd:this.onDragEnd},r.a.createElement(or.c,{droppableId:"droppable"},function(t){return r.a.createElement("div",{ref:t.innerRef},e.state.blocks.map(function(t,a){return r.a.createElement(or.b,{key:t.id,draggableId:t.order,index:a},function(a){return r.a.createElement("div",Object.assign({ref:a.innerRef},a.draggableProps,a.dragHandleProps,{style:(n=a.draggableProps.style,Object(ie.a)({margin:"0 0 8px 0"},n))}),r.a.createElement(rr,{block:t,editBlock:e.editBlock,deleteBlock:e.deleteBlock}));var n})}),t.placeholder)})))),r.a.createElement(Ir,{visible:this.state.addBlockVisible,handleAddBlock:this.handleAddBlock,closeModal:this.closeAddBlockModal,blocks:this.state.blocks,currentGroup:this.props.currentGroup,allGroups:this.props.allGroups}),r.a.createElement(Wr,{visible:this.state.editBlockVisible,handleEditBlock:this.handleEditBlock,closeModal:this.closeEditBlockModal,block:this.state.edittedBlock,blocks:this.state.blocks,currentGroup:this.props.currentGroup,allGroups:this.props.allGroups}))}}]),t}(n.Component),Kr=fn.a.create()(zr),Yr=a(202),Jr=a.n(Yr),Xr=a(1),Zr=a.n(Xr),$r=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:56,marginBottom:10}},r.a.createElement("div",{className:Jr.a.Panel},r.a.createElement("div",{className:Jr.a.Panel_Header},r.a.createElement("div",{style:{display:"-webkit-inline-box"}},r.a.createElement(sn.a,{onClick:this.context.router.history.goBack,type:"primary",icon:"left",shape:"circle",size:"small"}),r.a.createElement("h3",null,this.props.assistantName||this.props.display)))))}}]),t}(n.Component);$r.contextTypes={router:Zr.a.object};var eo=$r,to=a(286),ao=a.n(to),no=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentGroup:{blocks:[]}},a.selectGroup=function(e){return a.setState({currentGroup:e})},a.addGroup=function(e){var t=a.props.location.state.assistant;a.props.dispatch(we.addGroupRequest({ID:t.ID,newGroup:e}))},a.editGroup=function(e){var t=a.props.location.state.assistant;a.props.dispatch(we.editGroupRequest({ID:t.ID,editedGroup:e}))},a.deleteGroup=function(e){var t=a.props.location.state.assistant;a.props.dispatch(we.deleteGroupRequest({assistantID:t.ID,deletedGroup:e}))},a.addBlock=function(e,t){var n=a.props.location.state.assistant;a.props.dispatch(we.addBlockRequest({newBlock:e,groupID:t,assistantID:n.ID}))},a.editBlock=function(e,t){var n=a.props.location.state.assistant;a.props.dispatch(we.editBlockRequest({edittedBlock:e,groupID:t,assistantID:n.ID}))},a.deleteBlock=function(e,t){var n=a.props.location.state.assistant;a.props.dispatch(we.deleteBlockRequest({deletedBlock:e,groupID:t,assistantID:n.ID}))},a.reorderBlocks=function(e,t){var n=a.props.location.state.assistant;a.props.dispatch(we.updateBlocksOrderRequest({newBlocksOrder:e,groupID:t,assistantID:n.ID}))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state.assistant;this.props.dispatch(we.fetchFlowRequest(e.ID))}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.blockGroups!==this.props.blockGroups&&e.blockGroups.map(function(e){e.id===t.state.currentGroup.id&&t.setState({currentGroup:e})})}},{key:"render",value:function(){var e=this.props.location.state.assistant;return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(eo,{display:e.Name}),r.a.createElement("div",{className:ao.a.Panel_Body_Only},r.a.createElement("div",{style:{margin:"0 5px 0 0",width:"30%"}},r.a.createElement(Wn,{selectGroup:this.selectGroup,isLoading:this.props.isLoading,groupsList:this.props.blockGroups,addGroup:this.addGroup,editGroup:this.editGroup,deleteGroup:this.deleteGroup})),r.a.createElement("div",{style:{margin:"0 0 0 5px",width:"70%"}},r.a.createElement(Kr,{addBlock:this.addBlock,editBlock:this.editBlock,deleteBlock:this.deleteBlock,reorderBlocks:this.reorderBlocks,currentGroup:this.state.currentGroup,allGroups:this.props.blockGroups}))))}}]),t}(n.Component);var ro=Object(mn.a)(function(e){return{blockGroups:e.flow.blockGroups,isLoading:e.flow.isLoading,addSuccessMsg:e.flow.addSuccessMsg,editSuccessMsg:e.flow.editSuccessMsg,deleteSuccessMsg:e.flow.deleteSuccessMsg,isAddingGroup:e.flow.isAddingGroup,isEditingGroup:e.flow.isEditingGroup,isDeletingGroup:e.flow.isDeletingGroup,isAddingBlock:e.flow.isAddingBlock}})(no),oo=a(48),so=(a(501),a(160)),lo=a.n(so),io=fn.a.Item,co=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",email:"",companyName:""},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.props.saveProfileDetails(t)})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.profileData;Object(oo.isEmpty)(t)||t.user&&t.user.email!==this.state.email&&this.setState({name:t.user.Firstname+" "+t.user.Surname,email:t.user.Email,companyName:t.company.Name})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:14}};return r.a.createElement(fn.a,{onSubmit:this.handleSubmit},r.a.createElement(io,Object.assign({label:"Name:",extra:"Enter your name here"},t),e("name",{initialValue:this.state.name,rules:[{required:!0,message:"Please enter your first and last name here"}]})(r.a.createElement(gn.a,null))),r.a.createElement(io,Object.assign({label:"Email:",extra:"Enter your email here (For your security we have temporarily disabled this box)"},t),e("email",{initialValue:this.state.email,rules:[{required:!0,message:"Please enter a valid email"}]})(r.a.createElement(gn.a,{readOnly:!0}))),r.a.createElement(io,Object.assign({label:"Company Name:",extra:"Enter your company name here"},t),e("companyName",{initialValue:this.state.companyName,rules:[{required:!0,message:"Please enter your company name"}]})(r.a.createElement(gn.a,null))),r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(sn.a,{htmlType:"submit",className:"ant-btn-primary"},"Update")))}}]),t}(r.a.Component),uo=fn.a.create()(co),po=a(147),ho=fn.a.Item,mo=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={newsletters:!1,statNotifications:!1,trackData:!1,techSupport:!1,accountSpecialist:!1,initialRender:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){console.log("VALUES: ",t),e||a.props.saveDataSettings(t)})},a.handleChange=function(e){var t=e.target.name,n=e.target.checked;a.setState(Object(po.a)({},t,n))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:14}};return r.a.createElement(fn.a,{onSubmit:this.handleSubmit},r.a.createElement("h2",null,"Data Sharing Settings"),r.a.createElement("p",null,"Any data that you collect, process and store on TheSearchBase platform is kept secure and confidential at all times. The data that you collect is data that enables our software to work at its optimum level."),r.a.createElement("h4",null,"This part of the website enables you to control what settings you may share with us."),r.a.createElement("br",null),r.a.createElement(ho,Object.assign({label:"Newsletters:",extra:"We would like to keep you updated with the latest software updates and features available to\nyou, If you decide to not subscribe you may miss on important features and announcements."},t),e("newsletters",{initialValue:this.state.newsletters})(r.a.createElement(gn.a,{type:"checkbox",name:"newsletters",onChange:this.handleChange,checked:this.state.newsletters}))),r.a.createElement("br",null),r.a.createElement(ho,Object.assign({label:"New Users Counter:",extra:"If allowed we will send you the number of new user records your assistants have stored every 12 hours through email."},t),e("statNotifications",{initialValue:this.state.statNotifications})(r.a.createElement(gn.a,{type:"checkbox",name:"statNotifications",onChange:this.handleChange,checked:this.state.statNotifications}))),r.a.createElement("br",null),r.a.createElement("strong",null,"Erasing data"),r.a.createElement("p",null,"If you decide to stop using our platform, we will simply delete your information after a year of inactivity."),r.a.createElement("br",null),r.a.createElement(ho,Object.assign({label:"Tracking Data:",extra:"We do not in any way track your information for marketing purposes. However we would recommend allowing us to contact you if we see that there are ways we could enhance your bot or use of our software."},t),e("trackData",{initialValue:this.state.trackData})(r.a.createElement(gn.a,{type:"checkbox",name:"trackData",onChange:this.handleChange,checked:this.state.trackData}))),r.a.createElement("br",null),r.a.createElement(ho,Object.assign({label:"Technical Support:",extra:"Let our team view your errors and problems in order for us to solve your issues."},t),e("techSupport",{initialValue:this.state.techSupport})(r.a.createElement(gn.a,{type:"checkbox",name:"techSupport",onChange:this.handleChange,checked:this.state.techSupport}))),r.a.createElement("br",null),r.a.createElement(ho,Object.assign({label:"Account Specialist:",extra:"Let our team contact you to help make recommendations as to how you can make your bots more successful and ways to collect more valuable data. If you don't have a sales specialist, we recommend you enable this so we can help you make the most of our software."},t),e("accountSpecialist",{initialValue:this.state.accountSpecialist})(r.a.createElement(gn.a,{type:"checkbox",name:"accountSpecialist",onChange:this.handleChange,checked:this.state.accountSpecialist}))),r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(sn.a,{htmlType:"submit",className:"ant-btn-primary"},"Update")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t.initialRender)return e;var a=e.profileData;return Object(oo.isEmpty)(a)?{newsletters:!1,statNotifications:!1,trackData:!1,techSupport:!1,accountSpecialist:!1,initialRender:!1}:a.userSettings?{newsletters:a.newsletters,statNotifications:a.userSettings.UserInputNotifications,trackData:a.userSettings.TrackingData,techSupport:a.userSettings.TechnicalSupport,accountSpecialist:a.userSettings.AccountSpecialist,initialRender:!0}:{newsletters:a.newsletters,statNotifications:!1,trackData:!1,techSupport:!1,accountSpecialist:!1,initialRender:!0}}}]),t}(r.a.Component),fo=fn.a.create()(mo),bo=sr.a.TabPane,go=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).saveProfileDetails=function(e){a.props.dispatch(Oe.saveProfileDetails(e))},a.saveDataSettings=function(e){a.props.dispatch(Oe.saveDataSettings(e))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Oe.getProfile())}},{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("div",{className:lo.a.Panel},r.a.createElement("div",{className:lo.a.Panel_Header},r.a.createElement("div",null,r.a.createElement("h3",null,"User Conversation"),r.a.createElement("p",null,"Here you can edit your details and how we handle your data."))),r.a.createElement("div",{className:lo.a.Panel_Body,style:{overflowY:"auto"}},r.a.createElement(sr.a,{defaultActiveKey:"1"},r.a.createElement(bo,{tab:"Conversation Details",key:"1"},r.a.createElement(uo,{profileData:this.props.profileData,saveProfileDetails:this.saveProfileDetails})),r.a.createElement(bo,{tab:"Data Settings",key:"2"},r.a.createElement(fo,{profileData:this.props.profileData,saveDataSettings:this.saveDataSettings}))))))}}]),t}(r.a.Component);var Eo=Object(b.b)(function(e){return{profileData:e.profile.profile}})(fn.a.create()(go)),yo=a(72),So=a.n(yo),ko=a(287),_o=a.n(ko),vo=a(288),wo=(a(635),gn.a.TextArea),To=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={source:"",dataName:"tsb-widget",assistantID:"assistantid",dataCircle:"#9254de",async:!0,defer:!0},a.handleChange=function(e){return a.setState({dataCircle:e.hex||e.target.value})},a.removeChatbot=function(){var e=document.getElementById("TheSearchBase_Chatbot");e&&e.remove();var t=document.getElementById("oldBotScript");t&&t.remove()},a.copyScriptPaste=function(){document.getElementById("pasteArea").select(),document.execCommand("copy")},a.testIntegration=function(){a.removeChatbot();var e=document.createElement("script");e.src=a.state.source,e.async=a.state.async,e.defer=a.state.defer,e.setAttribute("data-name",a.state.dataName),e.setAttribute("data-id",a.state.assistantID),e.setAttribute("data-circle",a.state.dataCircle),e.setAttribute("id","oldBotScript"),document.body.appendChild(e)},a.getWidgetSrc=function(){var e="";""!==window.location.port&&(e=":");var t=window.location,a=t.protocol,n=t.port;return a+"//"+t.hostname+e+n+"/userdownloads/chatbot.js"},a.generateDirectLink=function(){var e=window.location,t=e.protocol,a=e.port,n=e.hostname,r="";""!==window.location.port&&(r=":"),"3000"===a?window.open("".concat(t,"//").concat(n).concat(r,"5000/assistant/YJkLo/chatbot_direct_link")):window.open("".concat(t,"//").concat(n).concat(r).concat(a,"/assistant/YJkLo/chatbot_direct_link"))},a.getChatbotScript=function(){return r.a.createElement("script",{src:a.getWidgetSrc(),"data-name":a.state.dataName,"data-id":a.state.assistantID,"data-circle":a.state.dataCircle,async:a.state.async,defer:a.state.defer})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({assistantID:Ja(this.props.match.params.id),source:this.getWidgetSrc()})}},{key:"componentWillUnmount",value:function(){this.removeChatbot()}},{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(eo,{display:"Integration"}),r.a.createElement("div",{className:So.a.Panel_Body_Only},r.a.createElement("div",{style:{marginRight:5,width:"45%"},className:So.a.Panel},r.a.createElement("div",{className:So.a.Panel_Header,style:{position:"inherit"}},r.a.createElement("h3",null,"Choosing your Assistant's looks")),r.a.createElement("div",{className:So.a.Panel_Body},r.a.createElement(Zn.a,{type:"flex",justify:"center"},r.a.createElement($n.a,null,r.a.createElement("p",null," Currently you can edit the colour setting of your assistant's button. Simply pick your preferred one bellow."))),r.a.createElement("br",null),r.a.createElement(Zn.a,{type:"flex",justify:"center",style:{marginBottom:50}},r.a.createElement($n.a,null,r.a.createElement(vo.SwatchesPicker,{color:this.state.dataCircle,onChange:this.handleChange}))),r.a.createElement(Zn.a,{type:"flex",justify:"center"},r.a.createElement($n.a,null,r.a.createElement("p",{style:{lineHeight:"27px",marginRight:5}},"Selected Color:")),r.a.createElement($n.a,null,r.a.createElement(gn.a,{style:{padding:"3px",width:"60px"},type:"color",name:"dataCircle",value:this.state.dataCircle,onChange:this.handleChange}))))),r.a.createElement("div",{style:{marginLeft:5,width:"55%"},className:So.a.Panel},r.a.createElement("div",{className:So.a.Panel_Header,style:{position:"inherit"}},r.a.createElement("h3",null,"Connecting your assistant")),r.a.createElement("div",{className:So.a.Panel_Body,style:{textAlign:"center"}},r.a.createElement("p",{style:{textAlign:"left"}},"To integrate your assistant, you must paste the pre-made code into any part of your HTML source code."),r.a.createElement(wo,{value:_o.a.renderToString(this.getChatbotScript()),id:"pasteArea",style:{width:"100%",height:"110px",fontWeight:"600",margin:"1.5% 0"},readOnly:!0}),r.a.createElement(sn.a,{onClick:this.copyScriptPaste,className:"ant-btn-primary"},"Copy"),r.a.createElement(sn.a,{style:{marginLeft:"5px"},onClick:this.testIntegration,className:"ant-btn-primary"},"Test"),r.a.createElement(sn.a,{style:{marginLeft:"5px"},onClick:this.generateDirectLink,className:"ant-btn-primary"},"Generate Direct Link")))))}}]),t}(r.a.Component),Oo=(a(637),a(121)),Io=a.n(Oo),xo=(a(640),a(662)),Do=a(289),Go=a.n(Do),Ao=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={fileNames:[]},a.counter=-1,a.columns=[{title:"Question",key:"questionText",render:function(e,t,a){return r.a.createElement("p",null,t.questionText)}},{title:"Input",key:"input",render:function(e,t,n){return"&FILE_UPLOAD&"===t.input?(a.counter+=1,r.a.createElement(sn.a,{hreftype:"primary","data-index":a.counter,icon:"download",size:"small",onClick:function(e){a.downloadFile(e)}},"Download File")):r.a.createElement("p",null,t.input)}}],a.downloadFile=function(e){var t=a.state.fileNames[e.target.getAttribute("data-index")];t?za({url:"/assistant/".concat(a.props.assistant.ID,"/userinput/").concat(t),method:"GET",responseType:"blob"}).then(function(e){Go()(new Blob([e.data]),t)}).catch(function(e){O("File Error","Sorry, cannot download this file!")}):O("File Error","Sorry, but file doesn't exist!")},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){e.record&&e.record.FilePath&&this.setState({fileNames:e.record.FilePath.split(",")})}},{key:"render",value:function(){var e=this.props.record;return console.log(this.state),r.a.createElement(bn.a,{width:800,title:"User Inputs",destroyOnClose:!0,visible:this.props.visible,onCancel:this.props.closeViewModal,onOk:this.props.closeViewModal,footer:[r.a.createElement(sn.a,{key:"Cancel",onClick:this.props.closeViewModal},"OK")]},this.props.record?r.a.createElement(xo.a,{columns:this.columns,dataSource:e.Data.collectedInformation,size:"middle",pagination:!1}):r.a.createElement("p",null,"No Data"))}}]),t}(n.Component),Bo=a(203),Co=a.n(Bo),jo=bn.a.confirm,Po=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={viewModal:!1,selectedRecord:null},a.columns=[{title:"#",dataIndex:"#",key:"#",render:function(e,t,a){return r.a.createElement("p",null,a+1)}},{title:"Date & Time",dataIndex:"DateTime",key:"DateTime",render:function(e,t){return r.a.createElement("p",null,Co()(t.DateTime).format("llll"))}},{title:"Questions Answered",dataIndex:"QuestionsAnswered",key:"QuestionsAnswered"},{title:"Solutions Returned",dataIndex:"SolutionsReturned"},{title:"Time Spent",dataIndex:"TimeSpent",key:"TimeSpent",render:function(e,t){return r.a.createElement("p",null,Co.a.duration(parseInt(e),"seconds").asMinutes().toFixed(2)+" minute(s)")}},{title:"Action",key:"action",render:function(e,t,n){return r.a.createElement("span",null,r.a.createElement("a",{onClick:function(){a.setState({viewModal:!0,selectedRecord:t})}}," View"))}}],a.closeViewModal=function(){a.setState({viewModal:!1,selectedRecord:null})},a.clearAllUserInputs=function(){var e=a.props.location.state.assistant;a.props.dispatch(Ie.clearAllUserInputs(e.ID))},a.showConfirmForClearing=function(){var e=a.clearAllUserInputs;jo({title:"Do you want to delete all records?",content:"By clicking OK, there will be no way to get these records back!",okType:"danger",onOk:function(){e()},onCancel:function(){}})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state.assistant;this.props.dispatch(Ie.fetchUserInputs(e.ID))}},{key:"render",value:function(){var e=this.props.location.state.assistant;return console.log(this.props.userInputs),r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(eo,{display:e.Name}),r.a.createElement("div",{className:Io.a.Panel},r.a.createElement("div",{className:Io.a.Panel_Header},r.a.createElement("div",null,r.a.createElement("h3",null,e.Name,": User Inputs"),r.a.createElement("p",null,"Here you can find all the responses to your assistant's chatbot"))),r.a.createElement("div",{className:Io.a.Panel_Body,style:{overflowY:"auto"}},r.a.createElement(sn.a,{className:Io.a.ClearAllBtn,type:"primary",icon:"delete",onClick:this.showConfirmForClearing,loading:this.props.isClearingAll},"Clear All"),r.a.createElement(xo.a,{columns:this.columns,dataSource:this.props.userInputs.data,loading:this.props.isLoading,size:"middle"}))),r.a.createElement(Ao,{visible:this.state.viewModal,closeViewModal:this.closeViewModal,filesPath:this.props.userInputs.filesPath,record:this.state.selectedRecord,assistant:e}))}}]),t}(r.a.Component),Lo=Object(mn.a)(function(e){var t=e.userInput;return{userInputs:t.userInputs,isLoading:t.isLoading,errorMsg:t.errorMsg,isClearingAll:t.isClearingAll}})(Po),Uo=a(112),No=a.n(Uo),Fo=(a(644),fn.a.Item),Mo=sr.a.TabPane,Ro=In.a.OptGroup,Ho=In.a.Option,qo=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={connectionType:"none",uploadFile:void 0},a.handleSave=function(){return a.props.form.validateFields(function(e,t){if(e||void 0===a.state.uploadFile&&!a.props.edit)return!1;t.uploadFile=a.state.uploadFile;var n=new FormData;for(var r in t)t.hasOwnProperty(r)&&n.append(r,t[r]);a.props.handleSave(n,a.props.edit)})},a.changeTypeHandler=function(e){"RDB XML File Export"===e?a.setState({connectionType:"fileUpload"}):"Bullhorn"===e||"RDB"===e?a.setState({connectionType:"CRMConnection"}):a.setState({connectionType:"none"})},a.onFileChange=function(e){var t=e.target.files[0];a.setState({uploadFile:t})},a.closeModal=function(){a.props.handleCancel()},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(){this.props.visible||(this.setState({uploadFile:void 0,connectionType:"none"}),this.changeTypeHandler("none"))}},{key:"render",value:function(){var e={labelCol:{span:6},wrapperCol:{span:14}},t=this.props.form.getFieldDecorator,a=this.props.edit;return a&&"none"===this.state.connectionType&&this.changeTypeHandler(this.props.solutionToEdit.Solution.Type),r.a.createElement(bn.a,{width:800,title:"Create New Solution",destroyOnClose:!0,visible:this.props.visible,onOk:this.props.handleSave,onCancel:this.props.handleCancel,footer:[r.a.createElement(sn.a,{key:"Cancel",onClick:this.closeModal},"Cancel"),r.a.createElement(sn.a,{key:"submit",type:"primary",onClick:this.handleSave},a?"Update":"Add")]},r.a.createElement(fn.a,{layout:"horizontal"},r.a.createElement(Fo,Object.assign({label:"Solution Name",extra:"Enter a name for your solution to easily identify it in the solution list"},e),t("name",{initialValue:a?this.props.solutionToEdit.Solution.Name:"",rules:[{required:!0,message:"Please enter your solution name"}]})(r.a.createElement(gn.a,{placeholder:"Ex: Jobs file, Bullhorn connection"}))),r.a.createElement(Fo,Object.assign({label:"Solution Type",extra:"The type of File or CRM you want to connect"},e),t("type",{initialValue:a?this.props.solutionToEdit.Solution.Type:"",rules:[{required:!0,message:"Please select what type of connection you are making"}]})(r.a.createElement(In.a,{onChange:this.changeTypeHandler},r.a.createElement(Ro,{label:"File Upload"},this.props.databaseFileTypes.map(function(e){return r.a.createElement(Ho,{key:e,value:e},e)}))))),r.a.createElement(sr.a,{activeKey:this.state.connectionType,tabBarStyle:{display:"none"}},r.a.createElement(Mo,{tab:"none",key:"none"},r.a.createElement("div",{style:{height:"86px",width:"752px"}})),r.a.createElement(Mo,{tab:"fileUpload",key:"fileUpload"},r.a.createElement(Fo,Object.assign({label:"Upload File",extra:"Select the file you wish to upload"},e),r.a.createElement(gn.a,{type:"file",id:"fileUpload",hidden:!0,onChange:this.onFileChange}),r.a.createElement(sn.a,{onClick:function(){document.getElementById("fileUpload").click()}},r.a.createElement(an.a,{type:"upload"}),"Select File")," ",r.a.createElement("label",null,this.state.uploadFile?this.state.uploadFile.name:"No File Chosen"))),r.a.createElement(Mo,{tab:"CRMConnection",key:"CRMConnection"},r.a.createElement(Fo,Object.assign({label:"CRM Connection Link",extra:"Please paste your connection link"},e),t("CRMLink",{rules:[{required:"CRMConnection"===this.state.connectionType,message:"Please paste the connection link for your CRM provided to you by us or your CRM manager"}]})(r.a.createElement(gn.a,{placeholder:""})))))))}}]),t}(r.a.Component),Vo=fn.a.create()(qo),Wo=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={SolutionModal:!1,editMode:!1,selectedSolutionToEdit:{}},a.handleSolution=function(e,t){t?(a.props.editSolution(e),a.setState({SolutionModal:!1,editMode:!1})):(a.props.addSolution(e),a.setState({SolutionModal:!1,editMode:!1}))},a.handleSolutionCancel=function(){return a.setState({SolutionModal:!1,editMode:!1})},a.showSolutionModal=function(){return a.setState({SolutionModal:!0})},a.selectSolution=function(e){a.setState({selectedSolutionToEdit:e,editMode:!0,SolutionModal:!0})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:No.a.Panel},r.a.createElement("div",{className:No.a.Panel_Header},r.a.createElement("div",null,r.a.createElement("h3",null,"Solutions List")),r.a.createElement("div",null,r.a.createElement(sn.a,{className:No.a.Panel_Header_Button,type:"primary",icon:"plus",onClick:this.showSolutionModal},"Add Solution"))),r.a.createElement("div",{className:No.a.Panel_Body},this.props.isLoading?r.a.createElement(Un.a,null,r.a.createElement(ln.a,{active:!0})):r.a.createElement(Nn.a,{itemLayout:"horizontal",dataSource:this.props.solutionsData,renderItem:function(t){return r.a.createElement(Nn.a.Item,{actions:[r.a.createElement(sn.a,{icon:"edit",onClick:function(){return e.selectSolution(t)}})]},r.a.createElement(Nn.a.Item.Meta,{onClick:function(){return e.props.selectSolution(t)},className:No.a.groupsList,avatar:r.a.createElement(tn.a,{icon:"database",style:{backgroundColor:"#9254de"}}),title:t.Solution.Name,description:t.description}))}})),r.a.createElement(Vo,{visible:this.state.SolutionModal,handleCancel:this.handleSolutionCancel,handleSave:this.handleSolution,databaseFileTypes:this.props.databaseFileTypes,databaseCRMTypes:this.props.databaseCRMTypes,edit:this.state.editMode,solutionToEdit:this.state.editMode?this.state.selectedSolutionToEdit:{}}))}}]),t}(r.a.Component),Qo=a(49),zo=a.n(Qo),Ko=a(108),Yo=a(31),Jo=fn.a.Item,Xo=In.a.Option,Zo=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={solutionID:void 0,chosenDisplays:[]},a.addNewDisplaySelect=function(){var e=Object(pr.a)(a.state.chosenDisplays);e.push(void 0),a.setState({chosenDisplays:e})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.props.updateInformationToDisplay(t)})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return r.a.createElement(fn.a,{style:{textAlign:"center"},onSubmit:this.handleSubmit},r.a.createElement("p",null,"From here you can choose which part of your information you want to be displayed inside the solution box. If you are unsure what data is inside those titles simply have a look at the Raw Data section."),r.a.createElement(sn.a,{className:zo.a.Button,type:"primary",onClick:this.addNewDisplaySelect},"Add More Information"),r.a.createElement(Ko.a,null,this.state.chosenDisplays.map(function(a,n){return r.a.createElement(Jo,{style:{marginBottom:"5px"},key:n},t("displaySelect"+String(n),{initialValue:a,rules:[{required:!0,message:"Please select a header"}]})(r.a.createElement(In.a,{className:zo.a.Select},e.props.currentSolution.DisplayTitles.map(function(e,t){return r.a.createElement(Xo,{key:t,value:e},e)}))))})),r.a.createElement(sn.a,{htmlType:"submit",className:"ant-btn-primary",style:{marginTop:"10px"}},"Update"))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.currentSolution.Solution.ID===t.solutionID?null:void 0===e.currentSolution.Solution?null:null===e.currentSolution.Solution.DisplayTitles?null:{chosenDisplays:Object(pr.a)(e.currentSolution.Solution.DisplayTitles.titleValues),solutionID:e.currentSolution.Solution.ID}}}]),t}(r.a.Component),$o=fn.a.create()(Zo),es=fn.a.Item,ts=In.a.Option,as=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={webLink:"",IDHeader:""},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.props.updateButtonLink(t)})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(fn.a,{style:{textAlign:"center"},onSubmit:this.handleSubmit},r.a.createElement("p",null,"In order to be able to direct users to your solutions at your home website we will need some input from you. We would need the page part that holds all the solutions and then the solution reference. For example that can be http://mycoolwebsite.com/jobs/JobID* . To create the bridge between us we would need that information in the bellow text inputs. ",r.a.createElement("br",null),r.a.createElement("strong",null,"To do that just contact us and we will find them for you."),r.a.createElement("br",null),'Alternatively you can try finding them on your own. To do that please provide us with the link (ex. "http://mycoolwebsite.com/jobs/") and then the reference to the JobID which you can find in your upload file(add @ in front of it) or Raw Data bellow.',r.a.createElement("br",null),'For example: "@JobID" : C2143. ',r.a.createElement("br",null),"You can also take your solution ID and use Ctrl + F on this page to find the corresponding title in the Raw Data."),r.a.createElement(es,{style:{margin:"15px 0 5px 0"}},e("webLink",{initialValue:this.state.webLink,rules:[{required:!0,message:"Please paste the link without the solution ID here"}]})(r.a.createElement(gn.a,{className:zo.a.Input,placeholder:"https://jobwebsite.com/jobs/"}))),r.a.createElement(es,{style:{marginBottom:"5px"}},e("IDHeader",{initialValue:this.state.IDHeader,rules:[{required:!0,message:"Please select the header that holds the job ID"}]})(r.a.createElement(In.a,{className:zo.a.Select,placeholder:"@JobID"},this.props.currentSolution.DisplayTitles.map(function(e,t){return r.a.createElement(ts,{key:t,value:e},e)})))),r.a.createElement(sn.a,{htmlType:"submit",className:"ant-btn-primary",style:{marginTop:"10px"}},"Update"))}}],[{key:"getDerivedStateFromProps",value:function(e){return void 0===this||Object(oo.isEmpty)(this.props.currentSolution)||this.props.currentSolution.Solution.ID!==e.currentSolution.Solution.ID?void 0===e.currentSolution.Solution?{webLink:"",IDHeader:""}:{webLink:e.currentSolution.Solution.WebLink,IDHeader:e.currentSolution.Solution.IDReference}:{webLink:"",IDHeader:""}}}]),t}(r.a.Component),ns=fn.a.create()(as),rs=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("p",null,"You can send emails to your clients when a new Solution suited for them has been added to your records. This can be done manually by clicking the button bellow or by ticking the box which will check and send them every time you update your data."),r.a.createElement(sn.a,{onClick:this.props.sendSolutionAlerts,className:zo.a.Button,type:"primary"},"Send Matches"),r.a.createElement("br",null),r.a.createElement("label",null,"Automatic Matching on Record Update:"),r.a.createElement("br",null),r.a.createElement(dn.a,{loading:!1,checkedChildren:"On",unCheckedChildren:"Off",defaultChecked:this.props.currentSolution.Solution.automaticSolutionAlerts,onChange:this.props.submitAutomaticAlerts}))}}]),t}(r.a.Component),os=sr.a.TabPane,ss=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:zo.a.Panel},r.a.createElement("div",{className:zo.a.Panel_Header},r.a.createElement("div",null,r.a.createElement("h3",{style:{height:"32px"}},"Solution Settings"))),r.a.createElement("div",{className:zo.a.Panel_Body},r.a.createElement(Yo.a,{transitionName:"fade",transitionAppear:!0},Object(oo.isEmpty)(this.props.currentSolution)?null:r.a.createElement(sr.a,{defaultActiveKey:"1"},r.a.createElement(os,{tab:"Information to Display",key:"1"},r.a.createElement($o,{currentSolution:this.props.currentSolution,updateInformationToDisplay:this.props.updateInformationToDisplay})),r.a.createElement(os,{tab:"Button Link",key:"2"},r.a.createElement(ns,{currentSolution:this.props.currentSolution,updateButtonLink:this.props.updateButtonLink})),r.a.createElement(os,{tab:"Email Auto-match",key:"4"},r.a.createElement(rs,{currentSolution:this.props.currentSolution,sendSolutionAlerts:this.props.sendSolutionAlerts,submitAutomaticAlerts:function(t){e.props.updateAutomaticAlerts(t)}}))))))}}]),t}(r.a.Component),ls=fn.a.create()(ss),is=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentSolution:{},databaseFileTypes:["RDB XML File Export"],databaseCRMTypes:["Bullhorn","RDB"]},a.selectSolution=function(e){return a.setState({currentSolution:e})},a.addSolution=function(e){var t=a.props.location.state.assistant;a.props.dispatch(xe.addSolution({ID:t.ID,newSolution:e}))},a.editSolution=function(e){var t=a.props.location.state.assistant;a.props.dispatch(xe.editSolution({ID:t.ID,editedSolution:e}))},a.deleteSolution=function(e){},a.updateInformationToDisplay=function(e){a.props.dispatch(xe.updateSolutionInformationToDisplay({solutionID:a.state.currentSolution.Solution.ID,information:e}))},a.updateButtonLink=function(e){a.props.dispatch(xe.updateButtonLink({solutionID:a.state.currentSolution.Solution.ID,information:e}))},a.sendSolutionAlerts=function(){var e=a.props.location.state.assistant;a.props.dispatch(xe.sendSolutionAlert({assistantID:e,solutionID:a.state.currentSolution.Solution.ID}))},a.updateAutomaticAlerts=function(e){a.props.dispatch(xe.updateAutomaticSolutions({solutionID:a.state.currentSolution.Solution.ID,information:{setTo:e}}))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state.assistant;this.props.dispatch(xe.getSolutions(e.ID))}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.solutions!==this.props.solutions&&e.solutionsData.map(function(e){e.id===t.state.currentSolution.id&&t.setState({currentSolution:e})})}},{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("div",{style:{padding:"0 5px"}},r.a.createElement("div",{style:{width:"100%",height:56,marginBottom:10}},r.a.createElement(eo,{display:"Solutions"}))),r.a.createElement("div",{style:{height:"calc(100% - 66px)",width:"100%",display:"flex"}},r.a.createElement("div",{style:{margin:5,width:"30%"}},r.a.createElement(Wo,{selectSolution:this.selectSolution,isLoading:this.props.isLoading,solutionsData:this.props.solutionsData,addSolution:this.addSolution,editSolution:this.editSolution,deleteSolution:this.deleteSolution,databaseFileTypes:this.state.databaseFileTypes,databaseCRMTypes:this.state.databaseCRMTypes})),r.a.createElement("div",{style:{margin:5,width:"70%"}},r.a.createElement(ls,{currentSolution:this.state.currentSolution,updateInformationToDisplay:this.updateInformationToDisplay,updateButtonLink:this.updateButtonLink,updateAutomaticAlerts:this.updateAutomaticAlerts,sendSolutionAlerts:this.sendSolutionAlerts}))))}}]),t}(r.a.Component);var cs=Object(mn.a)(function(e){return{solutionsData:e.solutions.solutionsData,isLoading:e.solutions.isLoading,errorMsg:e.solutions.errorMsg}})(is),us=(a(647),a(162)),ps=a.n(us),ds=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("div",{className:ps.a.Panel},r.a.createElement("div",{className:ps.a.Panel_Header}),r.a.createElement("div",{className:ps.a.Panel_Body,style:{overflowY:"auto"}},r.a.createElement("h1",null,"Welcome to the Dashboard."),r.a.createElement("h3",null,"Use your side navigation to navigate the application."))))}}]),t}(r.a.Component),hs=$a.a.SubMenu,ms=$a.a.Divider,fs=en.a.Header,bs=en.a.Content,gs=en.a.Footer,Es=en.a.Sider,ys=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1,marginLeft:200},a.toggle=function(){a.setState({collapsed:!a.state.collapsed},function(){return a.setState({marginLeft:a.state.collapsed?81:200})})},a.handleMenuClick=function(e){"logout"===e.key&&a.logout(),"dashboard"===e.key?E.push("/dashboard"):E.push("/dashboard/".concat(e.key))},a.logout=function(){Qa.dispatch(_e.logout())},a.getInitials=function(e){var t=e.match(/\b\w/g)||[];return((t.shift()||"")+(t.pop()||"")).toUpperCase()},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.match,t=S(),a=null;if(t){var n=r.a.createElement(tn.a,{size:"large",style:{backgroundColor:"#9254de",verticalAlign:"middle"}},this.getInitials(t.username||"")),o=r.a.createElement($a.a,{onClick:this.handleMenuClick},r.a.createElement($a.a.Item,{key:"profile"},r.a.createElement("div",{style:{display:"flex",marginTop:"10px"}},n,r.a.createElement("div",{style:{marginLeft:"10px"}},r.a.createElement("h3",null,t.username),r.a.createElement("p",null,t.email)))),r.a.createElement($a.a.Divider,null),r.a.createElement($a.a.Item,{key:"logout"},r.a.createElement(an.a,{type:"logout"}),r.a.createElement("span",null,"Logout")));a=r.a.createElement(nn.a,{overlay:o,overlayStyle:{width:"255px"}},n)}else this.logout();return r.a.createElement(en.a,{style:{height:"100%"}},r.a.createElement(Es,{trigger:null,collapsible:!0,collapsed:this.state.collapsed,className:on.a.Sider},r.a.createElement("div",{className:on.a.Logo},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(an.a,{type:"cloud",theme:"twoTone",twoToneColor:"#9254de",style:{fontSize:44}}),r.a.createElement("div",{style:{lineHeight:"43px",marginLeft:25}},"TheSearchBase"))),r.a.createElement($a.a,{theme:"light",defaultSelectedKeys:["dashboard"],mode:"inline",onClick:this.handleMenuClick},r.a.createElement($a.a.Item,{key:"dashboard"},r.a.createElement(an.a,{type:"home"}),r.a.createElement("span",null,"Home")),r.a.createElement($a.a.Item,{key:"assistants"},r.a.createElement(an.a,{type:"robot"}),r.a.createElement("span",null,"Assistants")),r.a.createElement(ms,null),r.a.createElement(hs,{key:"sub2",title:r.a.createElement("span",null,r.a.createElement(an.a,{type:"user"}),r.a.createElement("span",null,"Account Details"))},r.a.createElement($a.a.Item,{key:"profile"},r.a.createElement(an.a,{type:"profile"}),"Conversation"),r.a.createElement($a.a.Item,{key:"users-management",style:{fontSize:"9pt"}},r.a.createElement(an.a,{type:"usergroup-add"}),"Users Management")),r.a.createElement($a.a.Item,{key:"support"},r.a.createElement(an.a,{type:"question-circle"}),r.a.createElement("span",null,"Support")))),r.a.createElement(en.a,{style:{marginLeft:this.state.marginLeft,height:"100%"}},r.a.createElement(fs,{className:on.a.Header},r.a.createElement(an.a,{className:on.a.Trigger,type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),r.a.createElement("div",{className:on.a.UserInfo},a)),r.a.createElement(bs,{style:{margin:16,marginTop:10,marginBottom:0,height:"100%"}},r.a.createElement(d.a,null,r.a.createElement(h.a,{path:"".concat(e.path,"/assistants/:id/flow"),component:ro}),r.a.createElement(h.a,{path:"".concat(e.path,"/assistants/:id/integration"),component:To}),r.a.createElement(h.a,{path:"".concat(e.path,"/assistants/:id/chatbotSessions"),component:Lo}),r.a.createElement(h.a,{path:"".concat(e.path,"/assistants/:id/solutions"),component:cs}),r.a.createElement(h.a,{path:"".concat(e.path,"/assistants"),component:jn,exact:!0}),r.a.createElement(h.a,{path:"".concat(e.path,"/profile"),component:Eo,exact:!0}),r.a.createElement(h.a,{path:"/dashboard",component:ds}))),r.a.createElement(gs,{style:{textAlign:"center",padding:10}},"Copyright TheSearchBase Limited 2019. All rights reserved.")))}}]),t}(n.Component);var Ss=Object(b.b)(function(e){return{profile:e.profile.profile}})(ys),ks=a(163),_s=a.n(ks),vs=(a(651),fn.a.Item),ws=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggin:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),a.props.dispatch(_e.login(t.email,t.password)))})},a.handleLogout=function(){a.props.dispatch(_e.logout())},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:_s.a.LoginBackground},r.a.createElement("div",{className:[_s.a.LoginPanel,_s.a.fadeIn].join(" ")},r.a.createElement(Un.a,{spinning:this.state.isLoggin},r.a.createElement(Zn.a,{type:"flex",justify:"center"},r.a.createElement($n.a,null,r.a.createElement("h1",null,"Login Page"))),r.a.createElement(Zn.a,{type:"flex",justify:"center"},r.a.createElement($n.a,null,r.a.createElement("img",{width:100,src:"https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/login_jdch.svg",alt:""}))),r.a.createElement("br",null),r.a.createElement(Zn.a,{type:"flex",justify:"center"},r.a.createElement($n.a,null,r.a.createElement(fn.a,{onSubmit:this.handleSubmit,layout:"horizontal"},r.a.createElement(vs,null,e("email",{rules:[{required:!0,message:"Please input your email!"}]})(r.a.createElement(gn.a,{prefix:r.a.createElement(an.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r.a.createElement(vs,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(gn.a,{prefix:r.a.createElement(an.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"})))))),r.a.createElement(Zn.a,{type:"flex",justify:"center"},r.a.createElement($n.a,{span:12},r.a.createElement(sn.a,{type:"primary",htmlType:"submit",style:{width:"100%"},onClick:this.handleSubmit},"Log in"))),r.a.createElement("br",null),r.a.createElement(Zn.a,{type:"flex",justify:"center"},r.a.createElement($n.a,null,r.a.createElement("a",{className:"login-form-forgot",href:"account/resetpassword"},"Forgot password?"))),r.a.createElement("br",null))))}}]),t}(r.a.Component);var Ts=fn.a.create()(ws),Os=Object(b.b)(function(e){return{isLoggingIn:e.auth.isLoggingIn}})(Ts),Is=function(e){function t(e){var a;return Object(l.a)(this,t),a=Object(c.a)(this,Object(u.a)(t).call(this,e)),E.listen(function(e,t){v.a.destroy()}),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(h.a,{path:"/login",component:Os}),r.a.createElement(Za,{path:"/dashboard",component:Ss}),r.a.createElement(m.a,{to:{pathname:"/dashboard"}}))}}]),t}(n.Component),xs=Object(f.a)(Object(b.b)(function(e){return{alert:e.alert}})(Is));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ds=a(673),Gs=r.a.createElement(b.a,{store:Qa},r.a.createElement(Ds.a,{history:E},r.a.createElement(xs,null)));s.a.render(Gs,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},49:function(e,t,a){e.exports={Logo:"SolutionsSettings_Logo__-M3TE",Trigger:"SolutionsSettings_Trigger__2uKYf",Header:"SolutionsSettings_Header__2u5U6",Sider:"SolutionsSettings_Sider__8yC7m",Panel:"SolutionsSettings_Panel__3JrMw",Panel_With_Header:"SolutionsSettings_Panel_With_Header__3vCaR",Panel_Header:"SolutionsSettings_Panel_Header__5GrWU",Panel_Body:"SolutionsSettings_Panel_Body__rSfYL",Panel_Body_Only:"SolutionsSettings_Panel_Body_Only__goB2o",Panel_Header_Button:"SolutionsSettings_Panel_Header_Button__2xRGw",Select:"SolutionsSettings_Select__1r6J2",Input:"SolutionsSettings_Input__N3-xY",Button:"SolutionsSettings_Button__MOWTM"}},501:function(e,t,a){},635:function(e,t,a){},637:function(e,t,a){},640:function(e,t,a){},644:function(e,t,a){},647:function(e,t,a){},651:function(e,t,a){},72:function(e,t,a){e.exports={Logo:"Integration_Logo__95x6p",Trigger:"Integration_Trigger__2Se00",Header:"Integration_Header__1BlRc",Sider:"Integration_Sider__2KM_8",Panel:"Integration_Panel__YQm7V",Panel_With_Header:"Integration_Panel_With_Header__1vwGy",Panel_Header:"Integration_Panel_Header__3fTNI",Panel_Body:"Integration_Panel_Body__4hmlE",Panel_Body_Only:"Integration_Panel_Body_Only__2uxaX",Panel_Header_Button:"Integration_Panel_Header_Button__2re5I"}},82:function(e,t,a){e.exports={Logo:"Assistants_Logo__1_c55",Trigger:"Assistants_Trigger__2L37K",Header:"Assistants_Header__1p-1G",Sider:"Assistants_Sider__206sR",Panel:"Assistants_Panel__1ntI9",Panel_With_Header:"Assistants_Panel_With_Header__2KVCE",Panel_Header:"Assistants_Panel_Header__29BDR",Panel_Body:"Assistants_Panel_Body__2GgUc",Panel_Body_Only:"Assistants_Panel_Body_Only__3T20i",Panel_Header_Button:"Assistants_Panel_Header_Button__3zsj3",AssistantsList:"Assistants_AssistantsList__Q3wG3"}},94:function(e,t,a){e.exports={Logo:"Dashboard_Logo__1tX2D",Trigger:"Dashboard_Trigger__3AedD",Header:"Dashboard_Header__3Btdm",Sider:"Dashboard_Sider__2ZI11",Panel:"Dashboard_Panel__3xGal",Panel_With_Header:"Dashboard_Panel_With_Header__223E9",Panel_Header:"Dashboard_Panel_Header__WjA5O",Panel_Body:"Dashboard_Panel_Body__2CCNs",Panel_Body_Only:"Dashboard_Panel_Body_Only__1ghhm",Panel_Header_Button:"Dashboard_Panel_Header_Button__3e-Uv"}},95:function(e,t,a){e.exports={Logo:"Groups_Logo__1Xp0E",Trigger:"Groups_Trigger__3Ucdo",Header:"Groups_Header__62fiz",Sider:"Groups_Sider__2qjgl",Panel:"Groups_Panel__2qp5F",Panel_With_Header:"Groups_Panel_With_Header__1JGwO",Panel_Header:"Groups_Panel_Header__r-Yxh",Panel_Body:"Groups_Panel_Body__6n_iM",Panel_Body_Only:"Groups_Panel_Body_Only__2bKFB",Panel_Header_Button:"Groups_Panel_Header_Button__1lCxR",groupsList:"Groups_groupsList__30oXd"}}},[[291,2,1]]]);
//# sourceMappingURL=main.c6230593.chunk.js.map