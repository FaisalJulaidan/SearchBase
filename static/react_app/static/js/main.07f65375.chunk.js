(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,a){e.exports=a.p+"static/media/Profile.module.5377a583.less"},150:function(e,t,a){e.exports=a.p+"static/media/Header.module.9429bcc5.less"},157:function(e,t,a){e.exports=a.p+"static/media/Assistant.5b1ec137.less"},232:function(e,t,a){e.exports=a.p+"static/media/Login.module.117e57c2.less"},236:function(e,t,a){e.exports=a(403)},241:function(e,t,a){e.exports=a.p+"static/media/index.daecba26.less"},266:function(e,t,a){e.exports=a.p+"static/media/App.affbd259.less"},268:function(e,t,a){e.exports=a.p+"static/media/Dashboard.75097976.less"},269:function(e,t,a){e.exports=a.p+"static/media/Assistants.d5ac313a.less"},270:function(e,t,a){e.exports=a.p+"static/media/AssistantSettingsModal.7275d4cd.less"},362:function(e,t,a){e.exports=a.p+"static/media/NewAssistantModal.80353ed2.less"},363:function(e,t,a){e.exports=a.p+"static/media/Flow.ebf6eb74.less"},364:function(e,t,a){e.exports=a.p+"static/media/Groups.d41d8cd9.less"},365:function(e,t,a){e.exports=a.p+"static/media/NewGroup.d41d8cd9.less"},367:function(e,t,a){e.exports=a.p+"static/media/Blocks.d41d8cd9.less"},400:function(e,t,a){e.exports=a.p+"static/media/Header.d41d8cd9.less"},401:function(e,t,a){e.exports=a.p+"static/media/Profile.d41d8cd9.less"},402:function(e,t,a){e.exports=a.p+"static/media/Login.61a71afb.less"},403:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),o=a.n(s),i=(a(241),a(13)),c=a(14),l=a(18),u=a(15),p=a(19),d=a(422),h=a(405),m=a(421),f=a(423),b=a(34),g=a(53),E=Object(g.a)(),y=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("refresh");return e&&t?{Authorization:"Bearer "+e}:null},v=function(){return!(!function(){var e=JSON.parse(localStorage.getItem("user"));return e||null}()||!y())},S=a(82),O=a.n(S),w=a(33),k=a(80),x="LOGIN_REQUEST",j="LOGIN_SUCCESS",A="LOGIN_FAILURE",T="LOGOUT",G="AUTH_CHECK_TIMEOUT",C="REFRESH_TOKEN",I="FETCH_ASSISTANTS_REQUEST",D="ADD_ASSISTANTS_REQUEST",U="UPDATE_ASSISTANT_SETTINGS_REQUEST",M="FETCH_FLOW_REQUEST",_="ADD_GROUP_REQUEST",P="EDIT_GROUP_REQUEST",F="DELETE_GROUP_REQUEST",N=a(70),L=function(e,t){return Object(N.a)({},e,t)},R=JSON.parse(localStorage.getItem("user")),B=R?{isAuthenticated:!0,user:R}:{isAuthenticated:!1,user:null},q={assistantList:[],isLoading:!1,errorMsg:null},H={isLoading:!1,errorMsg:null,blockGroups:[]},Q={isLoading:!1,errorMsg:null},W=Object(w.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return L(e,{errorMsg:null,isLoggingIn:!0});case j:return L(e,{isLoggingIn:!1,isAuthenticated:!0,user:t.user});case A:return L(e,{isLoggingIn:!1,isAuthenticated:!1,user:null,errorMsg:t.error.msg});case T:return L(e,{isLoggingIn:!1,isAuthenticated:!1,user:null,errorMsg:null});default:return e}},assistant:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return L(e,{assistantList:[],errorMsg:null,isLoading:!0});case"FETCH_ASSISTANTS_SUCCESS":return L(e,{assistantList:t.assistantList,isLoading:!1});case"FETCH_ASSISTANTS_FAILURE":return L(e,{assistantList:[],isLoading:!1,errorMsg:t.error.msg});case D:return L(e,{errorMsg:null,isAdding:!0});case"ADD_ASSISTANT_SUCCESS":return L(e,{successMsg:t.successMsg,isAdding:!1});case"ADD_ASSISTANT_FAILURE":return L(e,{isAdding:!1,errorMsg:t.error.msg});default:return e}},flow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return L(e,{isLoading:!0});case"FETCH_FLOW_SUCCESS":return L(e,{isLoading:!1,blockGroups:t.blockGroups});case"FETCH_FLOW_FAILURE":return L(e,{isLoading:!1,errorMsg:t.error.msg});case _:return L(e,{isAddingGroup:!0});case"ADD_GROUP_SUCCESS":return L(e,{isAddingGroup:!1,addSuccessMsg:t.msg});case"ADD_GROUP_FAILURE":return L(e,{isAddingGroup:!1,errorMsg:t.error.msg});case P:return L(e,{isEditingGroup:!0});case"EDIT_GROUP_SUCCESS":return L(e,{isEditingGroup:!1,editSuccessMsg:t.msg});case"EDIT_GROUP_FAILURE":return L(e,{isEditingGroup:!1,errorMsg:t.error.msg});case F:return L(e,{isDeletingGroup:!0});case"DELETE_GROUP_SUCCESS":return L(e,{isDeletingGroup:!1,deleteSuccessMsg:t.msg});case"DELETE_GROUP_FAILURE":return L(e,{isDeletingGroup:!1,errorMsg:t.error.msg});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return L(e,{successMsg:null,errorMsg:null,isLoading:!0});case"UPDATE_ASSISTANT_SETTINGS_SUCCESS":return L(e,{successMsg:t.successMsg,isLoading:!1});case"UPDATE_ASSISTANT_SETTINGS_FAILURE":return L(e,{isLoading:!1,errorMsg:t.error.msg});default:return e}}}),z=a(11),V=a.n(z),J=a(17);var Y={login:function(e,t){return{type:x,email:e,password:t}},loginSuccess:function(e){return{type:j,user:e}},loginFailure:function(e){return{type:A,error:e}},logout:function(){return{type:T}},refreshToken:function(e){return{type:C,refresh:e}},checkAuthTimeout:function(e,t){return{type:G,expirationTime:e,refresh:t}}},K={fetchAssistants:function(){return{type:I}},fetchAssistantsSuccess:function(e){return{type:"FETCH_ASSISTANTS_SUCCESS",assistantList:e}},fetchAssistantsFailure:function(e){return{type:"FETCH_ASSISTANTS_FAILURE",error:e}},addAssistant:function(e){return{type:D,newAssistant:e}},addAssistantSuccess:function(e){return{type:"ADD_ASSISTANT_SUCCESS",successMsg:e}},addAssistantFailure:function(e){return{type:"ADD_ASSISTANT_FAILURE",error:e}}},X={fetchFlowRequest:function(e){return{type:M,ID:e}},fetchFlowSuccess:function(e){return{type:"FETCH_FLOW_SUCCESS",blockGroups:e.blockGroups}},fetchFlowFailure:function(e){return{type:"FETCH_FLOW_FAILURE",error:e}},addGroupRequest:function(e){return{type:_,ID:e.ID,newGroup:e.newGroup}},addGroupSuccess:function(e){return{type:"ADD_GROUP_SUCCESS",msg:e}},addGroupFailure:function(e){return{type:"ADD_GROUP_FAILURE",error:e}},editGroupRequest:function(e){return{type:P,ID:e.ID,editedGroup:e.editedGroup}},editGroupSuccess:function(e){return{type:"EDIT_GROUP_SUCCESS",msg:e}},editGroupFailure:function(e){return{type:"EDIT_GROUP_FAILURE",error:e}},deleteGroupRequest:function(e){return{type:F,ID:e.ID,deletedGroup:e.deletedGroup}},deleteGroupSuccess:function(e){return{type:"DELETE_GROUP_SUCCESS",msg:e}},deleteGroupFailure:function(e){return{type:"DELETE_GROUP_FAILURE",error:e}}},$={updateAssistantSettingsRequest:function(e){return Object(N.a)({type:U},e)},updateAssistantSettingsSuccess:function(e){return{type:"UPDATE_ASSISTANT_SETTINGS_SUCCESS",successMsg:e}},updateAssistantSettingsFailure:function(e){return{type:"UPDATE_ASSISTANT_SETTINGS_FAILURE",error:e}}},Z=V.a.mark(ce),ee=V.a.mark(le),te=V.a.mark(ue),ae=V.a.mark(pe),ne=V.a.mark(de),re=V.a.mark(he),se=V.a.mark(me),oe=V.a.mark(fe),ie=V.a.mark(be);function ce(e){var t,a;return V.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.expirationTime,a=e.refresh,n.next=3,Object(k.b)(1e3*t);case 3:return n.next=5,Object(J.b)(Y.refreshToken(a));case 5:case"end":return n.stop()}},Z,this)}function le(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.c)(G,ce);case 2:case"end":return e.stop()}},ee,this)}function ue(e){var t,a,n,r,s,o,i,c,l;return V.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.email,a=e.password,u.prev=1,u.next=4,O.a.post("/api/auth",{email:t,password:a},{headers:{"Content-Type":"application/json"}});case 4:return n=u.sent,u.next=7,n.data.data;case 7:return r=u.sent,s=r.user,o=r.token,i=r.refresh,c=r.expiresIn,u.next=14,localStorage.setItem("user",JSON.stringify(s));case 14:return u.next=16,localStorage.setItem("token",o);case 16:return u.next=18,localStorage.setItem("refresh",i);case 18:return u.next=20,localStorage.setItem("expiresIn",c);case 20:return u.next=22,(new Date(c).getTime()-(new Date).getTime())/1e3;case 22:return l=u.sent,u.next=25,Object(J.b)(Y.loginSuccess(s));case 25:return u.next=27,Object(J.b)(Y.checkAuthTimeout(l,i));case 27:return u.next=29,E.push("/dashboard");case 29:u.next=36;break;case 31:return u.prev=31,u.t0=u.catch(1),console.log(u.t0),u.next=36,Object(J.b)(Y.loginFailure(u.t0.response.data));case 36:case"end":return u.stop()}},te,this,[[1,31]])}function pe(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.d)(x,ue);case 2:case"end":return e.stop()}},ae,this)}function de(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.clear();case 2:return e.next=4,E.push("/login");case 4:case"end":return e.stop()}},ne,this)}function he(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.d)(T,de);case 2:case"end":return e.stop()}},re,this)}function me(e){var t,a,n,r,s,o;return V.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(t=e.refresh,i.prev=1,v()){i.next=4;break}throw new Error("Authentication Failed");case 4:return i.next=6,O.a.post("/api/auth/refresh",null,{headers:{Authorization:"Bearer "+t}});case 6:return a=i.sent,n=a.data.data,r=n.token,s=n.expiresIn,i.next=10,localStorage.setItem("token",r);case 10:return i.next=12,localStorage.setItem("expiresIn",s);case 12:return i.next=14,(new Date(s).getTime()-(new Date).getTime())/1e3;case 14:return o=i.sent,i.next=17,Object(J.b)(Y.checkAuthTimeout(o,t));case 17:i.next=24;break;case 19:return i.prev=19,i.t0=i.catch(1),console.log(i.t0),i.next=24,Object(J.b)(Y.logout());case 24:case"end":return i.stop()}},se,this,[[1,19]])}function fe(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.c)(C,me);case 2:case"end":return e.stop()}},oe,this)}function be(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.a)([pe(),he(),le(),fe()]);case 2:case"end":return e.stop()}},ie,this)}var ge=V.a.mark(Oe),Ee=V.a.mark(we),ye=V.a.mark(ke),ve=V.a.mark(xe),Se=V.a.mark(je);function Oe(){var e;return V.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tt.get("/assistants");case 3:return e=t.sent,t.next=6,Object(J.b)(K.fetchAssistantsSuccess(e.data.data));case 6:return t.abrupt("return",t.sent);case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0),t.next=14,Object(J.b)(K.fetchAssistantsFailure(t.t0.response.data));case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}},ge,this,[[0,9]])}function we(e){var t,a;return V.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.type,t=e.newAssistant,n.prev=1,n.next=4,tt.post("/assistants",t);case 4:return a=n.sent,n.next=7,Object(J.b)(K.addAssistantSuccess(a.data.msg));case 7:return n.next=9,Object(J.b)(K.fetchAssistants());case 9:return n.abrupt("return",n.sent);case 12:n.prev=12,n.t0=n.catch(1),console.log(n.t0);case 15:case"end":return n.stop()}},Ee,this,[[1,12]])}function ke(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.c)(I,Oe);case 2:case"end":return e.stop()}},ye,this)}function xe(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.c)(D,we);case 2:case"end":return e.stop()}},ve,this)}function je(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.a)([ke(),xe()]);case 2:case"end":return e.stop()}},Se,this)}var Ae=V.a.mark(Pe),Te=V.a.mark(Fe),Ge=V.a.mark(Ne),Ce=V.a.mark(Le),Ie=V.a.mark(Re),De=V.a.mark(Be),Ue=V.a.mark(qe),Me=V.a.mark(He),_e=V.a.mark(Qe);function Pe(e){var t;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,tt.get("/assistant/".concat(e.ID,"/flow"));case 3:return t=a.sent,a.next=6,Object(J.b)(X.fetchFlowSuccess(t.data.data));case 6:return a.abrupt("return",a.sent);case 9:return a.prev=9,a.t0=a.catch(0),console.log(a.t0),a.next=14,Object(J.b)(X.fetchFlowFailure(a.t0.response.data));case 14:return a.abrupt("return",a.sent);case 15:case"end":return a.stop()}},Ae,this,[[0,9]])}function Fe(e){var t;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,tt.post("/assistant/".concat(e.ID,"/flow/group"),e.newGroup);case 3:return t=a.sent,a.next=6,Object(J.b)(X.addGroupSuccess(t.data.msg));case 6:return a.next=8,Object(J.b)(X.fetchFlowRequest(e.ID));case 8:return a.abrupt("return",a.sent);case 11:return a.prev=11,a.t0=a.catch(0),console.log(a.t0),a.next=16,Object(J.b)(X.addGroupFailure(a.t0.response.data));case 16:return a.abrupt("return",a.sent);case 17:case"end":return a.stop()}},Te,this,[[0,11]])}function Ne(e){var t;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,tt.put("/assistant/".concat(e.ID,"/flow/group"),e.editedGroup);case 3:return t=a.sent,a.next=6,Object(J.b)(X.editGroupSuccess(t.data.msg));case 6:return a.next=8,Object(J.b)(X.fetchFlowRequest(e.ID));case 8:return a.abrupt("return",a.sent);case 11:return a.prev=11,a.t0=a.catch(0),console.log(a.t0),a.next=16,Object(J.b)(X.editGroupFailure(a.t0.response.data));case 16:return a.abrupt("return",a.sent);case 17:case"end":return a.stop()}},Ge,this,[[0,11]])}function Le(e){var t,a,n;return V.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.type,t=e.ID,a=e.deletedGroup,r.prev=1,console.log(a),r.next=5,tt.delete("/assistant/".concat(t,"/flow/group"),{data:{id:a.id}});case 5:return n=r.sent,r.next=8,Object(J.b)(X.deleteGroupSuccess(n.data.msg));case 8:return r.next=10,Object(J.b)(X.fetchFlowRequest(t));case 10:return r.abrupt("return",r.sent);case 13:return r.prev=13,r.t0=r.catch(1),console.log(r.t0),r.next=18,Object(J.b)(X.deleteGroupFailure(r.t0.response.data));case 18:return r.abrupt("return",r.sent);case 19:case"end":return r.stop()}},Ce,this,[[1,13]])}function Re(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.c)(M,Pe);case 2:case"end":return e.stop()}},Ie,this)}function Be(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.c)(_,Fe);case 2:case"end":return e.stop()}},De,this)}function qe(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.c)(P,Ne);case 2:case"end":return e.stop()}},Ue,this)}function He(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.c)(F,Le);case 2:case"end":return e.stop()}},Me,this)}function Qe(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.a)([Re(),Be(),qe(),He()]);case 2:case"end":return e.stop()}},_e,this)}var We=V.a.mark(Je),ze=V.a.mark(Ye),Ve=V.a.mark(Ke);function Je(e){var t;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,tt.put("assistant/".concat(e.ID),e.updatedSettings);case 3:return t=a.sent,a.next=6,Object(J.b)($.updateAssistantSettingsSuccess(t.data.msg));case 6:return a.next=8,Object(J.b)(K.fetchAssistants());case 8:return a.abrupt("return",a.sent);case 11:return a.prev=11,a.t0=a.catch(0),console.log(a.t0),a.next=16,Object(J.b)($.updateAssistantSettingsFailure(a.t0.response.data));case 16:return a.abrupt("return",a.sent);case 17:case"end":return a.stop()}},We,this,[[0,11]])}function Ye(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.c)(U,Je);case 2:case"end":return e.stop()}},ze,this)}function Ke(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.a)([Ye()]);case 2:case"end":return e.stop()}},Ve,this)}var Xe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||w.d,$e=Object(k.a)(),Ze=Object(w.e)(W,Xe(Object(w.a)($e)));$e.run(Qe),$e.run(je),$e.run(be),$e.run(Ke);var et=Ze,tt=O.a.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});tt.interceptors.request.use(function(e){var t=y();if(!t)throw new Error("Token required!");return e.headers=t,e},function(e){return console.log(e),Promise.reject(e)}),tt.interceptors.response.use(function(e){return e},function(e){return 401===e.response.status&&(console.log("Axios Unauthorised"),et.dispatch(Y.logout())),Promise.reject(e)});a(266);var at=a(234),nt=function(e){var t=e.component,a=Object(at.a)(e,["component"]);return console.log("Check Authenticity",v()),r.a.createElement(h.a,Object.assign({},a,{render:function(e){return v()?r.a.createElement(t,e):r.a.createElement(m.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},rt=a(411),st=a(420),ot=a(16),it=(a(268),a(85)),ct=a.n(it),lt=a(418),ut=a(52),pt=a(419),dt=(a(269),a(72)),ht=a.n(dt),mt=(a(157),a(415)),ft=a(406),bt=a(416),gt=a(407),Et=a(66),yt=(a(270),a(409)),vt=a(412),St=a(414),Ot=a(417),wt=yt.a.Item,kt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isPopupDisabled:a.props.assistant.SecondsUntilPopup<=0},a.togglePopupSwitch=function(){a.setState({isPopupDisabled:!a.state.isPopupDisabled})},a.handleSave=function(){a.props.form.validateFields(function(e,t){e||(a.state.isPopupDisabled&&(t.secondsUntilPopup=0),a.props.handleSave(t))})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({inputValue:this.props.assistant.SecondsUntilPopup})}},{key:"render",value:function(){var e={labelCol:{span:6},wrapperCol:{span:14}},t=this.props.form.getFieldDecorator,a=this.props.assistant;this.state.inputValue;return console.log(this.state.isPopupDisabled),console.log(this.props.assistant.SecondsUntilPopup),r.a.createElement(vt.a,{title:"Edit Assistant",visible:this.props.visible,width:800,destroyOnClose:!0,onCancel:this.props.handleCancel,footer:[r.a.createElement(ut.a,{key:"cancel",onClick:this.props.handleCancel},"Cancel"),r.a.createElement(ut.a,{key:"submit",type:"primary",onClick:this.handleSave},"Save")]},r.a.createElement(yt.a,{layout:"horizontal"},r.a.createElement(wt,Object.assign({label:"Assistant Name",extra:"Enter a name for your assistant to easily identify it in the dashboard"},e),t("assistantName",{initialValue:a.Name,rules:[{required:!0,message:"Please input your assistant name"}]})(r.a.createElement(St.a,{placeholder:"Ex: My first assistant, Sales Assistant"}))),r.a.createElement(wt,Object.assign({label:"Welcome Message",extra:"This will be sent as first message"},e),t("welcomeMessage",{initialValue:a.Message,rules:[{required:!0,message:"Please input your welcome message"}]})(r.a.createElement(St.a,{placeholder:"Ex: Hey there, Welcome visitor"}))),r.a.createElement(wt,Object.assign({label:"Header Title",extra:"This will apear on top of your chatbot"},e),t("topBarTitle",{initialValue:a.TopBarText,rules:[{required:!0,message:"Please input your header title"}]})(r.a.createElement(St.a,{placeholder:"Ex: Recruiter Bot"}))),r.a.createElement(wt,Object.assign({},e,{label:"Time to Popup",extra:"This will enforce the assistants' (chatbot) to popup automatically"}),r.a.createElement(ft.a,{checked:!this.state.isPopupDisabled,onChange:this.togglePopupSwitch,style:{marginRight:"5px"}}),t("secondsUntilPopup",{initialValue:0===a.SecondsUntilPopup?1:a.SecondsUntilPopup})(r.a.createElement(Ot.a,{disabled:this.state.isPopupDisabled,min:1})),r.a.createElement("span",{className:"ant-form-text"}," seconds"))))}}]),t}(n.Component),xt=yt.a.create()(kt),jt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSave=function(e){a.props.hideModal(),a.props.dispatch($.updateAssistantSettingsRequest({ID:a.props.assistant.ID,updatedSettings:e}))},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(xt,{assistant:this.props.assistant,visible:this.props.visible,handleSave:this.handleSave,handleCancel:this.props.hideModal})}}]),t}(n.Component),At=Object(Et.a)(function(e){return{isLoading:e.settings.isLoading}})(jt),Tt=mt.a.Meta,Gt=["https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/active_support_6rwo.svg","https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/voice_control_ofo1.svg","https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/group_chat_v059.svg","https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/status_update_jjgk.svg","https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/messages1_9ah2.svg"],Ct=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.showModal=function(){a.setState({visible:!0})},a.hideModal=function(){a.setState({visible:!1})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.assistant;return r.a.createElement(r.a.Fragment,null,r.a.createElement(mt.a,{loading:this.props.isLoading,style:{width:300,margin:15,float:"left",height:369},cover:r.a.createElement("img",{alt:"example",height:200,width:"100%",src:Gt[Math.floor(Math.random()*Gt.length)]}),title:e.Name,extra:r.a.createElement(ft.a,{defaultChecked:e.Active,onChange:this.onChange}),actions:[r.a.createElement("div",{onClick:this.showModal},r.a.createElement(ot.a,{type:"setting"}),r.a.createElement("span",null," Settings")),r.a.createElement("div",null,r.a.createElement(gt.a,{to:{pathname:"assistants/".concat(e.ID,"/flow"),state:{assistant:e}}},r.a.createElement(ot.a,{type:"build"}),r.a.createElement("span",null," Flow"))),r.a.createElement(bt.a,{overlay:function(e){return r.a.createElement(rt.a,null,r.a.createElement(rt.a.Item,{key:"1"},r.a.createElement(gt.a,{to:"solutions/".concat(e.ID)},r.a.createElement(ot.a,{type:"database"})," Solutions")),r.a.createElement(rt.a.Item,{key:"2"},r.a.createElement(gt.a,{to:"userInput/".concat(e.ID)},r.a.createElement(ot.a,{type:"code"})," User Input")),r.a.createElement(rt.a.Item,{key:"3"},r.a.createElement(gt.a,{to:"analytics/".concat(e.ID)},r.a.createElement(ot.a,{type:"line-chart"})," Analytics")),r.a.createElement(rt.a.Divider,null),r.a.createElement(rt.a.Item,{key:"4"},r.a.createElement(gt.a,{to:"integration/".concat(e.ID)},r.a.createElement(ot.a,{type:"sync"})," UserInput")))}(e),trigger:["click"]},r.a.createElement("a",{className:"ant-dropdown-link"},"..."))]},r.a.createElement(Tt,{description:e.TopBarText})),r.a.createElement(At,{assistant:e,hideModal:this.hideModal,visible:this.state.visible}))}}]),t}(n.Component),It=(a(362),a(184)),Dt=yt.a.Item,Ut=It.a.Option,Mt=function(){lt.a.loading("Adding assistant",0)},_t=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0; s<n; s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isPopupDisabled:!0},a.togglePopupSwitch=function(){a.setState({isPopupDisabled:!a.state.isPopupDisabled})},a.handleAdd=function(){a.props.form.validateFields(function(e,t){e||(a.state.isPopupDisabled&&(t.secondsUntilPopup=0),console.log(t),a.props.dispatch(K.addAssistant(t)),Mt())})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.isAdding||this.props.isAdding===e.isAdding||(this.props.hideModal(),lt.a.destroy(),lt.a.success(this.props.successMsg))}},{key:"render",value:function(){var e={labelCol:{span:6},wrapperCol:{span:14}},t=this.props.form.getFieldDecorator;return r.a.createElement(vt.a,{width:800,title:"Create New Assistant",visible:this.props.visible,onOk:this.handleOk,onCancel:this.handleCancel,destroyOnClose:!0,footer:[r.a.createElement(ut.a,{key:"cancel",onClick:this.props.hideModal},"Cancel"),r.a.createElement(ut.a,{key:"submit",type:"primary",onClick:this.handleAdd},"Add")]},r.a.createElement(yt.a,{layout:"horizontal"},r.a.createElement(Dt,Object.assign({label:"Assistant Name",extra:"Enter a name for your assistant to easily identify it in the dashboard"},e),t("assistantName",{rules:[{required:!0,message:"Please input your assistant name"}]})(r.a.createElement(St.a,{placeholder:"Ex: My first assistant, Sales Assistant"}))),r.a.createElement(Dt,Object.assign({label:"Welcome Message",extra:"This will be sent as first message"},e),t("welcomeMessage",{rules:[{required:!0,message:"Please input your welcome message"}]})(r.a.createElement(St.a,{placeholder:"Ex: Hey there, Welcome visitor"}))),r.a.createElement(Dt,Object.assign({label:"Header Title",extra:"This will apear on top of your chatbot"},e),t("topBarTitle",{rules:[{required:!0,message:"Please input your header title"}]})(r.a.createElement(St.a,{placeholder:"Ex: Recruiter Bot"}))),r.a.createElement(Dt,Object.assign({},e,{label:"Time to Popup",extra:"This will enforce the assistants' (chatbot) to popup automatically"}),r.a.createElement(ft.a,{defaultChecked:!1,onChange:this.togglePopupSwitch,style:{marginRight:"5px"}}),t("secondsUntilPopup",{initialValue:1})(r.a.createElement(Ot.a,{disabled:this.state.isPopupDisabled,min:1})),r.a.createElement("span",{className:"ant-form-text"}," seconds")),r.a.createElement(Dt,Object.assign({},e,{label:"Assistant Template"}),t("template")(r.a.createElement(It.a,{placeholder:"Please select template"},r.a.createElement(Ut,{value:"recruitment"},"Recruitment"),r.a.createElement(Ut,{value:"Shopping"},"Shopping"),r.a.createElement(Ut,{value:"Sales"},"Sales"))))))}}]),t}(n.Component);var Pt=Object(b.b)(function(e){return{successMsg:e.assistant.successMsg,isAdding:e.assistant.isAdding}})(yt.a.create()(_t)),Ft=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.showModal=function(){a.setState({visible:!0})},a.hideModal=function(){a.setState({visible:!1})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){Boolean(this.props.successSettings)&&Boolean(e.successSettings)!==Boolean(this.props.successSettings)&&lt.a.success(this.props.successSettings),Boolean(this.props.errorSettings)&&Boolean(e.errorSettings)!==Boolean(this.props.errorSettings)&&lt.a.error(this.props.errorSettings)}},{key:"componentDidMount",value:function(){this.props.dispatch(K.fetchAssistants())}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("div",{className:ht.a.Panel},r.a.createElement("div",{className:ht.a.Panel_Header},r.a.createElement("div",null,r.a.createElement("h3",null,"Assistants List"),r.a.createElement("p",null,"Here you can see all assistants created by you")),r.a.createElement("div",null,r.a.createElement(ut.a,{className:ht.a.Panel_Header_Button,type:"primary",icon:"plus",onClick:this.showModal},"Add Assistant"))),r.a.createElement("div",{className:ht.a.Panel_Body},r.a.createElement("div",{className:ht.a.AssistantsList},this.props.assistantList[0]?this.props.assistantList.map(function(t,a){return r.a.createElement(Ct,{assistant:t,key:a,index:a,isLoading:e.props.isLoading})}):r.a.createElement(pt.a,{active:!0})))),r.a.createElement(Pt,{visible:this.state.visible,hideModal:this.hideModal}))}}]),t}(n.Component);var Nt=Object(b.b)(function(e){return{assistantList:e.assistant.assistantList,isLoading:e.assistant.isLoading,successSettings:e.settings.successMsg,errorSettings:e.settings.errorMsg}})(Ft),Lt=(a(363),a(364),a(43)),Rt=a.n(Lt),Bt=a(366),qt=a(410),Ht=a(408),Qt=(a(365),yt.a.Item),Wt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleSave=function(){return a.props.form.validateFields(function(e,t){e||a.props.handleSave(t)})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e={labelCol:{span:6},wrapperCol:{span:14}},t=this.props.form.getFieldDecorator;return r.a.createElement(vt.a,{width:800,title:"Create New Group",destroyOnClose:!0,visible:this.props.visible,onOk:this.props.handleSave,onCancel:this.props.handleCancel,footer:[r.a.createElement(ut.a,{key:"Cancel",onClick:this.props.handleCancel},"Cancel"),r.a.createElement(ut.a,{key:"submit",type:"primary",onClick:this.handleSave},"Add")]},r.a.createElement(yt.a,{layout:"horizontal"},r.a.createElement(Qt,Object.assign({label:"Group Name",extra:"Enter a name for your group to easily identify it in the group list"},e),t("name",{rules:[{required:!0,message:"Please enter your group name"}]})(r.a.createElement(St.a,{placeholder:"Ex: Greetings group, Sales group"}))),r.a.createElement(Qt,Object.assign({label:"Group Description",extra:"Just a description for you"},e),t("description",{rules:[{required:!0,message:"Please description to your group name"}]})(r.a.createElement(St.a,{placeholder:"Ex: this is first group, this group help get info from user"})))))}}]),t}(n.Component),zt=yt.a.create()(Wt),Vt=yt.a.Item,Jt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleUpdate=function(){return a.props.form.validateFields(function(e,t){e||(a.props.group.name=t.name,a.props.group.description=t.description,a.props.handleUpdate(a.props.group))})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t={labelCol:{span:6},wrapperCol:{span:14}},a=this.props.form.getFieldDecorator;return r.a.createElement(vt.a,{width:800,title:"Edit Group",visible:this.props.visible,onOk:this.props.handleUpdate,onCancel:this.props.handleCancel,footer:[r.a.createElement(ut.a,{key:"delete",type:"danger",onClick:function(){return e.props.handleDelete(e.props.group)}},"Delete"),r.a.createElement(ut.a,{key:"Cancel",onClick:this.props.handleCancel},"Cancel"),r.a.createElement(ut.a,{key:"submit",type:"primary",onClick:this.handleUpdate},"Update")]},r.a.createElement(yt.a,{layout:"horizontal"},r.a.createElement(Vt,Object.assign({label:"Group Name",extra:"Enter a name for your group to easily identify it in the group list"},t),a("name",{initialValue:this.props.group.name,rules:[{required:!0,message:"Please enter your group name"}]})(r.a.createElement(St.a,{placeholder:"Ex: Greetings group, Sales group"}))),r.a.createElement(Vt,Object.assign({label:"Group Description",extra:"Just a description for you"},t),a("description",{initialValue:this.props.group.description,rules:[{required:!0,message:"Please description to your group name"}]})(r.a.createElement(St.a,{placeholder:"Ex: this is first group, this group help get info from user"})))))}}]),t}(n.Component),Yt=yt.a.create()(Jt),Kt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={newGroupModal:!1,editGroupModal:!1,selectedGroupToEdit:{}},a.handleAddGroup=function(e){a.props.addGroup(e),a.setState({newGroupModal:!1})},a.handleAddGroupCancel=function(){return a.setState({newGroupModal:!1})},a.showNewGroupModal=function(){return a.setState({newGroupModal:!0})},a.handleEditGroup=function(e){a.props.editGroup(e),a.setState({editGroupModal:!1,selectedGroupToEdit:{}})},a.handleEditGroupCancel=function(){return a.setState({editGroupModal:!1})},a.showEditGroupModal=function(e){return a.setState({editGroupModal:!0,selectedGroupToEdit:e})},a.handleDeleteGroup=function(e){a.props.deleteGroup(e),a.setState({editGroupModal:!1,selectedGroupToEdit:{}})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:Rt.a.Panel},r.a.createElement("div",{className:Rt.a.Header},r.a.createElement("div",null,r.a.createElement("h3",null,"Flow Groups")),r.a.createElement("div",null,r.a.createElement(ut.a,{className:Rt.a.PanelButton,type:"primary",icon:"plus",onClick:this.showNewGroupModal},"Add Group"),r.a.createElement(zt,{visible:this.state.newGroupModal,handleCancel:this.handleAddGroupCancel,handleSave:this.handleAddGroup}))),r.a.createElement("div",{className:Rt.a.Body},this.props.isLoading?r.a.createElement(Bt.a,null,r.a.createElement(pt.a,{active:!0})):r.a.createElement(qt.a,{itemLayout:"horizontal",dataSource:this.props.groupsList,renderItem:function(t){return r.a.createElement(qt.a.Item,{actions:[r.a.createElement(ut.a,{icon:"edit",onClick:function(){return e.showEditGroupModal(t)}})]},r.a.createElement(qt.a.Item.Meta,{avatar:r.a.createElement(Ht.a,{icon:"ordered-list",style:{backgroundColor:"#9254de"}}),title:r.a.createElement("a",{onClick:function(){return e.props.selectGroup(t)}},t.name),description:t.description}))}})),r.a.createElement(Yt,{group:this.state.selectedGroupToEdit,visible:this.state.editGroupModal,handleCancel:this.handleEditGroupCancel,handleUpdate:this.handleEditGroup,handleDelete:this.handleDeleteGroup}))}}]),t}(n.Component),Xt=a(81),$t=a(233),Zt=(a(367),a(413)),ea=Zt.a.Panel,ta=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.block;return r.a.createElement(Zt.a,{bordered:!0},r.a.createElement(ea,{header:e.content.text,key:this.props.key},r.a.createElement(mt.a,{title:e.content.text,style:{width:"100%"},extra:r.a.createElement(ut.a,{icon:"edit"})},r.a.createElement("h4",null,e.type))))}}]),t}(n.Component),aa=a(121),na=a(404),ra=yt.a.Item,sa=It.a.Option,oa=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.beforeAdd&&this.props.form.validateFields(function(e,a){e?t.props.handleNewBlock({}):t.props.handleNewBlock(a)})}},{key:"render",value:function(){var e=this.props.options.blockTypes,t={},a=!0,n=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var c=o.value;"User Input"===c.name&&(t=c)}}catch(u){n=!0,s=u}finally{try{a||null==i.return||i.return()}finally{if(n)throw s}}var l=this.props.form.getFieldDecorator;return r.a.createElement(mt.a,{title:"User Input",style:{width:"100%"}},r.a.createElement(yt.a,{layout:"horizontal"},r.a.createElement(ra,Object.assign({label:"Question",extra:"The above text will be shown in a bubble inside the chat"},this.props.options.layout),l("text",{rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(St.a,{placeholder:"Ex: Where are you from?"}))),r.a.createElement(ra,Object.assign({label:"Validation"},this.props.options.layout),t.validations?l("validation")(r.a.createElement(It.a,{placeholder:"Will validate the input"},t.validations.map(function(e,t){return r.a.createElement(sa,{key:t,value:e},e)}))):r.a.createElement(Bt.a,null,r.a.createElement(It.a,{placeholder:"Will validate the input"}))),r.a.createElement(ra,Object.assign({label:"Action"},this.props.options.layout),t.actions?l("action",{rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(It.a,{placeholder:"The next step after this block"},t.actions.map(function(e,t){return r.a.createElement(sa,{key:t,value:e},e)}))):r.a.createElement(Bt.a,null,r.a.createElement(It.a,{placeholder:"The next step after this block"}))),r.a.createElement(ra,Object.assign({label:"After message",extra:""},this.props.options.layout),l("afterMessage",{rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(St.a,{placeholder:"Ex: Your input is recorded"})))))}}]),t}(n.Component),ia=yt.a.create()(oa),ca=yt.a.Item,la=It.a.Option,ua=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.beforeAdd&&this.props.form.validateFields(function(e,a){e?t.props.handleNewBlock({}):t.props.handleNewBlock(a)})}},{key:"render",value:function(){var e=this.props.options.blockTypes,t={},a=!0,n=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var c=o.value;"Question"===c.name&&(t=c)}}catch(u){n=!0,s=u}finally{try{a||null==i.return||i.return()}finally{if(n)throw s}}var l=this.props.form.getFieldDecorator;return r.a.createElement(mt.a,{title:"Question",style:{width:"100%"}},r.a.createElement(yt.a,{layout:"horizontal"},r.a.createElement(ca,Object.assign({label:"Question",extra:"The above text will be shown in a bubble inside the chat"},this.props.options.layout),l("text",{rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(St.a,{placeholder:"Ex: Where are you from?"}))),r.a.createElement(ca,Object.assign({label:"Action"},this.props.options.layout),t.actions?l("action")(r.a.createElement(It.a,{placeholder:"The next step after this block"},t.actions.map(function(e,t){return r.a.createElement(la,{key:t,value:e},e)}))):r.a.createElement(Bt.a,null,r.a.createElement(It.a,{placeholder:"The next step after this block"}))),r.a.createElement(ca,Object.assign({label:"After message",extra:""},this.props.options.layout),l("afterMessage")(r.a.createElement(St.a,{placeholder:"Ex: Your input is recorded"})))))}}]),t}(n.Component),pa=yt.a.create()(ua),da=yt.a.Item,ha=It.a.Option,ma=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.beforeAdd&&this.props.form.validateFields(function(e,a){e?t.props.handleNewBlock({}):t.props.handleNewBlock(a)})}},{key:"render",value:function(){var e=this.props.options.blockTypes,t={},a=!0,n=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var c=o.value;"File Upload"===c.name&&(t=c)}}catch(u){n=!0,s=u}finally{try{a||null==i.return||i.return()}finally{if(n)throw s}}var l=this.props.form.getFieldDecorator;return r.a.createElement(mt.a,{title:"File Upload",style:{width:"100%"}},r.a.createElement(yt.a,{layout:"horizontal"},r.a.createElement(da,Object.assign({label:"Question",extra:"The above text will be shown in a bubble inside the chat"},this.props.options.layout),l("text",{rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(St.a,{placeholder:"Ex: Where are you from?"}))),r.a.createElement(da,Object.assign({label:"Action"},this.props.options.layout),t.actions?l("action")(r.a.createElement(It.a,{placeholder:"The next step after this block"},t.actions.map(function(e,t){return r.a.createElement(ha,{key:t,value:e},e)}))):r.a.createElement(Bt.a,null,r.a.createElement(It.a,{placeholder:"The next step after this block"}))),r.a.createElement(da,Object.assign({label:"After message",extra:""},this.props.options.layout),l("afterMessage")(r.a.createElement(St.a,{placeholder:"Ex: Your input is recorded"})))))}}]),t}(n.Component),fa=yt.a.create()(ma),ba=yt.a.Item,ga=It.a.Option,Ea=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.beforeAdd&&this.props.form.validateFields(function(e,a){e?t.props.handleNewBlock({}):t.props.handleNewBlock(a)})}},{key:"render",value:function(){var e=this.props.options.blockTypes,t={},a=!0,n=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var c=o.value;"Solutions"===c.name&&(t=c)}}catch(u){n=!0,s=u}finally{try{a||null==i.return||i.return()}finally{if(n)throw s}}var l=this.props.form.getFieldDecorator;return r.a.createElement(mt.a,{title:"Solutions",style:{width:"100%"}},r.a.createElement(yt.a,{layout:"horizontal"},r.a.createElement(ba,Object.assign({label:"Question",extra:"The above text will be shown in a bubble inside the chat"},this.props.options.layout),l("text",{rules:[{required:!0,message:"Please input question field"}]})(r.a.createElement(St.a,{placeholder:"Ex: Where are you from?"}))),r.a.createElement(ba,Object.assign({label:"Action"},this.props.options.layout),t.actions?l("action")(r.a.createElement(It.a,{placeholder:"The next step after this block"},t.actions.map(function(e,t){return r.a.createElement(ga,{key:t,value:e},e)}))):r.a.createElement(Bt.a,null,r.a.createElement(It.a,{placeholder:"The next step after this block"}))),r.a.createElement(ba,Object.assign({label:"After message",extra:""},this.props.options.layout),l("afterMessage")(r.a.createElement(St.a,{placeholder:"Ex: Your input is recorded"})))))}}]),t}(n.Component),ya=yt.a.create()(Ea),va=na.a.TabPane,Sa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={beforeAdd:{UserInput:!1,Question:!1,FileUpload:!1,Solutions:!1},currentTab:"UserInput",layout:{labelCol:{span:6},wrapperCol:{span:14}},blockTypes:[]},a.onBeforeAdd=function(){switch(a.state.currentTab){case"UserInput":return a.setState({beforeAdd:{UserInput:!0,Question:!1,FileUpload:!1,Solutions:!1}});case"Question":return a.setState({beforeAdd:{UserInput:!1,Question:!0,FileUpload:!1,Solutions:!1}});case"FileUpload":return a.setState({beforeAdd:{UserInput:!1,Question:!1,FileUpload:!0,Solutions:!1}});case"Solutions":return a.setState({beforeAdd:{UserInput:!1,Question:!1,FileUpload:!1,Solutions:!0}});default:return a.setState({beforeAdd:{UserInput:!1,Question:!1,FileUpload:!1,Solutions:!1}})}},a.handleNewBlock=function(e){a.setState({beforeAdd:{UserInput:!1,Question:!1,FileUpload:!1,Solutions:!1},currentTab:"UserInput"},function(){a.props.closeModal(),a.props.handleAddBlock(e)})},a.onChangeTab=function(e){return a.setState({currentTab:e})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;tt.get("/assistant/flow/options").then(function(t){return e.setState({blockTypes:t.data.data.blockTypes})})}},{key:"render",value:function(){return r.a.createElement(vt.a,{width:800,title:"Add New Block",visible:this.props.visible,onOk:this.handleAdd,onCancel:this.props.closeModal,destroyOnClose:!0,footer:[r.a.createElement(ut.a,{key:"cancel",onClick:this.props.closeModal},"Cancel"),r.a.createElement(ut.a,{key:"submit",type:"primary",onClick:this.onBeforeAdd},"Add")]},r.a.createElement(na.a,{type:"card",onChange:this.onChangeTab},r.a.createElement(va,{tab:r.a.createElement("span",null,r.a.createElement(ot.a,{type:"form"}),"User Input"),key:"UserInput"},r.a.createElement(ia,{options:this.state,beforeAdd:this.state.beforeAdd.UserInput,handleNewBlock:this.handleNewBlock})),r.a.createElement(va,{tab:r.a.createElement("span",null,r.a.createElement(ot.a,{type:"question-circle"}),"Question"),key:"Question"},r.a.createElement(pa,{options:this.state,beforeAdd:this.state.beforeAdd.Question,handleNewBlock:this.handleNewBlock})),r.a.createElement(va,{tab:r.a.createElement("span",null,r.a.createElement(ot.a,{type:"file-add"}),"File Upload"),key:"FileUpload"},r.a.createElement(fa,{options:this.state,beforeAdd:this.state.beforeAdd.FileUpload,handleNewBlock:this.handleNewBlock})),r.a.createElement(va,{tab:r.a.createElement("span",null,r.a.createElement(ot.a,{type:"tag"}),"Solutions"),key:"Solutions"},r.a.createElement(ya,{options:this.state,beforeAdd:this.state.beforeAdd.Solutions,handleNewBlock:this.handleNewBlock}))))}}]),t}(n.Component),Oa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={visible:!1,blocks:[]},a.showModal=function(){return a.setState({visible:!0})},a.closeModal=function(){return a.setState({visible:!1})},a.handleAddBlock=function(e){console.log(e)},a.onDragEnd=a.onDragEnd.bind(Object(Xt.a)(Object(Xt.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onDragEnd",value:function(e){if(e.destination){var t=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),s=Object($t.a)(r,1)[0];return n.splice(a,0,s),n}(this.state.blocks,e.source.index,e.destination.index);this.setState({blocks:t})}}},{key:"componentWillReceiveProps",value:function(e){e.currentGroup!==this.state.currentGroup&&e.currentGroup.blocks&&this.setState({blocks:e.currentGroup.blocks})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:Rt.a.Panel},r.a.createElement("div",{className:Rt.a.Header},r.a.createElement("div",null,r.a.createElement("h3",null,this.props.currentGroup.name," Blocks")),r.a.createElement("div",null,r.a.createElement(ut.a,{className:Rt.a.PanelButton,type:"primary",icon:"plus",onClick:this.showModal,disabled:!this.props.currentGroup.id},"Add Block"))),r.a.createElement("div",{className:Rt.a.Body},r.a.createElement("div",{style:{height:"100%",width:"100%",overflowY:"auto"}},r.a.createElement(aa.a,{onDragEnd:this.onDragEnd},r.a.createElement(aa.c,{droppableId:"droppable"},function(t){return r.a.createElement("div",{ref:t.innerRef},e.state.blocks.map(function(e,t){return r.a.createElement(aa.b,{key:e.id,draggableId:e.order,index:t},function(t){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:(a=t.draggableProps.style,Object(N.a)({margin:"0 0 8px 0"},a))}),r.a.createElement(ta,{block:e}));var a})}),t.placeholder)})))),r.a.createElement(Sa,{visible:this.state.visible,handleAddBlock:this.handleAddBlock,closeModal:this.closeModal}))}}]),t}(n.Component),wa=yt.a.create()(Oa),ka=(a(400),a(150)),xa=a.n(ka),ja=a(1),Aa=a.n(ja),Ta=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:xa.a.Panel},r.a.createElement("div",{className:xa.a.Header},r.a.createElement("div",{style:{display:"-webkit-inline-box"}},r.a.createElement(ut.a,{onClick:this.context.router.history.goBack,type:"primary",icon:"left",shape:"circle",size:"small"}),r.a.createElement("h3",null,this.props.assistantName))))}}]),t}(n.Component);Ta.contextTypes={router:Aa.a.object};var Ga=Ta,Ca=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentGroup:{blocks:[]}},a.selectGroup=function(e){return a.setState({currentGroup:e})},a.addGroup=function(e){var t=a.props.location.state.assistant;a.props.dispatch(X.addGroupRequest({ID:t.ID,newGroup:e})),lt.a.loading("Adding ".concat(e.name," group"),0)},a.editGroup=function(e){var t=a.props.location.state.assistant;a.props.dispatch(X.editGroupRequest({ID:t.ID,editedGroup:e})),lt.a.loading("Editing ".concat(e.name," group"),0)},a.deleteGroup=function(e){var t=a.props.location.state.assistant;a.props.dispatch(X.deleteGroupRequest({ID:t.ID,deletedGroup:e})),lt.a.loading("Deleting ".concat(e.name," group"),0)},a.addBlock=function(e){a.props.location.state.assistant},a.editBlock=function(e){a.props.location.state.assistant},a.deleteBlock=function(e){a.props.location.state.assistant},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state.assistant;this.props.dispatch(X.fetchFlowRequest(e.ID))}},{key:"componentDidUpdate",value:function(e){this.props.isAddingGroup||e.addSuccessMsg===this.props.addSuccessMsg||(lt.a.destroy(),lt.a.success(this.props.addSuccessMsg)),this.props.isEditingGroup||e.editSuccessMsg===this.props.editSuccessMsg||(lt.a.destroy(),lt.a.success(this.props.editSuccessMsg)),this.props.isDeletingGroup||e.deleteSuccessMsg===this.props.deleteSuccessMsg||(lt.a.destroy(),lt.a.success(this.props.deleteSuccessMsg))}},{key:"render",value:function(){var e=this.props.location.state.assistant;return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("div",{style:{padding:"0 5px"}},r.a.createElement("div",{style:{width:"100%",height:56,marginBottom:10}},r.a.createElement(Ga,{assistantName:e.Name}))),r.a.createElement("div",{style:{height:"calc(100% - 66px)",width:"100%",display:"flex"}},r.a.createElement("div",{style:{margin:5,width:"30%"}},r.a.createElement(Kt,{selectGroup:this.selectGroup,isLoading:this.props.isLoading,groupsList:this.props.blockGroups,addGroup:this.addGroup,editGroup:this.editGroup,deleteGroup:this.deleteGroup})),r.a.createElement("div",{style:{margin:5,width:"70%"}},r.a.createElement(wa,{addBlock:this.addBlock,editBlock:this.editBlock,deleteBlock:this.deleteBlock,currentGroup:this.state.currentGroup}))))}}]),t}(n.Component);var Ia=Object(Et.a)(function(e){return{blockGroups:e.flow.blockGroups,isLoading:e.flow.isLoading,addSuccessMsg:e.flow.addSuccessMsg,editSuccessMsg:e.flow.editSuccessMsg,deleteSuccessMsg:e.flow.deleteSuccessMsg,isAddingGroup:e.flow.isAddingGroup,isEditingGroup:e.flow.isEditingGroup,isDeletingGroup:e.flow.isDeletingGroup}})(Ca),Da=(a(401),a(120)),Ua=a.n(Da),Ma=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("div",{className:Ua.a.Panel},r.a.createElement("div",{className:Ua.a.Panel_Header},r.a.createElement("div",null,r.a.createElement("h3",null,"User Profile"),r.a.createElement("p",null,"Here you can edit your profile configs"))),r.a.createElement("div",{className:Ua.a.Panel_Body},r.a.createElement("h3",null,"Profile component works"),r.a.createElement("p",null,"You need to add components from ant-design"))))}}]),t}(n.Component),_a=rt.a.SubMenu,Pa=rt.a.Divider,Fa=st.a.Header,Na=st.a.Content,La=st.a.Footer,Ra=st.a.Sider,Ba=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1,marginLeft:200},a.toggle=function(){a.setState({collapsed:!a.state.collapsed},function(){return a.setState({marginLeft:a.state.collapsed?81:200})})},a.handleMenuClick=function(e){"dashboard"===e.key?E.push("/dashboard"):E.push("/dashboard/".concat(e.key))},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.match;return r.a.createElement(st.a,{style:{height:"100%"}},r.a.createElement(Ra,{trigger:null,collapsible:!0,collapsed:this.state.collapsed,className:ct.a.Sider},r.a.createElement("div",{className:ct.a.Logo},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(ot.a,{type:"cloud",theme:"twoTone",twoToneColor:"#9254de",style:{fontSize:44}}),r.a.createElement("div",{style:{lineHeight:"43px",marginLeft:25}},"TheSearchBase"))),r.a.createElement(rt.a,{theme:"light",defaultSelectedKeys:["1"],mode:"inline",onClick:this.handleMenuClick},r.a.createElement(rt.a.Item,{key:"dashboard"},r.a.createElement(ot.a,{type:"home"}),r.a.createElement("span",null,"Home")),r.a.createElement(rt.a.Item,{key:"assistants"},r.a.createElement(ot.a,{type:"robot"}),r.a.createElement("span",null,"Assistants")),r.a.createElement(Pa,null),r.a.createElement(_a,{key:"sub2",title:r.a.createElement("span",null,r.a.createElement(ot.a,{type:"user"}),r.a.createElement("span",null,"Account Detail"))},r.a.createElement(rt.a.Item,{key:"profile"},r.a.createElement(ot.a,{type:"profile"}),"Profile"),r.a.createElement(rt.a.Item,{key:"users-management",style:{fontSize:"9pt"}},r.a.createElement(ot.a,{type:"usergroup-add"}),"Users Management")),r.a.createElement(rt.a.Item,{key:"billing"},r.a.createElement(ot.a,{type:"dollar"}),r.a.createElement("span",null,"Billing")),r.a.createElement(rt.a.Item,{key:"support"},r.a.createElement(ot.a,{type:"question-circle"}),r.a.createElement("span",null,"Support")))),r.a.createElement(st.a,{style:{marginLeft:this.state.marginLeft,height:"100%"}},r.a.createElement(Fa,{className:ct.a.Header},r.a.createElement(ot.a,{className:ct.a.trigger,type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle})),r.a.createElement(Na,{style:{margin:16,marginTop:80,marginBottom:0,height:"100%"}},r.a.createElement(d.a,null,r.a.createElement(h.a,{path:"".concat(e.path,"/assistants/:id/flow"),component:Ia}),r.a.createElement(h.a,{path:"".concat(e.path,"/assistants"),component:Nt,exact:!0}),r.a.createElement(h.a,{path:"".concat(e.path,"/profile"),component:Ma,exact:!0}))),r.a.createElement(La,{style:{textAlign:"center",padding:10}},"The Search Base \xa92018")))}}]),t}(n.Component),qa=a(232),Ha=a.n(qa),Qa=(a(402),yt.a.Item),Wa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),a.props.dispatch(Y.login(t.email,t.password)))})},a.handleLogout=function(){a.props.dispatch(Y.logout())},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:Ha.a.Panel,style:{padding:75,textAlign:"center"}},r.a.createElement(Ht.a,{size:128,icon:"user",style:{marginBottom:50}}),r.a.createElement(yt.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(Qa,null,e("email",{rules:[{required:!0,message:"Please input your email!"}]})(r.a.createElement(St.a,{prefix:r.a.createElement(ot.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r.a.createElement(Qa,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(St.a,{prefix:r.a.createElement(ot.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(Qa,null,r.a.createElement(ut.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"))))}}]),t}(r.a.Component);var za=yt.a.create()(Wa),Va=Object(b.b)(function(e){return{isLoggingIn:e.auth.isLoggingIn}})(za),Ja=function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(l.a)(this,Object(u.a)(t).call(this,e)),E.listen(function(e,t){console.log("The current URL is ".concat(e.pathname).concat(e.search).concat(e.hash))}),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(h.a,{path:"/login",component:Va}),r.a.createElement(nt,{path:"/dashboard",component:Ba}),r.a.createElement(m.a,{to:{pathname:"/dashboard"}}))}}]),t}(n.Component),Ya=Object(f.a)(Object(b.b)(function(e){return{alert:e.alert}})(Ja));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ka=a(424),Xa=r.a.createElement(b.a,{store:et},r.a.createElement(Ka.a,{history:E},r.a.createElement(Ya,null)));o.a.render(Xa,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},43:function(e,t,a){e.exports=a.p+"static/media/Flow.module.e3d4eba2.less"},72:function(e,t,a){e.exports=a.p+"static/media/Assistants.module.fe0086b2.less"},85:function(e,t,a){e.exports=a.p+"static/media/Dashboard.module.4a51061d.less"}},[[236,2,1]]]);
//# sourceMappingURL=main.07f65375.chunk.js.map