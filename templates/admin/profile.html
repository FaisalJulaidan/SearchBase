{% extends "admin/base.html" %}
{% block headlinks %}
<title>Profile </title>

<!-- Bootstrap -->
<link href="/static/vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Font Awesome -->
<link href="/static/vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
<!-- NProgress -->
<link href="/static/vendors/nprogress/nprogress.css" rel="stylesheet">
<!-- bootstrap-daterangepicker -->
<link href="/static/vendors/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet">

<!-- Custom Theme Style -->
<link href="/static/build/css/custom.min.css" rel="stylesheet">
<link href="/static/css/admin.css" rel="stylesheet">

{% endblock %}

{% block content %}
<div class="right_col" role="main">
    <div class="">
        <div class="page-title">
            <div class="title_left">
                <h3>User Profile</h3>
            </div>
        </div>

        <div class="clearfix"></div>

        <!-- Account Details -->
        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                    <div class="x_title">
                        <h2>
                            User Report
                            <small>Activity report</small>
                        </h2>
                        <ul class="nav navbar-right panel_toolbox">
                            <li>
                                <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                            </li>
                        </ul>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <div class="col-md-3 col-sm-3 col-xs-12 profile_left">
                            <div class="profile_img">
                                <div id="crop-avatar">
                                    <!-- Current avatar -->
                                    <img class="img-responsive avatar-view" src="/static/images/img.jpg"
                                         alt="Avatar">
                                </div>
                            </div>
                            <div id="outputDiv">
                                <form id="profileForm" action="/admin/profile" method="post">

                                    <h3 id="nameh3" style="display:inline-block;">{{ user[2] }} {{ user[3] }}</h3><img id="editName" class="editIcon" src="../static/images/pencil-edit-button.png" />
                                    <input id="names" name="names" value="{{user[2]}} {{user[3]}}" /><img id="saveName" class="tickIcon" src="../static/images/tick.png" /><img id="cancelName" class="crossIcon" src="../static/images/cross.png" />
                                    <br />
                                    <h4 id="emailh4" style="display:inline-block;">{{ user[5] }}</h4><img id="editEmail" class="editIcon" src="../static/images/pencil-edit-button.png" />
                                    <input id="email" name="email" value="{{user[5]}}" /><img id="saveEmail" class="tickIcon" src="../static/images/tick.png" /><img id="cancelEmail" class="crossIcon" src="../static/images/cross.png" />

                                    <br />
                                    <br />
                                    <ul class="list-unstyled user_data">
                                        <li>
                                            <i class="fa fa-briefcase user-profile-icon"></i> {{ companyName }}
                                        </li>

                                        <li class="m-top-xs">
                                            <i class="fa fa-external-link user-profile-icon"></i>
                                            <a href="https://www.thesearchbase.com/chatbot/{{ companyName }}"
                                               target="_blank">Assistant</a>
                                        </li>
                                    </ul>
                                    <button class="btn btn-success">Save Changes</button>
                                </form>
                            </div>
                        </div>
                    </div>
                    <button href="/account/changepassword" class="btn btn-success">Change Password</button>
                    <button href="/" class="btn btn-success">Reset Password</button>
                </div>
            </div>
        </div>

        <!-- Company Details -->
        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                    <div class="x_title">
                        <h2>Account Details</h2>
                        <ul class="nav navbar-right panel_toolbox">
                            <li>
                                <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                            </li>
                        </ul>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <div id="accountDataDiv" class="col-md-3 col-sm-3 col-xs-12 profile_left">

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endblock %}

    {% block javascript %}
    <!-- jQuery -->
    <script src="/static/vendors/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="/static/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- FastClick -->
    <script src="/static/vendors/fastclick/lib/fastclick.js"></script>
    <!-- NProgress -->
    <script src="/static/vendors/nprogress/nprogress.js"></script>
    <!-- morris.js -->
    <script src="/static/vendors/raphael/raphael.min.js"></script>
    <script src="/static/vendors/morris.js/morris.min.js"></script>
    <!-- bootstrap-progressbar -->
    <script src="/static/vendors/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
    <!-- bootstrap-daterangepicker -->
    <script src="/static/vendors/moment/min/moment.min.js"></script>
    <script src="/static/vendors/bootstrap-daterangepicker/daterangepicker.js"></script>

    <!-- Custom Theme Scripts -->
    <script src="/static/build/js/custom.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDExVDw_47y0U4kukU1A0UscjXE7qDTRhk&callback=initMap"></script>

    <script>
        if ("{{email}}" !== "") {
            makeCookie("UserEmail", "{{email}}", 1);
        }
        //name changer
        nameh3 = document.getElementById("nameh3");
        editName = document.getElementById("editName");
        saveName = document.getElementById("saveName");
        cancelName = document.getElementById("cancelName");
        names = document.getElementById("names");
        saveName.style = "display:none;";
        cancelName.style = "display:none;";
        names.style = "display:none;";

        editName.onclick = function () {
            nameh3.style = "display:none";
            editName.style = "display:none";
            saveName.style = "display:inline-block;";
            cancelName.style = "display:inline-block;";
            names.style = "display:inline-block;";
        };

        saveName.onclick = function () {
            nameh3.style = "display:inline-block";
            editName.style = "display:inline-block";
            saveName.style = "display:none;";
            cancelName.style = "display:none;";
            names.style = "display:none;";
            nameh3.innerHTML = names.value;
        };

        cancelName.onclick = function () {
            nameh3.style = "display:inline-block";
            editName.style = "display:inline-block";
            saveName.style = "display:none;";
            cancelName.style = "display:none;";
            names.style = "display:none;";
        };

        //email changer
        emailh4 = document.getElementById("emailh4");
        editEmail = document.getElementById("editEmail");
        saveEmail = document.getElementById("saveEmail");
        cancelEmail = document.getElementById("cancelEmail");
        email = document.getElementById("email");
        saveEmail.style = "display:none;";
        cancelEmail.style = "display:none;";
        email.style = "display:none;";

        editEmail.onclick = function () {
            emailh4.style = "display:none";
            editEmail.style = "display:none";
            saveEmail.style = "display:inline-block;";
            cancelEmail.style = "display:inline-block;";
            email.style = "display:inline-block;";
        };

        saveEmail.onclick = function () {
            emailh4.style = "display:inline-block";
            editEmail.style = "display:inline-block";
            saveEmail.style = "display:none;";
            cancelEmail.style = "display:none;";
            email.style = "display:none;";
            emailh4.innerHTML = email.value;
        };

        cancelEmail.onclick = function () {
            emailh4.style = "display:inline-block";
            editEmail.style = "display:inline-block";
            saveEmail.style = "display:none;";
            cancelEmail.style = "display:none;";
            email.style = "display:none;";
        };


        //inputD = document.getElementById("inputDiv");
        //outputD = document.getElementById("outputDiv");
        //editB = document.getElementById("EditB");
        //editB.addEventListener("click", openForm);
        //document.getElementById("cancelB").addEventListener("click", closeForm);
        //document.getElementById("submit").onclick = function () {
        //    document.getElementById("form").submit();
        //};

        //inputDiv.style = "display:none";

        //function openForm() {
        //    outputD.style = "display:none";
        //    editB.style = "display:none";
        //    inputD.style = "display:block";
        //}

        //function closeForm() {
        //    outputD.style = "display:block";
        //    editB.style = "display:block";
        //    inputD.style = "display:none";
        //}
    </script>
    {% endblock %}
