{% extends "admin/base.html" %}

{% block title %}Users{% endblock %}

{% block content %}
<div class="right_col" role="main">
  <div class="">
      <div class="page-title">
          <div class="title_left">
              <h3>Users</h3>
          </div>
      </div>
      <div class="clearfix"></div>
      <div class="row">
          <div class="col-md-12 col-sm-12 col-xs-12">
              <div class="x_panel">

                  <p>A list of all of the users with access to your account </p>
                  <div class="table-responsive">
                      <table class="table table-striped jambo_table bulk_action">
                          <thead>
                              <!-- Beginning of data -->
                              <tr id="tableHeadingUIn" class="headings">
                                  <th class="column-title">User ID</th>
                                  <th class="column-title">Name </th>
                                  <th class="column-title">Email </th>
                                  <th class="column-title">Last Access </th>
                                  <th class="column-title">Permission Level </th>
                                  <th class="column-title no-link last">
                                      <span class="nobr">Delete User</span>
                                  </th>
                              </tr>
                              <!-- End of data -->
                          </thead>

                          <tbody id="tBodyUIn">
                              <!-- Start -->
                              {%for user in users%}
                              <tr class="even pointer">
                                  <td class=" ">{{user[0]}}</td>
                                  <td class=" ">{{user[2]}} {{user[3]}}</td>
                                  <td class=" ">{{user[5]}}</td>
                                  <td class=" ">Not implemented</td>
                                  <td class=" ">{{user[4]}}</td>
                                  <td class=" "><strong><a href="/admin/users/delete/{{user[0]}}">Delete</a></strong></td>
                              </tr>
                              {%endfor%}
                              <!-- End -->
                          </tbody>
                      </table>
                  </div>
              </div>

              <div class="x_panel">

                  <p>Enter the details of the additional user</p>
                  <!-- Content should go here -->

                  <form action="/admin/users/add" method="post" enctype="multipart/form-data">

                      <!-- User's details -->
                      <input class="form-control col-md-5 col-xs-10" id="user_fullname" type="text" name="fullname" placeholder="First and Last Name *">
                      <br />
                      <br />
                      <br />
                      <input class="form-control col-md-3 col-xs-10" id="user-email" type="text" name="email" placeholder="Email *">
                      <br />
                      <br />
                      <br />
                      <!-- Options for the user to select roles. -->
                      <select id="user_role" name="accessLevel" required>
                          <br />
                          <option value="Admin">Admin</option>
                          <option value="user">User</option>
                      </select>

                      <br />
                      <br />

                      <!-- Submit button -->
                      <input class="btn btn-success" type="submit" value="Save" />

                  </form>

                  <!-- Content should go here -->
              </div>
          </div>
      </div>
  </div>
</div>
{% endblock %}

{% block customJS %}
  <!-- Custom Theme Scripts -->
  <script src="/static/build/js/custom.min.js"></script>

  <script>
  inputD = document.getElementById("inputDiv");
  outputD = document.getElementById("outputDiv");
  editB = document.getElementById("EditB");
  editB.addEventListener("click", openForm);
  document.getElementById("cancelB").addEventListener("click", closeForm);
  document.getElementById("submit").onclick = function() {
      document.getElementById("form").submit();
  };

  inputDiv.style = "display:none";
  function openForm(){
      outputD.style = "display:none";
      editB.style = "display:none";
      inputD.style = "display:block";
  }
  function closeForm(){
      outputD.style = "display:block";
      editB.style = "display:block";
      inputD.style = "display:none";
  }
  </script>
{% endblock %}
